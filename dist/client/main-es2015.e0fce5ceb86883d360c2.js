(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{0:function(t,e){},1:function(t,e,i){t.exports=i("zUnb")},2:function(t,e){},3:function(t,e){},AytR:function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));const n={identityUrl:"http://10.1.0.137:8080/api/Identity/api",sharedUrl:"http://10.1.0.137:8080/api/Okaps/api",adminUrl:"http://10.1.0.137:8080/api/Admin/api",integrationUrl:"http://10.1.0.137:8080/api/Integration/api",fileServer:"http://10.1.0.137:8080/api/Okaps",production:!1}},Ebh2:function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));var n=i("D57K"),a=i("EM62");let o=(()=>{class t{constructor(t,e){this.cfr=t,this.injector=e,this.loadOkapsRegisterComponent=(t,e)=>Object(n.a)(this,void 0,void 0,(function*(){const{LazyOkapsRegisterComponent:n}=yield i.e(11).then(i.bind(null,"+XkY"));return this._resolve(n,t,e||this.injector)})),this.loadAgreementComponent=(t,e)=>Object(n.a)(this,void 0,void 0,(function*(){const{LazyAgreementComponent:n}=yield i.e(7).then(i.bind(null,"NkVz"));return this._resolve(n,t,e||this.injector)})),this.loadApplicationStatusComponent=(t,e)=>Object(n.a)(this,void 0,void 0,(function*(){const{LazyApplicationStatusComponent:n}=yield i.e(10).then(i.bind(null,"/dfO"));return this._resolve(n,t,e||this.injector)})),this.loadApplicationCheckStatusComponent=(t,e)=>Object(n.a)(this,void 0,void 0,(function*(){const{LazyApplicationCheckStatusComponent:n}=yield i.e(8).then(i.bind(null,"FZ7h"));return this._resolve(n,t,e||this.injector)})),this.loadApplicationCompleeteComponent=(t,e)=>Object(n.a)(this,void 0,void 0,(function*(){const{LazyApplicationCompleeteComponent:n}=yield i.e(9).then(i.bind(null,"KHg+"));return this._resolve(n,t,e||this.injector)})),this._resolve=(t,e,i)=>{const n=this.cfr.resolveComponentFactory(t),{instance:a}=e.createComponent(n,null,i);return a}}}return t.\u0275fac=function(e){return new(e||t)(a.Yb(a.j),a.Yb(a.s))},t.\u0275prov=a.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},KBE0:function(t,e,i){"use strict";i.d(e,"a",(function(){return s}));var n=i("EM62"),a=i("OZ4H"),o=i("PBFl"),c=i("bFHC");let s=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Ib({type:t,selectors:[["app-dialog-title"]],inputs:{title:"title",readonly:"readonly"},decls:7,vars:3,consts:[["mat-dialog-title",""],[1,"d-flex","justify-content-between","align-items-center"],["mat-icon-button","","mat-dialog-close","",2,"line-height","2.4"],[2,"font-size","1.4rem"]],template:function(t,e){1&t&&(n.Ub(0,"div",0),n.Ub(1,"div",1),n.Ub(2,"span"),n.Dc(3),n.Tb(),n.Ub(4,"button",2),n.Ub(5,"mat-icon",3),n.Dc(6,"close"),n.Tb(),n.Tb(),n.Tb(),n.Tb()),2&t&&(n.Cb(3),n.Ec(e.title),n.Cb(1),n.Fb("access-readonly",e.readonly))},directives:[a.i,o.b,a.e,c.a],styles:[""],changeDetection:0}),t})()},MROq:function(t,e,i){var n={"./af":"8GSH","./af.js":"8GSH","./ar":"NcOb","./ar-dz":"1ors","./ar-dz.js":"1ors","./ar-kw":"Sc1Y","./ar-kw.js":"Sc1Y","./ar-ly":"GzvP","./ar-ly.js":"GzvP","./ar-ma":"hH25","./ar-ma.js":"hH25","./ar-sa":"u2jB","./ar-sa.js":"u2jB","./ar-tn":"5Mza","./ar-tn.js":"5Mza","./ar.js":"NcOb","./az":"ZVVJ","./az.js":"ZVVJ","./be":"kQaN","./be.js":"kQaN","./bg":"+n5x","./bg.js":"+n5x","./bm":"TTiN","./bm.js":"TTiN","./bn":"aIF2","./bn.js":"aIF2","./bo":"QWb5","./bo.js":"QWb5","./br":"iQoZ","./br.js":"iQoZ","./bs":"EL7g","./bs.js":"EL7g","./ca":"vd/2","./ca.js":"vd/2","./cs":"K+3W","./cs.js":"K+3W","./cv":"Jt3X","./cv.js":"Jt3X","./cy":"sWi3","./cy.js":"sWi3","./da":"YcFX","./da.js":"YcFX","./de":"BKZ+","./de-at":"Oq9h","./de-at.js":"Oq9h","./de-ch":"hHY4","./de-ch.js":"hHY4","./de.js":"BKZ+","./dv":"w8Ej","./dv.js":"w8Ej","./el":"tSbB","./el.js":"tSbB","./en-au":"HgyJ","./en-au.js":"HgyJ","./en-ca":"ZyTy","./en-ca.js":"ZyTy","./en-gb":"exaB","./en-gb.js":"exaB","./en-ie":"yKzn","./en-ie.js":"yKzn","./en-il":"TB59","./en-il.js":"TB59","./en-in":"S70V","./en-in.js":"S70V","./en-nz":"iDxo","./en-nz.js":"iDxo","./en-sg":"zS0P","./en-sg.js":"zS0P","./eo":"4bvN","./eo.js":"4bvN","./es":"GNPT","./es-do":"R7mU","./es-do.js":"R7mU","./es-us":"Nstw","./es-us.js":"Nstw","./es.js":"GNPT","./et":"ZOjb","./et.js":"ZOjb","./eu":"kFC9","./eu.js":"kFC9","./fa":"8Cju","./fa.js":"8Cju","./fi":"vcN1","./fi.js":"vcN1","./fil":"3g1g","./fil.js":"3g1g","./fo":"8Ygf","./fo.js":"8Ygf","./fr":"Y8Ij","./fr-ca":"t+Zl","./fr-ca.js":"t+Zl","./fr-ch":"SPXN","./fr-ch.js":"SPXN","./fr.js":"Y8Ij","./fy":"T3MF","./fy.js":"T3MF","./ga":"NowM","./ga.js":"NowM","./gd":"GJYX","./gd.js":"GJYX","./gl":"MdC8","./gl.js":"MdC8","./gom-deva":"QJjq","./gom-deva.js":"QJjq","./gom-latn":"5j0y","./gom-latn.js":"5j0y","./gu":"fY0S","./gu.js":"fY0S","./he":"ACAV","./he.js":"ACAV","./hi":"3WqV","./hi.js":"3WqV","./hr":"OnNk","./hr.js":"OnNk","./hu":"EQmw","./hu.js":"EQmw","./hy-am":"MNf7","./hy-am.js":"MNf7","./id":"0yow","./id.js":"0yow","./is":"TmOJ","./is.js":"TmOJ","./it":"xD/0","./it-ch":"foQf","./it-ch.js":"foQf","./it.js":"xD/0","./ja":"jOnb","./ja.js":"jOnb","./jv":"lOtj","./jv.js":"lOtj","./ka":"BAN/","./ka.js":"BAN/","./kk":"iNiw","./kk.js":"iNiw","./km":"TUxt","./km.js":"TUxt","./kn":"hQzt","./kn.js":"hQzt","./ko":"ZNZT","./ko.js":"ZNZT","./ku":"S0Tg","./ku.js":"S0Tg","./ky":"JO+T","./ky.js":"JO+T","./lb":"vn/h","./lb.js":"vn/h","./lo":"gnIm","./lo.js":"gnIm","./lt":"6PD3","./lt.js":"6PD3","./lv":"YKe2","./lv.js":"YKe2","./me":"d3TR","./me.js":"d3TR","./mi":"hTlv","./mi.js":"hTlv","./mk":"ffVN","./mk.js":"ffVN","./ml":"ejL1","./ml.js":"ejL1","./mn":"RIsM","./mn.js":"RIsM","./mr":"CPJk","./mr.js":"CPJk","./ms":"d5Hy","./ms-my":"t4T9","./ms-my.js":"t4T9","./ms.js":"d5Hy","./mt":"1KVU","./mt.js":"1KVU","./my":"LsNb","./my.js":"LsNb","./nb":"h+U8","./nb.js":"h+U8","./ne":"2JSI","./ne.js":"2JSI","./nl":"jsZ8","./nl-be":"+h6j","./nl-be.js":"+h6j","./nl.js":"jsZ8","./nn":"mh29","./nn.js":"mh29","./oc-lnc":"zX+o","./oc-lnc.js":"zX+o","./pa-in":"O6bP","./pa-in.js":"O6bP","./pl":"8Bez","./pl.js":"8Bez","./pt":"DDip","./pt-br":"uHm5","./pt-br.js":"uHm5","./pt.js":"DDip","./ro":"baBi","./ro.js":"baBi","./ru":"ecsu","./ru.js":"ecsu","./sd":"e9KM","./sd.js":"e9KM","./se":"CZRU","./se.js":"CZRU","./si":"TO58","./si.js":"TO58","./sk":"K+Lk","./sk.js":"K+Lk","./sl":"QK6v","./sl.js":"QK6v","./sq":"v3Qg","./sq.js":"v3Qg","./sr":"Ndyf","./sr-cyrl":"PGvg","./sr-cyrl.js":"PGvg","./sr.js":"Ndyf","./ss":"2B8G","./ss.js":"2B8G","./sv":"WF5B","./sv.js":"WF5B","./sw":"4VvY","./sw.js":"4VvY","./ta":"dw3T","./ta.js":"dw3T","./te":"4MAb","./te.js":"4MAb","./tet":"/hi0","./tet.js":"/hi0","./tg":"PoVJ","./tg.js":"PoVJ","./th":"OY2w","./th.js":"OY2w","./tk":"zO4H","./tk.js":"zO4H","./tl-ph":"UC+K","./tl-ph.js":"UC+K","./tlh":"cWLW","./tlh.js":"cWLW","./tr":"EqYs","./tr.js":"EqYs","./tzl":"fN8o","./tzl.js":"fN8o","./tzm":"6cYq","./tzm-latn":"pdAN","./tzm-latn.js":"pdAN","./tzm.js":"6cYq","./ug-cn":"J+SV","./ug-cn.js":"J+SV","./uk":"6Olw","./uk.js":"6Olw","./ur":"QNGR","./ur.js":"QNGR","./uz":"hLzJ","./uz-latn":"KqOT","./uz-latn.js":"KqOT","./uz.js":"hLzJ","./vi":"EnIJ","./vi.js":"EnIJ","./x-pseudo":"W7dU","./x-pseudo.js":"W7dU","./yo":"QDhB","./yo.js":"QDhB","./zh-cn":"bjMe","./zh-cn.js":"bjMe","./zh-hk":"JFCg","./zh-hk.js":"JFCg","./zh-mo":"5BRa","./zh-mo.js":"5BRa","./zh-tw":"xBDH","./zh-tw.js":"xBDH"};function a(t){var e=o(t);return i(e)}function o(t){if(!i.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}a.keys=function(){return Object.keys(n)},a.resolve=o,t.exports=a,a.id="MROq"},Ns5P:function(t,e,i){"use strict";i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return a}));var n=function(t){return t[t.LoanApplication=1]="LoanApplication",t[t.LoanApplicationTask=2]="LoanApplicationTask",t[t.PKB=3]="PKB",t[t.Comment=4]="Comment",t[t.GKB=5]="GKB",t[t.Personality=6]="Personality",t[t.UserImage=7]="UserImage",t}({}),a=function(t){return t[t.Individual=1]="Individual",t[t.Legal=2]="Legal",t}({})},UCkh:function(t,e,i){"use strict";i.d(e,"b",(function(){return d})),i.d(e,"a",(function(){return u}));var n=i("f7+R");const a=Object(n.g)([Object(n.n)({transform:"translateX(-100%)",opacity:0}),Object(n.e)(".5s 0s ease-in",Object(n.n)({transform:"translateX(0)",opacity:1}))]),o=(Object(n.g)([Object(n.n)({zIndex:0}),Object(n.e)(".5s 0s ease-out",Object(n.n)({transform:"translateX(-100%)",opacity:0}))]),Object(n.g)([Object(n.n)({transform:"translateX(100%)",opacity:0}),Object(n.e)("{{ delay }} 0s ease-in",Object(n.n)({transform:"translateX(0)",opacity:1}))],{params:{delay:".5s"}})),c=Object(n.g)([Object(n.e)(".5s 0s ease-out",Object(n.n)({transform:"translateX(100%)",opacity:0}))]),s=Object(n.g)([Object(n.n)({transform:"translateY(-100%)",opacity:0}),Object(n.e)(".5s 0s ease-in",Object(n.n)({transform:"translateY(0)",opacity:1}))]),r=(Object(n.g)([Object(n.e)(".5s 0s ease-out",Object(n.n)({transform:"translateY(-100%)",opacity:1}))]),Object(n.g)([Object(n.n)({transform:"translateY(100%)",opacity:0}),Object(n.e)(".5s 0s ease-in",Object(n.n)({transform:"translateY(0)",opacity:1}))])),l=(Object(n.g)([Object(n.e)(".5s 0s ease-out",Object(n.n)({transform:"translateY(100%)",opacity:1}))]),Object(n.g)([Object(n.e)(".5s 0s ease-out",Object(n.n)({opacity:0}))])),b=Object(n.g)([Object(n.n)({opacity:0}),Object(n.e)(".5s 0s ease-in",Object(n.n)({opacity:1}))]),d=Object(n.p)("fadeIn",[Object(n.o)(":enter",Object(n.q)(b))]),u=Object(n.p)("fadeInOut",[Object(n.o)(":enter",Object(n.q)(b)),Object(n.o)(":leave",Object(n.q)(l))]);Object(n.p)("fadeOut",[Object(n.o)(":leave",Object(n.q)(l))]),Object(n.p)("slideYTopIn",[Object(n.o)(":enter",Object(n.q)(s))]),Object(n.p)("slideXInOut",[Object(n.o)(":enter",Object(n.q)(o)),Object(n.o)(":leave",Object(n.q)(c))]),Object(n.p)("slideXRightIn",[Object(n.o)(":enter",Object(n.q)(o))]),Object(n.p)("slideXLeftIn",[Object(n.o)(":enter",Object(n.q)(a))]),Object(n.p)("slideYBottomIn",[Object(n.o)(":enter",Object(n.q)(r))]),Object(n.p)("fadeInSequence",function(t=":enter",e="250ms ease-out"){return[Object(n.o)("* => *",[Object(n.j)(t,[Object(n.n)({opacity:0,transform:"translateY(-5px)"}),Object(n.l)("60ms",[Object(n.e)(e,Object(n.n)({opacity:1,transform:"translateY(0px)"}))])],{optional:!0})])]}()),Object(n.p)("fadeInOutSequence",[Object(n.o)("* => *",[Object(n.j)(":enter",[Object(n.n)({opacity:0}),Object(n.l)(100,[Object(n.e)("0.3s",Object(n.n)({opacity:1}))])],{optional:!0}),Object(n.j)(":leave",Object(n.l)(100,[Object(n.e)("0.3s",Object(n.n)({opacity:0}))]),{optional:!0})])])},YK1a:function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));var n=i("EM62"),a=i("csyo");let o=(()=>{class t{constructor(){this._random=()=>Math.floor(2*Math.random())+1>1?"primary":"accent"}ngOnInit(){this.color||(this.color=this._random())}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Ib({type:t,selectors:[["app-loader"]],inputs:{color:"color"},decls:2,vars:1,consts:[[1,"absolute-container"],[3,"color"]],template:function(t,e){1&t&&(n.Ub(0,"div",0),n.Pb(1,"mat-spinner",1),n.Tb()),2&t&&(n.Cb(1),n.mc("color",e.color))},directives:[a.b],styles:[""]}),t})()},aXPi:function(t,e,i){"use strict";var n=i("ZTXN"),a=i("g6G6"),o=i("J+dc"),c=i("kuMc"),s=i("YtkY"),r=i("8j5Y"),l=i("W1gw"),b=i("EM62");e.a=(()=>{class t{constructor(t){this.injector=t,this._status$=new n.a,this._errors$=new n.a,this._messages$=new n.a,this._loading$=new n.a,this._closed$=new n.a,this.openConnection=()=>{this._trackErrors(),this._layer=function(t,e,i){const n=new WebSocket("wss://127.0.0.1:13579/");return n.onopen=function(){t.next(!0),console.info("Connection opened")},n.onclose=function(i){if(t.next(!1),i.wasClean)return console.info("Connection closed");e.next({text:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0438 \u043a NCALayer, \u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u0435 NCALayer \u0438 \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0441\u043d\u043e\u0432\u0430."})},n.onerror=function(t){console.log("Error occurred",t)},n.onmessage=function(t){i.next(t)},{authorize:()=>{n.send(JSON.stringify({module:"kz.gov.pki.knca.commonUtils",method:"getKeyInfo",args:["PKCS12"]}))},close:()=>n.close(),signXml:t=>{n.send(JSON.stringify({module:"kz.gov.pki.knca.commonUtils",method:"signXml",args:["PKCS12","SIGNATURE",t,"",""]}))}}}(this._status$,this._errors$,this._messages$)},this.authorize=()=>this._layer.authorize(),this.signXml=t=>this._layer.signXml(t),this.closeConnection=()=>{this._layer&&(this._closed$.next(),this._layer.close(),this._layer=null)},this.openLayer$=t=>(this._loading$.next(!0),this.openConnection(),this._status$.pipe(Object(o.a)(1)).subscribe(e=>{e&&t()}),this._messages$.pipe(Object(c.a)(this._closed$)).pipe(Object(s.a)(t=>{const e=JSON.parse(t.data);return parseInt(e.code)>=500?(this._loading$.next(!1),this.closeConnection()):e}))),this._trackErrors=()=>{this.errorSub&&this.errorSub.unsubscribe(),this.errorSub=this._errors$.pipe(Object(c.a)(this._closed$)).subscribe(t=>{t.text?this.snackbar.open(t.text,"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c",{duration:1e4}):console.log(t)})},this.loadingSub=Object(a.a)(this._closed$,this._errors$).pipe(Object(r.a)(()=>this._loading$.next(!1))).subscribe(),this.snackbar=t.get(l.b)}get loading$(){return this._loading$.pipe(Object(c.a)(this._closed$))}setLoading(t){this._loading$.next(t)}ngOnDestroy(){this.closeConnection(),this._closed$.complete(),this.loadingSub&&this.loadingSub.unsubscribe(),this.errorSub&&this.errorSub.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(b.Ob(b.s))},t.\u0275dir=b.Jb({type:t}),t})()},easA:function(t,e,i){"use strict";i.d(e,"a",(function(){return A}));var n=i("2kYt"),a=i("nIj0"),o=i("3lkL"),c=i("Meci"),s=i("Y2X+"),r=i("v9BS"),l=i("3Uyd"),b=i("Jb3d"),d=i("bFHC"),u=i("cePI"),m=i("Cd2c"),h=i("FlRo"),p=i("OZ4H"),f=i("R7+U"),g=i("PBFl"),v=i("x9Az"),T=i("zmEM"),y=i("+Tre"),U=i("W1gw"),D=i("66mq"),C=i("iAde"),O=i("29Wa"),I=i("gcUQ"),S=i("mFH5"),w=i("csyo"),k=i("apAI"),x=(i("xzWC"),i("KBE0"),i("jL5/"),i("EM62"));i("nsO7"),i("ZTXN"),i("kuMc"),i("YtkY");var j=i("nwW+");i("YK1a");let P=(()=>{class t{transform(t,e,i){return F(t,e,i)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=x.Nb({name:"formatCurrency",type:t,pure:!0}),t})();const F=(t,e,i)=>{if(!t&&!i)return"0.00";if(!t)return"";if(t=t.toString().replace(/\B(?=(\d{3})+(?!\d))/g," "),!e){const e=t.indexOf(".");if(-1==e)t+=".00";else if(e==t.length-1)t+="00";else{const i=t.substring(e+1);t=1==i.length?t+"0":t.replace("."+i,"."+i.replace(" ","").substr(0,2))}}return t},R=[c.b,d.b,u.c,b.a,m.c,h.l,p.g,f.b,g.c,v.d,T.b,y.b,U.c,C.c,O.d,I.c,k.b,w.a,s.b,r.b,l.b,a.k,D.b];let A=(()=>{class t{}return t.\u0275mod=x.Mb({type:t}),t.\u0275inj=x.Lb({factory:function(e){return new(e||t)},providers:[P,j.a,{provide:S.f,useValue:"ru-RU"},{provide:k.a,useValue:{useUtc:!0}},{provide:S.e,useValue:{parse:{dateInput:["l","LL"]},display:{dateInput:"L",monthYearLabel:"MMM YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MMMM YYYY"}}}],imports:[[n.c,a.t,o.b.forChild(),...R],n.c,a.t,o.b,c.b,d.b,u.c,b.a,m.c,h.l,p.g,f.b,g.c,v.d,T.b,y.b,U.c,C.c,O.d,I.c,k.b,w.a,s.b,r.b,l.b,a.k,D.b]}),t})()},"jL5/":function(t,e,i){"use strict";i.d(e,"a",(function(){return c}));var n=i("OZ4H"),a=i("EM62"),o=i("PBFl");let c=(()=>{class t{constructor(t){this.data=t}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(a.Ob(n.a))},t.\u0275cmp=a.Ib({type:t,selectors:[["app-confirmation-dialog"]],decls:10,vars:3,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions",""],["type","button","mat-dialog-close","","mat-button",""],["type","button","mat-button","",3,"mat-dialog-close"]],template:function(t,e){1&t&&(a.Ub(0,"div",0),a.Dc(1),a.Tb(),a.Ub(2,"div",1),a.Ub(3,"p"),a.Dc(4),a.Tb(),a.Tb(),a.Ub(5,"div",2),a.Ub(6,"button",3),a.Dc(7,"\u041e\u0442\u043c\u0435\u043d\u0430"),a.Tb(),a.Ub(8,"button",4),a.Dc(9,"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c"),a.Tb(),a.Tb()),2&t&&(a.Cb(1),a.Fc(" ",e.data.title,"\n"),a.Cb(3),a.Ec(e.data.text),a.Cb(4),a.mc("mat-dialog-close",!0))},directives:[n.i,n.f,n.d,o.b,n.e],styles:[""],changeDetection:0}),t})()},lGQG:function(t,e,i){"use strict";i.d(e,"a",(function(){return m}));var n=i("vobO"),a=i("YtkY"),o=i("ruxD"),c=i("4e/d"),s=i("8j5Y"),r=i("WSu0"),l=i("C05f"),b=i("ROBh"),d=i("AytR"),u=i("EM62");let m=(()=>{class t{constructor(t){this.http=t,this.url=d.a.sharedUrl+"/users",this.tokenKey="accessToken",this.refreshKey="refreshToken",this.exchanging$=new l.a(!1),this.registerUser=t=>this.http.post(this.url+"/register",t),this.login=t=>this.http.post(this.url+"/login",t).pipe(Object(a.a)(t=>(this._setLocalStorage(t),this.loadFromStorage()))),this.getProfile=()=>this.http.get(this.url+"/profile").pipe(Object(a.a)(t=>t)),this.exchangeRefreshToken=()=>!this._refreshToken()||this.exchanging$.value?Object(b.a)(!1):(this.exchanging$.next(!0),this.http.post(this.url+"/refresh",{},{headers:new n.d({"X-Refresh-Token":this._refreshToken(),"X-Access-Token":this.token()})}).pipe(Object(o.a)(()=>this.exchanging$.next(!1)),Object(c.a)(()=>Object(b.a)(null).pipe(Object(s.a)(()=>this.exchanging$.next(!1)))),Object(a.a)(t=>(this._setLocalStorage(t),t.data)))),this.logout=()=>{localStorage.removeItem(this.tokenKey),localStorage.removeItem(this.refreshKey)},this.loadFromStorage=()=>this._decodeToken(),this.token=()=>localStorage.getItem(this.tokenKey),this._refreshToken=()=>localStorage.getItem(this.refreshKey),this._decodeToken=()=>{const t=localStorage.getItem(this.tokenKey);return(t?r(t):null)||null},this._setLocalStorage=t=>{t&&(localStorage.setItem(this.tokenKey,t.data.accessToken),localStorage.setItem(this.refreshKey,t.data.refreshToken))}}}return t.\u0275fac=function(e){return new(e||t)(u.Yb(n.b))},t.\u0275prov=u.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},"nwW+":function(t,e,i){"use strict";i.d(e,"a",(function(){return r})),i.d(e,"b",(function(){return b}));var n=i("C05f"),a=i("TLy2"),o=i("YtkY"),c=i("EM62"),s=i("vobO");let r=(()=>{class t{constructor(t){this.http=t,this.certificate=()=>this.locale(l.certificate),this.file=()=>this.locale(l.file),this.switchLocale=t=>{localStorage.setItem("lang",t),b.signal$.next(t)},this.locale=t=>b.signal$.pipe(Object(a.a)(e=>this.http.get(t).pipe(Object(o.a)(t=>t[e]))))}}return t.\u0275fac=function(e){return new(e||t)(c.Yb(s.b))},t.\u0275prov=c.Kb({token:t,factory:t.\u0275fac}),t})();const l={certificate:"./assets/certificate.json",file:"./assets/file.json"};let b=(()=>{class t{}return t.signal$=new n.a(["kz","ru"].indexOf(localStorage.getItem("lang"))>-1?localStorage.getItem("lang"):"ru"),t})()},rvT1:function(t,e,i){"use strict";i.d(e,"a",(function(){return c}));var n=i("nwW+"),a=i("EM62"),o=i("vobO");let c=(()=>{class t extends n.a{constructor(t){super(t),this.login=()=>this.locale(s.login),this.register=()=>this.locale(s.register),this.navigation=()=>this.locale(s.navigation)}}return t.\u0275fac=function(e){return new(e||t)(a.Yb(o.b))},t.\u0275prov=a.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const s={login:"./assets/okaps-login.json",register:"./assets/okaps-register.json",navigation:"./assets/okaps-navigation.json"}},vQRv:function(t,e,i){"use strict";function n(){return t=>function(t){const{value:e}=t;let i=e.length>0;return i?(i=/^\d+$/.test(e),i?(i=12===e.length,i?void 0:{invalidIin:!0,message:"\u0418\u0418\u041d \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0438\u0437 12 \u0446\u0438\u0444\u0440"}):{invalidIin:!0,message:"\u0418\u0418\u041d \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0438\u0437 \u0446\u0438\u0444\u0440"}):{invalidIin:!0,message:"\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"}}(t)}i.d(e,"a",(function(){return n}))},w4gY:function(t,e,i){"use strict";i.d(e,"a",(function(){return m}));var n=i("EM62"),a=i("OZ4H"),o=i("C05f"),c=i("UCkh"),s=i("W1gw"),r=i("2kYt"),l=i("YK1a");const b=["container"];function d(t,e){1&t&&(n.Ub(0,"div",3),n.Pb(1,"app-loader"),n.Tb()),2&t&&n.mc("@fadeInOut",void 0)}function u(t,e){}let m=(()=>{class t{constructor(t,e,i){this.data=t,this.injector=e,this.snackbar=i,this.loading$=new o.a(!0),this._log=t=>{this.snackbar.open(t,"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c",{duration:1e4})}}ngOnInit(){}ngAfterViewInit(){if(!this.data.method)return this._log("Dialog's data has no 'method' property");this.data.method(this.container,this.injector).then(()=>this.loading$.next(!1)).catch(t=>{throw this.loading$.next(!1),this._log("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442"),new Error(t)})}}return t.\u0275fac=function(e){return new(e||t)(n.Ob(a.a),n.Ob(n.s),n.Ob(s.b))},t.\u0275cmp=n.Ib({type:t,selectors:[["app-okaps-dialog"]],viewQuery:function(t,e){var i;1&t&&n.Jc(b,!0,n.P),2&t&&n.sc(i=n.dc())&&(e.container=i.first)},decls:5,vars:3,consts:[[1,"mh-300"],["class","absolute-container",4,"ngIf"],["container",""],[1,"absolute-container"]],template:function(t,e){1&t&&(n.Ub(0,"div",0),n.Bc(1,d,2,1,"div",1),n.hc(2,"async"),n.Bc(3,u,0,0,"ng-template",null,2,n.Cc),n.Tb()),2&t&&(n.Cb(1),n.mc("ngIf",n.ic(2,1,e.loading$)))},directives:[r.l,l.a],pipes:[r.b],styles:[""],data:{animation:[c.a]},changeDetection:0}),t})()},xzWC:function(t,e,i){"use strict";i.d(e,"a",(function(){return m}));var n=i("EM62"),a=i("YtkY"),o=i("jL5/"),c=i("UCkh"),s=i("aXPi"),r=i("OZ4H"),l=i("nwW+"),b=i("2kYt"),d=i("PBFl");function u(t,e){if(1&t){const t=n.Vb();n.Ub(0,"button",1),n.cc("click",(function(){return n.vc(t),n.gc().certificate()})),n.hc(1,"async"),n.Dc(2),n.Tb()}if(2&t){const t=e.ngIf,i=n.gc();n.Fb("access-readonly",n.ic(1,4,i.certificateLoading)||i.disabled),n.mc("@fadeIn",void 0),n.Cb(2),n.Fc(" ",t.choose,"\n")}}let m=(()=>{class t extends s.a{constructor(t,e,i){super(i),this.dialog=t,this.locale=e,this.disabled=!1,this.certificateLoaded=new n.o,this.certificateLoading=new n.o,this.certificate=()=>{this.loading$.subscribe(t=>this.certificateLoading.next(t)),this.layerSub&&this.layerSub.unsubscribe(),this.layerSub=this.openLayer$(()=>this.authorize()).pipe(Object(a.a)(t=>{if(!t)return;const{code:e,responseObject:i}=t;if("200"===e&&i){const{certNotAfter:t}=i;if(new Date>new Date(+t))return this.dialog.open(o.a,{data:{title:this._error,text:this._expired}}),this.closeConnection();this.certificateLoaded.emit(i),this.closeConnection()}})).subscribe()}}ngOnInit(){this.locale$=this.locale.certificate().pipe(Object(a.a)(t=>(this._error=t.error,this._expired=t.expired,t)))}}return t.\u0275fac=function(e){return new(e||t)(n.Ob(r.c),n.Ob(l.a),n.Ob(n.s))},t.\u0275cmp=n.Ib({type:t,selectors:[["app-certificate"]],inputs:{disabled:"disabled"},outputs:{certificateLoaded:"certificateLoaded",certificateLoading:"certificateLoading"},features:[n.zb],decls:2,vars:3,consts:[["mat-flat-button","","type","button","style","line-height: 2.3;","class","mt-3 px-5 w-xs-100","color","primary",3,"access-readonly","click",4,"ngIf"],["mat-flat-button","","type","button","color","primary",1,"mt-3","px-5","w-xs-100",2,"line-height","2.3",3,"click"]],template:function(t,e){1&t&&(n.Bc(0,u,3,6,"button",0),n.hc(1,"async")),2&t&&n.mc("ngIf",n.ic(1,1,e.locale$))},directives:[b.l,d.b],pipes:[b.b],styles:[""],data:{animation:[c.b]},changeDetection:0}),t})()},zUnb:function(t,e,i){"use strict";i.r(e);var n=i("EM62"),a=i("AytR"),o=i("A7yd"),c=i("lQ7A"),s=i("jdnZ"),r=i("KZIX"),l=i("Meci"),b=i("F1o0"),d=i("nKqi"),u=i("OZ4H"),m=i("3lkL"),h=i("sEIs"),p=i("nwW+"),f=i("w4gY"),g=i("rvT1"),v=i("Ebh2"),T=i("PBFl"),y=i("2kYt"),U=i("nIj0"),D=i("sN6X"),C=i("kuMc"),O=i("YtkY"),I=i("ZTXN"),S=i("J+dc");const w=t=>t.auth,k=Object(D.o)(w,t=>t.user),x=Object(D.o)(w,t=>t.claims),j={selectAuth:w,selectUser:k,selectClaims:x,selectClaimsOnce:t=>t.pipe(Object(S.a)(1),Object(D.p)(x))};var P=i("kdn0");const F=Object(P.a)("auth/login"),R=Object(P.a)("auth/logout"),A=Object(P.a)("auth/loadFromStorage"),B=Object(P.a)("auth/loadProfile"),$=Object(P.b)({name:"auth",initialState:{user:null,claims:null,loading:!1},reducers:{loggingIn:t=>{t.loading=!0},loggedIn:(t,e)=>{t.claims=e.payload},loggedOut:t=>{t.claims=null,t.user=null},loginFailure:t=>{t.loading=!1},setProfile:(t,e)=>{t.user=e.payload,t.loading=!1}}}),{loggedIn:N,loggedOut:z,loginFailure:L,loggingIn:E,setProfile:M}=$.actions;var V=$.reducer;const q={loggedIn:N,loggedOut:z,loginFailure:L,loggingIn:E,login:F,logout:R,loadFromStorage:A,setProfile:M,loadProfile:B};var _=i("UCkh"),H=i("vQRv");const Y=t=>t.pipe(Object(D.p)(t=>t.lizing.contractsData),Object(O.a)(t=>{const e={contracts:[]};return Object.keys(t).forEach(i=>{if(null!==t[i].productForm&&null!==t[i].calculatorResult){const n={techTypeId:t[i].productForm.techType.id,techSubtypeId:t[i].productForm.techSubtype.id,techProductId:t[i].productForm.techProduct.id,techModelId:t[i].productForm.model.id,countryId:t[i].productForm.manufacturer.id,providerId:t[i].productForm.supplier.id,price:t[i].productForm.price,count:t[i].productForm.count},a=[];t[i].accessories.forEach(t=>{null!==t.accessoryForm&&a.push({id:t.accessoryForm.id,techProductId:t.accessoryForm.techProduct.id,techModelId:t.accessoryForm.model.id,countryId:t.accessoryForm.manufacturer.id,providerId:t.accessoryForm.supplier.id,price:t.accessoryForm.price,count:t.accessoryForm.count})});const o={technic:n,accessories:a,calculator:{period:t[i].calculatorForm.period,coFinancing:t[i].calculatorForm.coFinancing},hasProvisions:t[i].hasProvisions,provisions:t[i].provisions};t[i].permanent&&(o.id=i),e.contracts.push(o)}}),e})),G=t=>t.pipe(Object(D.p)(t=>t.lizing.contractsData),Object(O.a)(t=>{let e=0;return Object.keys(t).forEach(i=>{null!==t[i].productForm&&(e+=t[i].productForm.price*t[i].productForm.count,t[i].accessories.forEach(t=>{null!==t.accessoryForm&&(e+=t.accessoryForm.price*t.accessoryForm.count)}))}),e}));var J=i("IVkz");const K={techTypesCollection:[],techSubtypesCollection:[],techProductsCollection:[],modelsCollection:[],manufacturersCollection:[],suppliersCollection:[]},W={permanent:!1,productForm:null,productDictionaries:K,accessories:[{accessoryForm:null,accessoryDictionaries:K}],calculatorResult:null,calculatorForm:{coFinancing:20,period:3},hasProvisions:!1,provisions:[]},Q=Object(J.a)(),X={contracts:[Q],contractsData:{[Q]:W},submitted:!1,persistant:!1},Z=Object(P.b)({name:"lizing",initialState:X,reducers:{updateState:(t,e)=>{t.applicationId=e.payload.applicationId,t.contracts=e.payload.contracts,t.contractsData=e.payload.contractsData,t.submitted=e.payload.submitted,t.persistant=e.payload.persistant},setSubmitted:t=>{t.submitted=!0},addContract:t=>{let e=Object(J.a)();t.contracts.push(e),t.contractsData[e]=W},removeContract:(t,e)=>{if(t.contracts=t.contracts.filter(t=>t!==e.payload),delete t.contractsData[e.payload],0===t.contracts.length){const e=Object(J.a)();t.contracts.push(e),t.contractsData[e]=W}},clearAllContracts(t){const e=Object(J.a)();t.contracts.splice(0),Object.keys(t.contractsData).forEach(e=>{delete t.contractsData[e]}),delete t.applicationId,t.contracts.push(e),t.contractsData[e]=W,t.submitted=!1,t.persistant=!1},updateProductDictionaries:(t,e)=>{t.contractsData[e.payload.contractIndex].productDictionaries=e.payload.dictionaries},addOrUpdateProductForm:(t,e)=>{t.contractsData[e.payload.contractIndex].productForm=e.payload.form},updateAccessoryDictionaries:(t,e)=>{t.contractsData[e.payload.contractIndex].accessories[e.payload.accessoryIndex].accessoryDictionaries=e.payload.dictionaries},addOrUpdateAccessoryForm:(t,e)=>{t.contractsData[e.payload.contractIndex].accessories.length-1===e.payload.accessoryIndex&&t.contractsData[e.payload.contractIndex].accessories.push({accessoryForm:null,accessoryDictionaries:K}),t.contractsData[e.payload.contractIndex].accessories[e.payload.accessoryIndex].accessoryForm=e.payload.form},removeAccessory:(t,e)=>{t.contractsData[e.payload.contractIndex].accessories.splice(e.payload.accessoryIndex,1),0===t.contractsData[e.payload.contractIndex].accessories.length&&t.contractsData[e.payload.contractIndex].accessories.push({accessoryForm:null,accessoryDictionaries:K})},setCalculatorResult:(t,e)=>{t.contractsData[e.payload.contractIndex].calculatorResult=e.payload.data},setCalculatorPeriod:(t,e)=>{t.contractsData[e.payload.contractIndex].calculatorForm.period=e.payload.period},setCalculatorCoFinancing:(t,e)=>{t.contractsData[e.payload.contractIndex].calculatorForm.coFinancing=e.payload.coFinancing},addProvisioning:(t,e)=>{t.contractsData[e.payload.contractIndex].provisions.push(e.payload.data)},editProvisioning:(t,e)=>{t.contractsData[e.payload.contractIndex].provisions[e.payload.provisioningIndex]=e.payload.data},removeProvisioning:(t,e)=>{t.contractsData[e.payload.contractIndex].provisions.splice(e.payload.provisioningIndex,1)},setHasProvisioning:(t,e)=>{t.contractsData[e.payload.contractId].hasProvisions=e.payload.hasProvisioning}}}),{updateState:tt,setSubmitted:et,addContract:it,removeContract:nt,clearAllContracts:at,addOrUpdateProductForm:ot,updateProductDictionaries:ct,updateAccessoryDictionaries:st,addOrUpdateAccessoryForm:rt,removeAccessory:lt,setCalculatorResult:bt,setCalculatorPeriod:dt,setCalculatorCoFinancing:ut,addProvisioning:mt,editProvisioning:ht,removeProvisioning:pt,setHasProvisioning:ft}=Z.actions;var gt=Z.reducer,vt=i("W1gw"),Tt=i("D57K"),yt=i("vobO");let Ut=(()=>{class t{constructor(t){this.http=t,this.baseUrl=a.a.sharedUrl+"/LoanApplication",this.getAllContracts=(t,e)=>this.http.get(`${this.baseUrl}/contracts?page=${t}&pageLimit=${e}`)}createLizingApplication(t){return Object(Tt.a)(this,void 0,void 0,(function*(){return this.http.post(this.baseUrl+"/temp",t).toPromise()}))}updateLizingApplication(t){return Object(Tt.a)(this,void 0,void 0,(function*(){return this.http.put(this.baseUrl+"/update",t).toPromise()}))}getApplications(t,e){return Object(Tt.a)(this,void 0,void 0,(function*(){return this.http.get(`${this.baseUrl}?page=${t}&pageLimit=${e}`).toPromise()}))}removeApplication(t){return Object(Tt.a)(this,void 0,void 0,(function*(){return this.http.delete(`${this.baseUrl}/${t}`).toPromise()}))}getApplicationContracts(t){return Object(Tt.a)(this,void 0,void 0,(function*(){return this.http.get(`${this.baseUrl}/${t}/contracts`).toPromise()}))}getClientDetails(t){return Object(Tt.a)(this,void 0,void 0,(function*(){return this.http.get(`${this.baseUrl}/${t}/details`).toPromise()}))}createClientDetails(t,e){return Object(Tt.a)(this,void 0,void 0,(function*(){return this.http.post(`${this.baseUrl}/${t}/details`,e).toPromise()}))}updateClientDetails(t,e){return Object(Tt.a)(this,void 0,void 0,(function*(){return this.http.put(`${this.baseUrl}/${t}/details`,e).toPromise()}))}addOrUpdateAssets(t,e){return Object(Tt.a)(this,void 0,void 0,(function*(){return this.http.post(`${this.baseUrl}/${t}/activities`,e).toPromise()}))}getAssets(t){return Object(Tt.a)(this,void 0,void 0,(function*(){return this.http.get(`${this.baseUrl}/${t}/activities`).toPromise()}))}addOrUpdateClientExtraDetails(t,e){return Object(Tt.a)(this,void 0,void 0,(function*(){return this.http.post(`${this.baseUrl}/${t}/details/extra`,e).toPromise()}))}getClientExtraDetails(t){return Object(Tt.a)(this,void 0,void 0,(function*(){return this.http.get(`${this.baseUrl}/${t}/details/extra`).toPromise()}))}signAndStartProcess(t,e){return Object(Tt.a)(this,void 0,void 0,(function*(){return this.http.post(`${this.baseUrl}/${t}/sign`,{xml:e}).toPromise()}))}getAllAttachments(){return Object(Tt.a)(this,void 0,void 0,(function*(){return this.http.get(this.baseUrl+"/files").toPromise()}))}}return t.\u0275fac=function(e){return new(e||t)(n.Yb(yt.b))},t.\u0275prov=n.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Dt=i("29Wa"),Ct=i("Cd2c");function Ot(t,e){if(1&t&&(n.Ub(0,"div",13),n.Dc(1),n.Tb()),2&t){const t=n.gc().ngIf;n.Cb(1),n.Ec(t.login)}}function It(t,e){if(1&t&&(n.Ub(0,"mat-hint",14),n.Dc(1),n.Tb()),2&t){const t=n.gc(2);n.mc("@fadeIn",void 0),n.Cb(1),n.Fc(" ",t.login().errors.message," ")}}function St(t,e){if(1&t){const t=n.Vb();n.Ub(0,"div"),n.Bc(1,Ot,2,1,"div",1),n.Ub(2,"form",2),n.cc("ngSubmit",(function(){return n.vc(t),n.gc().submit()})),n.Ub(3,"div",3),n.Ub(4,"div",4),n.Ub(5,"div",5),n.Ub(6,"mat-form-field",6),n.Ub(7,"mat-label"),n.Dc(8,"\u0418\u0418\u041d/\u0411\u0418\u041d"),n.Tb(),n.Pb(9,"input",7),n.Bc(10,It,2,2,"mat-hint",8),n.Tb(),n.Tb(),n.Ub(11,"div",9),n.Ub(12,"mat-form-field",6),n.Ub(13,"mat-label"),n.Dc(14,"\u041f\u0430\u0440\u043e\u043b\u044c"),n.Tb(),n.Pb(15,"input",10),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Ub(16,"div",11),n.Ub(17,"button",12),n.hc(18,"async"),n.Dc(19),n.Tb(),n.Tb(),n.Tb(),n.Tb()}if(2&t){const t=e.ngIf,i=n.gc();n.Cb(1),n.mc("ngIf",i.ref),n.Cb(1),n.mc("formGroup",i.form),n.Cb(8),n.mc("ngIf",i.login().errors&&i.login().errors.invalidIin),n.Cb(7),n.Fb("access-readonly",n.ic(18,7,i.loading$)),n.mc("disabled",i.loadingState),n.Cb(2),n.Fc(" ",t.loginMessage," ")}}let wt=(()=>{class t{constructor(t,e,i,n,a,o,c,s){this.router=t,this.fb=e,this.snackbar=i,this.route=n,this.store=a,this.locale=o,this.applicationService=c,this.ref=s,this.ngDestroyed$=new I.a,this.isLizingSubmitted=!1,this.loadingState=!1,this.submit=()=>{if(this.form.valid)try{this.loadingState=!0,this.store.dispatch(q.loggingIn()),this.store.dispatch(q.login(this.form.value)),this.store.pipe(Object(C.a)(this.ngDestroyed$),Object(D.p)(j.selectUser),Object(O.a)(t=>{t&&this.createLizingApplication()})).subscribe()}finally{this.loadingState=!1}},this.login=()=>this.form.get("login"),this._initializeForm=()=>{this.form=this.fb.group({login:["",Object(H.a)()],password:["",U.u.required]})}}ngOnInit(){this._initializeForm(),this.loading$=this.store.pipe(Object(D.p)(j.selectAuth),Object(O.a)(t=>t.loading)),this.locale$=this.locale.login().pipe(Object(O.a)(t=>(this._loginMessage=t.loginMessage,t))),Y(this.store).pipe(Object(C.a)(this.ngDestroyed$)).subscribe(t=>{this.createLizingFormData=t}),this.store.select(t=>t.lizing.submitted).pipe(Object(C.a)(this.ngDestroyed$)).subscribe(t=>this.isLizingSubmitted=t)}createLizingApplication(){this.isLizingSubmitted&&this.createLizingFormData.contracts.length>0?this.applicationService.createLizingApplication(this.createLizingFormData).then(()=>{this.store.dispatch(at()),this.redirect()}).catch(t=>{let e="\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0437\u0430\u044f\u0432\u043a\u0443. ";t&&t.error&&t.error.Message&&(e+="\u041f\u0440\u0438\u0447\u0438\u043d\u0430: "+t.error.Message),this.snackbar.open(e,null,{duration:7e3})}):this.redirect()}redirect(){this.route.snapshot.queryParamMap.has("returnUrl")?(this.ref&&this.ref.close(),this.router.navigate([this.route.snapshot.queryParamMap.get("returnUrl")])):this.ref?this.ref.close():this.router.navigate(["/"])}ngOnDestroy(){this.ngDestroyed$.next(),this.ngDestroyed$.complete()}}return t.\u0275fac=function(e){return new(e||t)(n.Ob(h.c),n.Ob(U.d),n.Ob(vt.b),n.Ob(h.a),n.Ob(D.h),n.Ob(g.a),n.Ob(Ut),n.Ob(u.h,8))},t.\u0275cmp=n.Ib({type:t,selectors:[["app-okaps-login"]],decls:2,vars:3,consts:[[4,"ngIf"],["mat-dialog-title","",4,"ngIf"],["autocomplete","off",3,"formGroup","ngSubmit"],["mat-dialog-content",""],[1,"row"],[1,"col-12","mb-2"],["appearance","fill"],["autocomplete","organization","cdkFocusInitial","","matInput","","formControlName","login"],["class","warn","align","end",4,"ngIf"],[1,"col-12"],["autocomplete","current-password","matInput","","formControlName","password","type","password"],["mat-dialog-actions",""],["type","submit","mat-flat-button","","color","primary",1,"w-xs-100",3,"disabled"],["mat-dialog-title",""],["align","end",1,"warn"]],template:function(t,e){1&t&&(n.Bc(0,St,20,9,"div",0),n.hc(1,"async")),2&t&&n.mc("ngIf",n.ic(1,1,e.locale$))},directives:[y.l,U.v,U.p,U.i,u.f,Dt.b,Dt.f,Ct.b,U.b,U.o,U.g,u.d,T.b,u.i,Dt.e],pipes:[y.b],styles:[""],data:{animation:[_.b]},changeDetection:0}),t})();function kt(t,e){if(1&t){const t=n.Vb();n.Ub(0,"mat-button-toggle-group",10),n.cc("change",(function(e){return n.vc(t),n.gc().switchLocale(e)})),n.Ub(1,"mat-button-toggle",11),n.Dc(2,"RU"),n.Tb(),n.Ub(3,"mat-button-toggle",12),n.Dc(4,"KZ"),n.Tb(),n.Tb()}2&t&&n.mc("value",e.ngIf)}let xt=(()=>{class t{constructor(t,e,i){this.locale=t,this.dialog=e,this.loader=i,this.register=()=>{this.dialog.open(f.a,{hasBackdrop:!0,disableClose:!0,autoFocus:!1,panelClass:["d-lg","sm-lg","md-lg","lg-md"],data:{method:this.loader.loadOkapsRegisterComponent}})},this.switchLocale=t=>this.locale.switchLocale(t.value)}ngOnInit(){document.getElementsByTagName("main")[0].classList.remove("container-md"),this.currentLocale$=p.b.signal$}ngOnDestroy(){document.getElementsByTagName("main")[0].classList.add("container-md")}}return t.\u0275fac=function(e){return new(e||t)(n.Ob(g.a),n.Ob(u.c),n.Ob(v.a))},t.\u0275cmp=n.Ib({type:t,selectors:[["app-okaps-unauthorized"]],decls:15,vars:3,consts:[[1,"wrapper"],[1,"row","h-100"],[1,"col-md-4"],[1,"row","mt-5"],[1,"col-md-8"],["id","register","type","button","mat-raised-button","",3,"click"],[1,"col-md-4","d-flex","justify-content-end"],[3,"value","change",4,"ngIf"],[1,"m-auto"],[1,"bg"],[3,"value","change"],["value","ru"],["value","kz"]],template:function(t,e){1&t&&(n.Ub(0,"div",0),n.Ub(1,"div",1),n.Ub(2,"div",2),n.Ub(3,"div"),n.Ub(4,"div",3),n.Ub(5,"div",4),n.Ub(6,"button",5),n.cc("click",(function(){return e.register()})),n.Dc(7," \u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f "),n.Tb(),n.Tb(),n.Ub(8,"div",6),n.Bc(9,kt,5,1,"mat-button-toggle-group",7),n.hc(10,"async"),n.Tb(),n.Tb(),n.Tb(),n.Ub(11,"div",8),n.Pb(12,"app-okaps-login"),n.Tb(),n.Tb(),n.Ub(13,"div",4),n.Pb(14,"div",9),n.Tb(),n.Tb(),n.Tb()),2&t&&(n.Cb(9),n.mc("ngIf",n.ic(10,1,e.currentLocale$)))},directives:[T.b,y.l,wt,s.b,s.a],pipes:[y.b],styles:[".wrapper[_ngcontent-%COMP%]{height:calc(100vh - 128px)}.bg[_ngcontent-%COMP%]{background-image:url(/assets/images/background.jpg);height:100%;background-position:50%;background-repeat:no-repeat;background-size:cover}"],changeDetection:0}),t})();class jt{}var Pt=i("lGQG");let Ft=(()=>{class t extends class{constructor(t,e,i,n){this.auth=t,this.selectClaimsOnce=e,this.logout=i,this.injector=n,this.unauthorizedUrl="/unauthorized",this.store=n.get(D.h),this.router=n.get(h.c),this.snackbar=n.get(vt.b)}canActivate(t,e){return this.selectClaimsOnce(this.store).pipe(Object(O.a)(t=>!(!t||!this.auth.token())||(this.store.dispatch(this.logout()),this.router.navigate([this.unauthorizedUrl],{queryParams:{returnUrl:e.url}}),this.snackbar.open("\u041d\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u0430 \u043a \u0434\u0430\u043d\u043d\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435",null,{duration:3e3}),!1)))}}{constructor(t){super(t,j.selectClaimsOnce,q.logout,jt.injector)}}return t.\u0275fac=function(e){return new(e||t)(n.Yb(Pt.a))},t.\u0275prov=n.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Rt=function(t){return t.Lizing="Lizing",t.Credit="Credit",t}({}),At=function(t){return t.New="New",t.Used="Used",t}({}),Bt=function(t){return t[t.Default=0]="Default",t[t.Standard=1]="Standard",t[t.Express=2]="Express",t}({}),$t=i("nsO7");const Nt={techTypesCollection:[],techSubtypesCollection:[],techProductsCollection:[],modelsCollection:[],manufacturersCollection:[],suppliersCollection:[]};var zt=i("Y2X+");let Lt=(()=>{class t{constructor(t,e){this.http=t,this.snackbar=e,this.baseUrl=a.a.sharedUrl+"/Dictionary"}showErrorMessage(t){let e="\u041f\u043e \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u043e\u043c\u0443 \u0441\u043f\u0440\u0430\u0432\u043e\u0447\u043d\u0438\u043a\u0443 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u043e\u0432 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e";t&&(e="\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u043e\u0431\u0440\u0430\u0442\u0438\u0442\u0435\u0441\u044c \u043a \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0443",t.error&&t.error.Message&&(e=t.error.Message)),this.snackbar.open(e,"\u0417\u0430\u043a\u0440\u044b\u0442\u044c",{duration:5e3})}getDictionary(t,e={}){return Object(Tt.a)(this,void 0,void 0,(function*(){let i=new yt.e;Object.keys(e).forEach(t=>{i=i.append(t,e[t])});try{return yield this.http.get(`${this.baseUrl}/${t}`,{params:i}).toPromise()}catch(n){this.showErrorMessage(n)}}))}getTechTypes(t){return Object(Tt.a)(this,void 0,void 0,(function*(){return yield this.getDictionary("techtypes",t)}))}getTechProducts(t){return Object(Tt.a)(this,void 0,void 0,(function*(){return yield this.getDictionary("techproducts",t)}))}getTechModels(t){return Object(Tt.a)(this,void 0,void 0,(function*(){return yield this.getDictionary("techmodels",t)}))}getManufacturers(t){return Object(Tt.a)(this,void 0,void 0,(function*(){return yield this.getDictionary("countries",t)}))}getSuppliers(t){return Object(Tt.a)(this,void 0,void 0,(function*(){return yield this.getDictionary("providers",t)}))}getOwnershipForms(){return Object(Tt.a)(this,void 0,void 0,(function*(){return yield this.getDictionary("ownershipForm")}))}getOked(){return Object(Tt.a)(this,void 0,void 0,(function*(){return yield this.getDictionary("oked")}))}getMarriageStatuses(){return Object(Tt.a)(this,void 0,void 0,(function*(){return yield this.getDictionary("mariageStatus")}))}getOrganisationTypes(){return Object(Tt.a)(this,void 0,void 0,(function*(){return yield this.getDictionary("organizationType")}))}getOwnershipTypes(){return Object(Tt.a)(this,void 0,void 0,(function*(){return yield this.getDictionary("ownershipType")}))}getLandTypes(){return Object(Tt.a)(this,void 0,void 0,(function*(){return yield this.getDictionary("landType")}))}getLivestockTypes(){return Object(Tt.a)(this,void 0,void 0,(function*(){return yield this.getDictionary("livestockType")}))}getFloraCultures(){return Object(Tt.a)(this,void 0,void 0,(function*(){return yield this.getDictionary("floraCulture")}))}getCountries(){return Object(Tt.a)(this,void 0,void 0,(function*(){return yield this.getDictionary("country")}))}getRegions(){return Object(Tt.a)(this,void 0,void 0,(function*(){return yield this.getDictionary("region")}))}getTaxTreatments(){return Object(Tt.a)(this,void 0,void 0,(function*(){return yield this.getDictionary("taxTreatment")}))}getLegalForms(){return Object(Tt.a)(this,void 0,void 0,(function*(){return yield this.getDictionary("legalForm")}))}getSubjectOfEntrepreneurs(){return Object(Tt.a)(this,void 0,void 0,(function*(){return yield this.getDictionary("subjectOfEntrepreneur")}))}getProvisioningTypes(){return Object(Tt.a)(this,void 0,void 0,(function*(){return yield this.getDictionary("provisionType")}))}getProvisioningDescriptions(){return Object(Tt.a)(this,void 0,void 0,(function*(){return yield this.getDictionary("provisionDescription")}))}}return t.\u0275fac=function(e){return new(e||t)(n.Yb(yt.b),n.Yb(vt.b))},t.\u0275prov=n.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Et=(()=>{class t{constructor(t){this.http=t,this.baseUrl=a.a.sharedUrl+"/Calculator"}calculate(t){return Object(Tt.a)(this,void 0,void 0,(function*(){return this.http.post(this.baseUrl+"/calculate",t).toPromise()}))}}return t.\u0275fac=function(e){return new(e||t)(n.Yb(yt.b))},t.\u0275prov=n.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Mt=(()=>{class t{constructor(t,e,i,n,a){this.store=t,this.formBuilder=e,this.dictionaryService=i,this.calculatorService=n,this.snackbar=a,this.ngDestroyed$=new I.a,this.initiallyLoading=!1,this.accessoryIndex=null}ngOnInit(){this.store.select(t=>t.lizing.contractsData[this.id]).pipe(Object(C.a)(this.ngDestroyed$)).subscribe(t=>{void 0!==t&&(this.contract=t)}),this.form=this.generateForm()}ngOnDestroy(){this.ngDestroyed$.next(),this.ngDestroyed$.complete()}get isProductForm(){return null===this.accessoryIndex}get techType(){return this.form.get("techType")}get techSubtype(){return this.form.get("techSubtype")}get techProduct(){return this.form.get("techProduct")}get model(){return this.form.get("model")}get manufacturer(){return this.form.get("manufacturer")}get supplier(){return this.form.get("supplier")}get price(){return this.form.get("price")}get count(){return this.form.get("count")}generateForm(){return this.formBuilder.group({techType:[null!==this.formInitialValues?this.formInitialValues.techType:null,this.isProductForm?[U.u.required]:[]],techSubtype:[null!==this.formInitialValues?this.formInitialValues.techSubtype:null,this.isProductForm?[U.u.required]:[]],techProduct:[null!==this.formInitialValues?this.formInitialValues.techProduct:null,U.u.required],model:[null!==this.formInitialValues?this.formInitialValues.model:null,U.u.required],manufacturer:[null!==this.formInitialValues?this.formInitialValues.manufacturer:null,U.u.required],supplier:[null!==this.formInitialValues?this.formInitialValues.supplier:null,U.u.required],price:[null!==this.formInitialValues?this.formInitialValues.price:null,[U.u.required,U.u.max(this.maxPrice)]],count:[null!==this.formInitialValues?this.formInitialValues.count:null,this.isProductForm?[U.u.required,U.u.min(1)]:[]]})}clearForm(t){const e=[];switch(t){case"techType":e.push(this.techSubtype);case"techSubtype":e.push(this.techProduct);case"techProduct":e.push(this.model);case"model":e.push(this.manufacturer);case"manufacturer":e.push(this.supplier);case"supplier":e.push(this.price);case"price":e.push(this.count)}e.forEach(t=>{t.reset()})}onTechTypeChange(){this.clearForm("techType"),this.isProductForm&&this.dictionaryService.getTechTypes({parentId:this.techType.value.id,loanProductId:"A039445D-6A52-45E0-BCBF-032B850F8FFB"}).then(t=>{0===t.data.list.length&&this.showErrorMessage(),this.store.dispatch(ct({contractIndex:this.id,dictionaries:Object.assign(Object.assign({},this.dictionaries),{techSubtypesCollection:t.data.list})}))}).catch(this.showErrorMessage)}onTechSubtypeChange(){this.clearForm("techSubtype"),this.dictionaryService.getTechProducts({techTypeId:this.techSubtype.value.id}).then(t=>{0===t.data.list.length&&this.showErrorMessage(),this.isProductForm&&this.store.dispatch(ct({contractIndex:this.id,dictionaries:Object.assign(Object.assign({},this.dictionaries),{techProductsCollection:t.data.list})}))}).catch(this.showErrorMessage)}onTechProductChange(){this.clearForm("techProduct");const t={techProductId:this.techProduct.value.id};this.isProductForm||(t.rate=this.contract.calculatorResult.rate),this.dictionaryService.getTechModels(t).then(t=>{0===t.data.list.length&&this.showErrorMessage(),this.store.dispatch(this.isProductForm?ct({contractIndex:this.id,dictionaries:Object.assign(Object.assign({},this.dictionaries),{modelsCollection:t.data.list})}):st({contractIndex:this.id,accessoryIndex:this.accessoryIndex,dictionaries:Object.assign(Object.assign({},this.dictionaries),{modelsCollection:t.data.list})}))}).catch(this.showErrorMessage)}onModelChange(){this.clearForm("model");const t={techModelId:this.model.value.id};this.isProductForm||(t.rate=this.contract.calculatorResult.rate),this.dictionaryService.getManufacturers(t).then(t=>{0===t.data.list.length&&this.showErrorMessage(),this.store.dispatch(this.isProductForm?ct({contractIndex:this.id,dictionaries:Object.assign(Object.assign({},this.dictionaries),{manufacturersCollection:t.data.list})}):st({contractIndex:this.id,accessoryIndex:this.accessoryIndex,dictionaries:Object.assign(Object.assign({},this.dictionaries),{manufacturersCollection:t.data.list})}))}).catch(this.showErrorMessage)}onManufacturerChange(){this.clearForm("manufacturer"),this.dictionaryService.getSuppliers({countryId:this.manufacturer.value.id,techModelId:this.model.value.id}).then(t=>{0===t.data.list.length&&this.showErrorMessage(),this.store.dispatch(this.isProductForm?ct({contractIndex:this.id,dictionaries:Object.assign(Object.assign({},this.dictionaries),{suppliersCollection:t.data.list})}):st({contractIndex:this.id,accessoryIndex:this.accessoryIndex,dictionaries:Object.assign(Object.assign({},this.dictionaries),{suppliersCollection:t.data.list})}))}).catch(this.showErrorMessage)}onSupplierChange(){this.clearForm("supplier")}calculate(){const t={techTypeId:this.contract.productForm.techType.id,techSubTypeId:this.contract.productForm.techSubtype.id,countryId:this.contract.productForm.manufacturer.id,price:this.contract.productForm.price,count:this.contract.productForm.count,accessories:[]};this.contract.accessories.forEach(e=>{null!==e.accessoryForm&&t.accessories.push({price:e.accessoryForm.price,count:e.accessoryForm.count})}),this.calculatorService.calculate(t).then(t=>{this.store.dispatch(bt({contractIndex:this.id,data:t.data}))}).catch(t=>{let e="\u0421\u0435\u0440\u0432\u0438\u0441 \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d. \u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u043a\u0430\u043b\u044c\u043a\u0443\u043b\u044f\u0442\u043e\u0440";t.error&&t.error.Message&&(e=t.error.Message),this.snackbar.open(e,"\u0417\u0430\u043a\u0440\u044b\u0442\u044c",{duration:5e3})})}showErrorMessage(t){let e="\u041f\u043e \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u043e\u043c\u0443 \u0441\u043f\u0440\u0430\u0432\u043e\u0447\u043d\u0438\u043a\u0443 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u043e\u0432 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e";t&&(e="\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u043e\u0431\u0440\u0430\u0442\u0438\u0442\u0435\u0441\u044c \u043a \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0443",t.error&&t.error.Message&&(e=t.error.Message)),this.snackbar.open(e,"\u0417\u0430\u043a\u0440\u044b\u0442\u044c",{duration:5e3})}}return t.\u0275fac=function(e){return new(e||t)(n.Ob(D.h),n.Ob(U.d),n.Ob(Lt),n.Ob(Et),n.Ob(vt.b))},t.\u0275cmp=n.Ib({type:t,selectors:[["app-okaps-lizing-form-base"]],inputs:{id:"id",maxPrice:"maxPrice"},decls:1,vars:0,template:function(t,e){1&t&&n.Pb(0,"template")},encapsulation:2}),t})();var Vt=i("66mq"),qt=i("R7+U"),_t=i("mFH5");function Ht(t,e){1&t&&n.Pb(0,"mat-progress-bar",11)}function Yt(t,e){if(1&t&&(n.Ub(0,"mat-option",15),n.Dc(1),n.Tb()),2&t){const t=e.$implicit;n.mc("value",t),n.Cb(1),n.Fc(" ",t.name," ")}}function Gt(t,e){if(1&t){const t=n.Vb();n.Ub(0,"mat-form-field",12),n.Ub(1,"mat-label"),n.Dc(2,"\u0412\u0438\u0434 \u0442\u0435\u0445\u043d\u0438\u043a\u0438"),n.Tb(),n.Ub(3,"mat-select",13),n.cc("selectionChange",(function(){return n.vc(t),n.gc(2).onTechTypeChange()})),n.Bc(4,Yt,2,2,"mat-option",14),n.Tb(),n.Tb()}if(2&t){const t=n.gc(2);n.Cb(4),n.mc("ngForOf",t.dictionaries.techTypesCollection)}}function Jt(t,e){if(1&t&&(n.Ub(0,"mat-option",15),n.Dc(1),n.Tb()),2&t){const t=e.$implicit;n.mc("value",t),n.Cb(1),n.Fc(" ",t.name," ")}}function Kt(t,e){if(1&t){const t=n.Vb();n.Ub(0,"mat-form-field",12),n.Ub(1,"mat-label"),n.Dc(2,"\u0412\u0438\u0434 \u0441\u0435\u043b\u044c\u0441\u043a\u043e\u0445\u043e\u0437\u044f\u0439\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0439 \u0442\u0435\u0445\u043d\u0438\u043a\u0438"),n.Tb(),n.Ub(3,"mat-select",16),n.cc("selectionChange",(function(){return n.vc(t),n.gc(2).onTechSubtypeChange()})),n.Bc(4,Jt,2,2,"mat-option",14),n.Tb(),n.Tb()}if(2&t){const t=n.gc(2);n.Cb(4),n.mc("ngForOf",t.dictionaries.techSubtypesCollection)}}function Wt(t,e){if(1&t&&(n.Ub(0,"mat-option",15),n.Dc(1),n.Tb()),2&t){const t=e.$implicit;n.mc("value",t),n.Cb(1),n.Fc(" ",t.name," ")}}function Qt(t,e){if(1&t){const t=n.Vb();n.Ub(0,"mat-form-field",12),n.Ub(1,"mat-label"),n.Dc(2,"\u0422\u043e\u0432\u0430\u0440"),n.Tb(),n.Ub(3,"mat-select",17),n.cc("selectionChange",(function(){return n.vc(t),n.gc(2).onTechProductChange()})),n.Bc(4,Wt,2,2,"mat-option",14),n.Tb(),n.Tb()}if(2&t){const t=n.gc(2);n.Cb(4),n.mc("ngForOf",t.dictionaries.techProductsCollection)}}function Xt(t,e){if(1&t&&(n.Ub(0,"mat-option",15),n.Dc(1),n.Tb()),2&t){const t=e.$implicit;n.mc("value",t),n.Cb(1),n.Fc(" ",t.name," ")}}function Zt(t,e){if(1&t){const t=n.Vb();n.Ub(0,"mat-form-field",12),n.Ub(1,"mat-label"),n.Dc(2,"\u041c\u043e\u0434\u0435\u043b\u044c"),n.Tb(),n.Ub(3,"mat-select",18),n.cc("selectionChange",(function(){return n.vc(t),n.gc(2).onModelChange()})),n.Bc(4,Xt,2,2,"mat-option",14),n.Tb(),n.Tb()}if(2&t){const t=n.gc(2);n.Cb(4),n.mc("ngForOf",t.dictionaries.modelsCollection)}}function te(t,e){if(1&t&&(n.Ub(0,"mat-option",15),n.Dc(1),n.Tb()),2&t){const t=e.$implicit;n.mc("value",t),n.Cb(1),n.Fc(" ",t.name," ")}}function ee(t,e){if(1&t){const t=n.Vb();n.Ub(0,"mat-form-field",12),n.Ub(1,"mat-label"),n.Dc(2,"\u0421\u0442\u0440\u0430\u043d\u0430 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0441\u0442\u0432\u0430"),n.Tb(),n.Ub(3,"mat-select",19),n.cc("selectionChange",(function(){return n.vc(t),n.gc(2).onManufacturerChange()})),n.Bc(4,te,2,2,"mat-option",14),n.Tb(),n.Tb()}if(2&t){const t=n.gc(2);n.Cb(4),n.mc("ngForOf",t.dictionaries.manufacturersCollection)}}function ie(t,e){if(1&t&&(n.Ub(0,"mat-option",15),n.Dc(1),n.Tb()),2&t){const t=e.$implicit;n.mc("value",t),n.Cb(1),n.Fc(" ",t.name," ")}}function ne(t,e){if(1&t){const t=n.Vb();n.Ub(0,"mat-form-field",12),n.Ub(1,"mat-label"),n.Dc(2,"\u041f\u043e\u0441\u0442\u0430\u0432\u0449\u0438\u043a"),n.Tb(),n.Ub(3,"mat-select",20),n.cc("selectionChange",(function(){return n.vc(t),n.gc(2).onSupplierChange()})),n.Bc(4,ie,2,2,"mat-option",14),n.Tb(),n.Tb()}if(2&t){const t=n.gc(2);n.Cb(4),n.mc("ngForOf",t.dictionaries.suppliersCollection)}}function ae(t,e){1&t&&(n.Ub(0,"mat-form-field",12),n.Ub(1,"mat-label"),n.Dc(2,"\u0426\u0435\u043d\u0430"),n.Tb(),n.Pb(3,"input",21),n.Tb())}function oe(t,e){1&t&&(n.Ub(0,"mat-form-field",12),n.Ub(1,"mat-label"),n.Dc(2,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"),n.Tb(),n.Pb(3,"input",22),n.Tb())}function ce(t,e){1&t&&(n.Ub(0,"button",23),n.Dc(1," \u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c "),n.Tb())}function se(t,e){if(1&t){const t=n.Vb();n.Ub(0,"form",1),n.cc("ngSubmit",(function(){return n.vc(t),n.gc().onFormSubmit()})),n.Ub(1,"div",2),n.Ub(2,"div",3),n.Ub(3,"div",4),n.Bc(4,Ht,1,0,"mat-progress-bar",5),n.Bc(5,Gt,5,1,"mat-form-field",6),n.Tb(),n.Ub(6,"div",4),n.Bc(7,Kt,5,1,"mat-form-field",6),n.Tb(),n.Tb(),n.Ub(8,"div",3),n.Ub(9,"div",7),n.Bc(10,Qt,5,1,"mat-form-field",6),n.Tb(),n.Ub(11,"div",7),n.Bc(12,Zt,5,1,"mat-form-field",6),n.Tb(),n.Ub(13,"div",7),n.Bc(14,ee,5,1,"mat-form-field",6),n.Tb(),n.Ub(15,"div",7),n.Bc(16,ne,5,1,"mat-form-field",6),n.Tb(),n.Ub(17,"div",7),n.Bc(18,ae,4,0,"mat-form-field",6),n.Tb(),n.Ub(19,"div",7),n.Bc(20,oe,4,0,"mat-form-field",6),n.Tb(),n.Tb(),n.Ub(21,"div",8),n.Ub(22,"div",9),n.Bc(23,ce,2,0,"button",10),n.Tb(),n.Tb(),n.Tb(),n.Tb()}if(2&t){const t=n.gc();n.mc("formGroup",t.form),n.Cb(4),n.mc("ngIf",t.initiallyLoading),n.Cb(1),n.mc("ngIf",t.dictionaries.techTypesCollection.length>0),n.Cb(2),n.mc("ngIf",null!==t.techType.value&&t.dictionaries.techSubtypesCollection.length>0),n.Cb(3),n.mc("ngIf",null!==t.techSubtype.value&&t.dictionaries.techProductsCollection.length>0),n.Cb(2),n.mc("ngIf",null!==t.techProduct.value&&t.dictionaries.modelsCollection.length>0),n.Cb(2),n.mc("ngIf",null!==t.model.value&&t.dictionaries.manufacturersCollection.length>0),n.Cb(2),n.mc("ngIf",null!==t.manufacturer.value&&t.dictionaries.suppliersCollection.length>0),n.Cb(2),n.mc("ngIf",null!==t.supplier.value),n.Cb(2),n.mc("ngIf",null!==t.supplier.value),n.Cb(3),n.mc("ngIf",!t.form.invalid)}}let re=(()=>{class t extends Mt{constructor(t,e,i,n,a){super(t,e,i,n,a),this.store=t,this.formBuilder=e,this.dictionaryService=i,this.calculatorService=n,this.snackbar=a}ngOnInit(){this.store.select(t=>{var e;return null===(e=t.lizing.contractsData[this.id])||void 0===e?void 0:e.productForm}).pipe(Object(C.a)(this.ngDestroyed$)).subscribe(t=>{void 0!==t&&(this.formInitialValues=t)}),this.store.select(t=>{var e;return null===(e=t.lizing.contractsData[this.id])||void 0===e?void 0:e.productDictionaries}).pipe(Object(C.a)(this.ngDestroyed$)).subscribe(t=>{void 0!==t&&(this.dictionaries=t)}),0===this.dictionaries.techTypesCollection.length&&(this.initiallyLoading=!0,this.dictionaryService.getTechTypes({loanProductId:"A039445D-6A52-45E0-BCBF-032B850F8FFB"}).then(t=>{this.store.dispatch(ct({contractIndex:this.id,dictionaries:Object.assign(Object.assign({},this.dictionaries),{techTypesCollection:t.data.list})}))}).finally(()=>this.initiallyLoading=!1)),super.ngOnInit()}onFormSubmit(){this.store.dispatch(ot({contractIndex:this.id,form:this.form.value})),this.calculate()}}return t.\u0275fac=function(e){return new(e||t)(n.Ob(D.h),n.Ob(U.d),n.Ob(Lt),n.Ob(Et),n.Ob(vt.b))},t.\u0275cmp=n.Ib({type:t,selectors:[["app-okaps-lizing-form"]],features:[n.zb],decls:1,vars:1,consts:[[3,"formGroup","ngSubmit",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"container"],[1,"row"],[1,"col"],["mode","indeterminate",4,"ngIf"],["appearance","fill",4,"ngIf"],[1,"col-2"],[1,"row","my-3"],[1,"col","text-center"],["type","submit","color","primary","mat-raised-button","",4,"ngIf"],["mode","indeterminate"],["appearance","fill"],["formControlName","techType",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["formControlName","techSubtype",3,"selectionChange"],["formControlName","techProduct",3,"selectionChange"],["formControlName","model",3,"selectionChange"],["formControlName","manufacturer",3,"selectionChange"],["formControlName","supplier",3,"selectionChange"],["matInput","","formControlName","price","min","1","type","number"],["matInput","","formControlName","count","min","1","type","number"],["type","submit","color","primary","mat-raised-button",""]],template:function(t,e){1&t&&n.Bc(0,se,24,11,"form",0),2&t&&n.mc("ngIf",null===e.formInitialValues)},directives:[y.l,U.v,U.p,U.i,Vt.a,Dt.b,Dt.f,qt.a,U.o,U.g,y.k,_t.n,Ct.b,U.b,U.s,T.b],styles:[""]}),t})();var le=i("cePI"),be=i("FlRo");function de(t,e){if(1&t&&(n.Ub(0,"mat-option",11),n.Dc(1),n.Tb()),2&t){const t=e.$implicit;n.mc("value",t),n.Cb(1),n.Fc(" ",t.name," ")}}function ue(t,e){if(1&t){const t=n.Vb();n.Ub(0,"mat-form-field",8),n.Ub(1,"mat-label"),n.Dc(2,"\u0412\u0438\u0434 \u0442\u0435\u0445\u043d\u0438\u043a\u0438"),n.Tb(),n.Ub(3,"mat-select",9),n.cc("selectionChange",(function(){return n.vc(t),n.gc().onTechTypeChange()})),n.Bc(4,de,2,2,"mat-option",10),n.Tb(),n.Tb()}if(2&t){const t=n.gc();n.Cb(4),n.mc("ngForOf",t.dictionaries.techTypesCollection)}}function me(t,e){if(1&t&&(n.Ub(0,"mat-option",11),n.Dc(1),n.Tb()),2&t){const t=e.$implicit;n.mc("value",t),n.Cb(1),n.Fc(" ",t.name," ")}}function he(t,e){if(1&t){const t=n.Vb();n.Ub(0,"mat-form-field",8),n.Ub(1,"mat-label"),n.Dc(2,"\u041f\u043e\u0434\u0432\u0438\u0434 \u0442\u0435\u0445\u043d\u0438\u043a\u0438"),n.Tb(),n.Ub(3,"mat-select",12),n.cc("selectionChange",(function(){return n.vc(t),n.gc().onTechSubtypeChange()})),n.Bc(4,me,2,2,"mat-option",10),n.Tb(),n.Tb()}if(2&t){const t=n.gc();n.Cb(4),n.mc("ngForOf",t.dictionaries.techSubtypesCollection)}}function pe(t,e){if(1&t&&(n.Ub(0,"mat-option",11),n.Dc(1),n.Tb()),2&t){const t=e.$implicit;n.mc("value",t),n.Cb(1),n.Fc(" ",t.name," ")}}function fe(t,e){if(1&t){const t=n.Vb();n.Ub(0,"mat-form-field",8),n.Ub(1,"mat-label"),n.Dc(2,"\u0422\u043e\u0432\u0430\u0440"),n.Tb(),n.Ub(3,"mat-select",13),n.cc("selectionChange",(function(){return n.vc(t),n.gc().onTechProductChange()})),n.Bc(4,pe,2,2,"mat-option",10),n.Tb(),n.Tb()}if(2&t){const t=n.gc();n.Cb(4),n.mc("ngForOf",t.dictionaries.techProductsCollection)}}function ge(t,e){if(1&t&&(n.Ub(0,"mat-option",11),n.Dc(1),n.Tb()),2&t){const t=e.$implicit;n.mc("value",t),n.Cb(1),n.Fc(" ",t.name," ")}}function ve(t,e){if(1&t){const t=n.Vb();n.Ub(0,"mat-form-field",8),n.Ub(1,"mat-label"),n.Dc(2,"\u041c\u043e\u0434\u0435\u043b\u044c"),n.Tb(),n.Ub(3,"mat-select",14),n.cc("selectionChange",(function(){return n.vc(t),n.gc().onModelChange()})),n.Bc(4,ge,2,2,"mat-option",10),n.Tb(),n.Tb()}if(2&t){const t=n.gc();n.Cb(4),n.mc("ngForOf",t.dictionaries.modelsCollection)}}function Te(t,e){if(1&t&&(n.Ub(0,"mat-option",11),n.Dc(1),n.Tb()),2&t){const t=e.$implicit;n.mc("value",t),n.Cb(1),n.Fc(" ",t.name," ")}}function ye(t,e){if(1&t){const t=n.Vb();n.Ub(0,"mat-form-field",8),n.Ub(1,"mat-label"),n.Dc(2,"\u0421\u0442\u0440\u0430\u043d\u0430 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0441\u0442\u0432\u0430"),n.Tb(),n.Ub(3,"mat-select",15),n.cc("selectionChange",(function(){return n.vc(t),n.gc().onManufacturerChange()})),n.Bc(4,Te,2,2,"mat-option",10),n.Tb(),n.Tb()}if(2&t){const t=n.gc();n.Cb(4),n.mc("ngForOf",t.dictionaries.manufacturersCollection)}}function Ue(t,e){if(1&t&&(n.Ub(0,"mat-option",11),n.Dc(1),n.Tb()),2&t){const t=e.$implicit;n.mc("value",t),n.Cb(1),n.Fc(" ",t.name," ")}}function De(t,e){if(1&t){const t=n.Vb();n.Ub(0,"mat-form-field",8),n.Ub(1,"mat-label"),n.Dc(2,"\u041f\u043e\u0441\u0442\u0430\u0432\u0449\u0438\u043a"),n.Tb(),n.Ub(3,"mat-select",16),n.cc("selectionChange",(function(){return n.vc(t),n.gc().onSupplierChange()})),n.Bc(4,Ue,2,2,"mat-option",10),n.Tb(),n.Tb()}if(2&t){const t=n.gc();n.Cb(4),n.mc("ngForOf",t.dictionaries.suppliersCollection)}}function Ce(t,e){1&t&&(n.Ub(0,"mat-form-field",8),n.Ub(1,"mat-label"),n.Dc(2,"\u0426\u0435\u043d\u0430"),n.Tb(),n.Pb(3,"input",17),n.Tb())}function Oe(t,e){1&t&&(n.Ub(0,"mat-form-field",8),n.Ub(1,"mat-label"),n.Dc(2,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"),n.Tb(),n.Pb(3,"input",18),n.Tb())}function Ie(t,e){1&t&&(n.Ub(0,"button",19),n.Dc(1," \u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c "),n.Tb())}let Se=(()=>{class t extends Mt{constructor(t,e,i,n,a,o,c){super(t,e,i,n,a),this.store=t,this.formBuilder=e,this.dictionaryService=i,this.calculatorService=n,this.snackbar=a,this.dialogRef=o,this.data=c,this.lizingContract=null,this.id=c.id,this.maxPrice=c.maxPrice,this.accessoryIndex=c.accessoryIndex,this.formInitialValues=c.formInitialValues,this.store.select(t=>t.lizing.contractsData[c.id]).pipe(Object(C.a)(this.ngDestroyed$)).subscribe(t=>{t&&(this.lizingContract=t,this.dictionaries=this.isProductForm?t.productDictionaries:t.accessories[this.accessoryIndex].accessoryDictionaries)})}ngOnInit(){super.ngOnInit()}get title(){return this.isProductForm?"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0442\u0435\u0445\u043d\u0438\u043a\u0438":"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435/\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043a\u043e\u043c\u043f\u043b\u0435\u043a\u0442\u0443\u044e\u0449\u0435\u0439"}onFormSubmit(){this.store.dispatch(this.isProductForm?ot({contractIndex:this.id,form:this.form.value}):rt({contractIndex:this.id,accessoryIndex:this.accessoryIndex,form:this.form.value})),this.calculate(),this.dialogRef.close()}}return t.\u0275fac=function(e){return new(e||t)(n.Ob(D.h),n.Ob(U.d),n.Ob(Lt),n.Ob(Et),n.Ob(vt.b),n.Ob(u.h),n.Ob(u.a))},t.\u0275cmp=n.Ib({type:t,selectors:[["app-okaps-lizing-edit-dialog"]],features:[n.zb],decls:17,vars:11,consts:[[1,"form",3,"formGroup","ngSubmit"],[1,"text-center","m-0","mb-4"],["appearance","fill",4,"ngIf"],[1,"row"],[1,"col"],[1,"row","mt-3"],[1,"col","text-center"],["type","submit","color","primary","mat-raised-button","",4,"ngIf"],["appearance","fill"],["formControlName","techType",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["formControlName","techSubtype",3,"selectionChange"],["formControlName","techProduct",3,"selectionChange"],["formControlName","model",3,"selectionChange"],["formControlName","manufacturer",3,"selectionChange"],["formControlName","supplier",3,"selectionChange"],["matInput","","formControlName","price","min","1","type","number"],["matInput","","formControlName","count","min","1","type","number"],["type","submit","color","primary","mat-raised-button",""]],template:function(t,e){1&t&&(n.Ub(0,"form",0),n.cc("ngSubmit",(function(){return e.onFormSubmit()})),n.Ub(1,"h3",1),n.Dc(2),n.Tb(),n.Bc(3,ue,5,1,"mat-form-field",2),n.Bc(4,he,5,1,"mat-form-field",2),n.Bc(5,fe,5,1,"mat-form-field",2),n.Bc(6,ve,5,1,"mat-form-field",2),n.Bc(7,ye,5,1,"mat-form-field",2),n.Bc(8,De,5,1,"mat-form-field",2),n.Ub(9,"div",3),n.Ub(10,"div",4),n.Bc(11,Ce,4,0,"mat-form-field",2),n.Tb(),n.Ub(12,"div",4),n.Bc(13,Oe,4,0,"mat-form-field",2),n.Tb(),n.Tb(),n.Ub(14,"div",5),n.Ub(15,"div",6),n.Bc(16,Ie,2,0,"button",7),n.Tb(),n.Tb(),n.Tb()),2&t&&(n.mc("formGroup",e.form),n.Cb(2),n.Ec(e.title),n.Cb(1),n.mc("ngIf",e.isProductForm&&e.dictionaries.techTypesCollection.length>0),n.Cb(1),n.mc("ngIf",null!==e.techType.value&&e.isProductForm&&e.dictionaries.techSubtypesCollection.length>0),n.Cb(1),n.mc("ngIf",(null!==e.techSubtype.value||!e.isProductForm)&&e.dictionaries.techProductsCollection.length>0),n.Cb(1),n.mc("ngIf",null!==e.techProduct.value&&e.dictionaries.modelsCollection.length>0),n.Cb(1),n.mc("ngIf",null!==e.model.value&&e.dictionaries.manufacturersCollection.length>0),n.Cb(1),n.mc("ngIf",null!==e.manufacturer.value&&e.dictionaries.suppliersCollection.length>0),n.Cb(3),n.mc("ngIf",null!==e.supplier.value),n.Cb(2),n.mc("ngIf",null!==e.supplier.value),n.Cb(3),n.mc("ngIf",!e.form.invalid))},directives:[U.v,U.p,U.i,y.l,Dt.b,Dt.f,qt.a,U.o,U.g,y.k,_t.n,Ct.b,U.b,U.s,T.b],styles:[".form[_ngcontent-%COMP%]{width:400px}"]}),t})();var we=i("bFHC");let ke=(()=>{class t{transform(t,e){return new Intl.NumberFormat(e,{minimumFractionDigits:0}).format(Number(t))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=n.Nb({name:"amountConverter",type:t,pure:!0}),t})();function xe(t,e){1&t&&(n.Ub(0,"th",19),n.Dc(1,"\u2116"),n.Tb())}function je(t,e){if(1&t&&(n.Ub(0,"td",20),n.Dc(1),n.Tb()),2&t){const t=e.index;n.Cb(1),n.Ec(t+1)}}function Pe(t,e){1&t&&(n.Ub(0,"th",19),n.Dc(1,"\u0422\u043e\u0432\u0430\u0440"),n.Tb())}function Fe(t,e){if(1&t&&(n.Ub(0,"td",20),n.Dc(1),n.Tb()),2&t){const t=e.$implicit;n.Cb(1),n.Fc(" ",t.techProductName," ")}}function Re(t,e){1&t&&(n.Ub(0,"th",19),n.Dc(1,"\u041c\u043e\u0434\u0435\u043b\u044c"),n.Tb())}function Ae(t,e){if(1&t&&(n.Ub(0,"td",20),n.Dc(1),n.Tb()),2&t){const t=e.$implicit;n.Cb(1),n.Ec(t.modelName)}}function Be(t,e){1&t&&(n.Ub(0,"th",19),n.Dc(1," \u0421\u0442\u0440\u0430\u043d\u0430 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0441\u0442\u0432\u0430 "),n.Tb())}function $e(t,e){if(1&t&&(n.Ub(0,"td",20),n.Dc(1),n.Tb()),2&t){const t=e.$implicit;n.Cb(1),n.Fc(" ",t.manufacturerName," ")}}function Ne(t,e){1&t&&(n.Ub(0,"th",19),n.Dc(1,"\u041f\u043e\u0441\u0442\u0430\u0432\u0449\u0438\u043a"),n.Tb())}function ze(t,e){if(1&t&&(n.Ub(0,"td",20),n.Dc(1),n.Tb()),2&t){const t=e.$implicit;n.Cb(1),n.Ec(t.supplierName)}}function Le(t,e){1&t&&(n.Ub(0,"th",19),n.Dc(1,"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c"),n.Tb())}function Ee(t,e){if(1&t&&(n.Ub(0,"td",20),n.Dc(1),n.hc(2,"amountConverter"),n.Tb()),2&t){const t=e.$implicit;n.Cb(1),n.Fc(" ",n.jc(2,1,t.price,"ru")," ")}}function Me(t,e){1&t&&(n.Ub(0,"th",19),n.Dc(1,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"),n.Tb())}function Ve(t,e){if(1&t&&(n.Ub(0,"td",20),n.Dc(1),n.Tb()),2&t){const t=e.$implicit;n.Cb(1),n.Ec(t.count)}}function qe(t,e){1&t&&(n.Ub(0,"th",21),n.Dc(1,"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f"),n.Tb())}function _e(t,e){if(1&t){const t=n.Vb();n.Ub(0,"td",20),n.Ub(1,"button",22),n.cc("click",(function(){n.vc(t);const i=e.$implicit,a=e.index,o=n.gc(2);return i.isAccessory?o.onAccessoryEdit(a-1):o.onProductEdit()})),n.Ub(2,"mat-icon"),n.Dc(3,"edit"),n.Tb(),n.Tb(),n.Ub(4,"button",23),n.cc("click",(function(){n.vc(t);const i=e.$implicit,a=e.index,o=n.gc(2);return i.isAccessory?o.onAccessoryRemove(a-1):o.onContractRemove()})),n.Ub(5,"mat-icon"),n.Dc(6,"delete"),n.Tb(),n.Tb(),n.Tb()}if(2&t){const t=n.gc(2);n.Cb(1),n.mc("disabled",t.isReadOnly),n.Cb(3),n.mc("disabled",t.isReadOnly)}}function He(t,e){1&t&&n.Pb(0,"tr",24)}function Ye(t,e){1&t&&n.Pb(0,"tr",25)}function Ge(t,e){if(1&t){const t=n.Vb();n.Ub(0,"div",1),n.Ub(1,"div",2),n.Ub(2,"div",3),n.Ub(3,"table",4),n.Sb(4,5),n.Bc(5,xe,2,0,"th",6),n.Bc(6,je,2,1,"td",7),n.Rb(),n.Sb(7,8),n.Bc(8,Pe,2,0,"th",6),n.Bc(9,Fe,2,1,"td",7),n.Rb(),n.Sb(10,9),n.Bc(11,Re,2,0,"th",6),n.Bc(12,Ae,2,1,"td",7),n.Rb(),n.Sb(13,10),n.Bc(14,Be,2,0,"th",6),n.Bc(15,$e,2,1,"td",7),n.Rb(),n.Sb(16,11),n.Bc(17,Ne,2,0,"th",6),n.Bc(18,ze,2,1,"td",7),n.Rb(),n.Sb(19,12),n.Bc(20,Le,2,0,"th",6),n.Bc(21,Ee,3,4,"td",7),n.Rb(),n.Sb(22,13),n.Bc(23,Me,2,0,"th",6),n.Bc(24,Ve,2,1,"td",7),n.Rb(),n.Sb(25,14),n.Bc(26,qe,2,0,"th",15),n.Bc(27,_e,7,2,"td",7),n.Rb(),n.Bc(28,He,1,0,"tr",16),n.Bc(29,Ye,1,0,"tr",17),n.Tb(),n.Tb(),n.Tb(),n.Ub(30,"div",2),n.Ub(31,"div",3),n.Ub(32,"button",18),n.cc("click",(function(){n.vc(t);const e=n.gc();return e.onAccessoryAdd(e.lizingContract.accessories.length-1)})),n.Dc(33," \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u043c\u043f\u043b\u0435\u043a\u0442\u0443\u044e\u0449\u0435\u0435 "),n.Tb(),n.Tb(),n.Tb(),n.Tb()}if(2&t){const t=n.gc();n.Cb(3),n.mc("dataSource",t.dataSource),n.Cb(25),n.mc("matHeaderRowDef",t.displayedColumns),n.Cb(1),n.mc("matRowDefColumns",t.displayedColumns),n.Cb(3),n.mc("disabled",t.isReadOnly)}}let Je=(()=>{class t{constructor(t,e,i){this.store=t,this.dialogService=e,this.dictionaryService=i,this.isReadOnly=!1,this.ngDestroyed$=new I.a,this.displayedColumns=["position","techProductName","modelName","manufacturerName","supplierName","price","count","actions"],this.lizingContract=null}ngOnInit(){this.store.pipe(Object(D.p)(t=>t.lizing.contractsData[this.id]),Object(O.a)(t=>{const e=[];if(void 0!==t){this.lizingContract=t,null!==t.productForm&&e.push({techProductName:t.productForm.techProduct.name,modelName:t.productForm.model.name,manufacturerName:t.productForm.manufacturer.name,supplierName:t.productForm.supplier.name,price:t.productForm.price,count:t.productForm.count,isAccessory:!1});for(let i=0;i<t.accessories.length;i++)null!==t.accessories[i].accessoryForm&&e.push({techProductName:t.accessories[i].accessoryForm.techProduct.name,modelName:t.accessories[i].accessoryForm.model.name,manufacturerName:t.accessories[i].accessoryForm.manufacturer.name,supplierName:t.accessories[i].accessoryForm.supplier.name,price:t.accessories[i].accessoryForm.price,count:t.accessories[i].accessoryForm.count,isAccessory:!0})}return e})).pipe(Object(C.a)(this.ngDestroyed$)).subscribe(t=>{this.dataSource=new be.k(t),this.dataSource.sort=this.sort})}ngOnDestroy(){this.ngDestroyed$.next(),this.ngDestroyed$.complete()}onProductEdit(){0!==this.dialogService.openDialogs.length||this.isReadOnly||(this.dialogRef=this.dialogService.open(Se,{data:{id:this.id,maxPrice:this.maxPrice,accessoryIndex:null,formInitialValues:this.lizingContract.productForm}}))}onAccessoryEdit(t){0!==this.dialogService.openDialogs.length||this.isReadOnly||(this.dialogRef=this.dialogService.open(Se,{data:{id:this.id,maxPrice:this.maxPrice,accessoryIndex:t,formInitialValues:this.lizingContract.accessories[t].accessoryForm}}))}onAccessoryAdd(t){this.isReadOnly||this.dictionaryService.getTechProducts({accessoryId:"00000000-0000-0000-0000-000000000000"}).then(e=>{this.store.dispatch(st({contractIndex:this.id,accessoryIndex:t,dictionaries:Object.assign(Object.assign({},this.lizingContract.accessories[t].accessoryDictionaries),{techProductsCollection:e.data.list})})),0===this.dialogService.openDialogs.length&&this.dialogService.open(Se,{data:{id:this.id,maxPrice:this.maxPrice,accessoryIndex:t,formInitialValues:this.lizingContract.accessories[t].accessoryForm}})})}onContractRemove(){this.store.dispatch(nt(this.id))}onAccessoryRemove(t){this.store.dispatch(lt({contractIndex:this.id,accessoryIndex:t}))}}return t.\u0275fac=function(e){return new(e||t)(n.Ob(D.h),n.Ob(u.c),n.Ob(Lt))},t.\u0275cmp=n.Ib({type:t,selectors:[["app-okaps-lizing-table"]],viewQuery:function(t,e){var i;1&t&&n.Jc(le.a,!0),2&t&&n.sc(i=n.dc())&&(e.sort=i.first)},inputs:{id:"id",maxPrice:"maxPrice",isReadOnly:"isReadOnly"},decls:1,vars:1,consts:[["class","container",4,"ngIf"],[1,"container"],[1,"row"],[1,"col"],["mat-table","","matSort","",1,"mat-elevation-z8","w-100",3,"dataSource"],["matColumnDef","position"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","techProductName"],["matColumnDef","modelName"],["matColumnDef","manufacturerName"],["matColumnDef","supplierName"],["matColumnDef","price"],["matColumnDef","count"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-raised-button","","color","primary","aria-label","add accessory button",1,"my-3","float-right",3,"disabled","click"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-icon-button","","color","primary","matTooltip","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c","aria-label","edit icon button",1,"m-1",3,"disabled","click"],["mat-icon-button","","color","accent","matTooltip","\u0423\u0434\u0430\u043b\u0438\u0442\u044c","aria-label","delete icon button",1,"my-1","mx-2",3,"disabled","click"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&n.Bc(0,Ge,34,4,"div",0),2&t&&n.mc("ngIf",(null==e.dataSource?null:e.dataSource.data.length)>0)},directives:[y.l,be.j,le.a,be.c,be.e,be.b,be.g,be.i,T.b,be.d,le.b,be.a,zt.a,we.a,be.f,be.h],pipes:[ke],styles:[""]}),t})();var Ke=i("v9BS");function We(t,e){if(1&t&&(n.Ub(0,"p",16),n.Dc(1),n.Ub(2,"b"),n.Dc(3,"? \u0442\u0435\u043d\u0433\u0435"),n.Tb(),n.Dc(4," \u043d\u0430 \u043f\u0440\u043e\u0442\u0438\u0436\u0435\u043d\u0438\u0438 "),n.Ub(5,"b"),n.Dc(6),n.Tb(),n.Dc(7," \u0441 \u0441\u043e\u0444\u0438\u043d\u0430\u043d\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435\u043c \u0432 \u0440\u0430\u0437\u043c\u0435\u0440\u0435 "),n.Ub(8,"b"),n.Dc(9),n.Tb(),n.Tb()),2&t){const t=n.gc(2);n.Cb(1),n.Fc(" \u041f\u043e \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u0443 \u2116",t.index+1," \u0435\u0436\u0435\u043c\u0435\u0441\u044f\u0447\u043d\u0430\u044f \u0432\u044b\u043f\u043b\u0430\u0442\u0430 \u0432 \u0440\u0430\u0437\u043c\u0435\u0440\u0435 "),n.Cb(5),n.Fc("",t.period," \u043c\u0435\u0441\u044f\u0446\u0435\u0432"),n.Cb(3),n.Fc("",t.coFinancing,"%")}}function Qe(t,e){if(1&t){const t=n.Vb();n.Ub(0,"div",1),n.Ub(1,"mat-card",2),n.Ub(2,"div",3),n.Ub(3,"div",4),n.Ub(4,"h3",5),n.Dc(5,"\u041a\u0430\u043b\u044c\u043a\u0443\u043b\u044f\u0442\u043e\u0440"),n.Tb(),n.Tb(),n.Tb(),n.Ub(6,"div",3),n.Ub(7,"div",4),n.Ub(8,"div",3),n.Ub(9,"div",4),n.Ub(10,"p"),n.Dc(11,"\u041e\u0431\u0449\u0430\u044f \u0441\u0443\u043c\u043c\u0430"),n.Tb(),n.Tb(),n.Ub(12,"div",4),n.Ub(13,"p",6),n.Dc(14),n.hc(15,"amountConverter"),n.Tb(),n.Tb(),n.Tb(),n.Ub(16,"div",3),n.Ub(17,"div",4),n.Ub(18,"p"),n.Dc(19,"\u0421\u0442\u0430\u0432\u043a\u0430"),n.Tb(),n.Tb(),n.Ub(20,"div",4),n.Ub(21,"p",6),n.Dc(22),n.Tb(),n.Tb(),n.Tb(),n.Ub(23,"div",3),n.Ub(24,"div",4),n.Ub(25,"p"),n.Dc(26,"\u0421\u043e\u0444\u0438\u043d\u0430\u043d\u0438\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435"),n.Tb(),n.Tb(),n.Ub(27,"div",4),n.Ub(28,"div",3),n.Ub(29,"div",4),n.Ub(30,"mat-slider",7),n.cc("change",(function(e){return n.vc(t),n.gc().onCoFinancingChange(e)})),n.Tb(),n.Ub(31,"span",6),n.Dc(32),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Ub(33,"div",4),n.Ub(34,"div",3),n.Ub(35,"div",4),n.Ub(36,"p"),n.Dc(37,"\u0418\u0442\u043e\u0433\u043e (\u0441\u0443\u043c\u043c\u0430 \u043f\u043e\u0441\u043b\u0435 \u0441\u043e\u0444\u0438\u043d\u0430\u043d\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f)"),n.Tb(),n.Tb(),n.Ub(38,"div",4),n.Ub(39,"p",6),n.Dc(40),n.hc(41,"amountConverter"),n.Tb(),n.Tb(),n.Tb(),n.Ub(42,"div",3),n.Pb(43,"div",4),n.Pb(44,"div",4),n.Tb(),n.Ub(45,"div",3),n.Ub(46,"div",4),n.Ub(47,"p"),n.Dc(48,"\u0421\u0440\u043e\u043a"),n.Tb(),n.Tb(),n.Ub(49,"div",4),n.Ub(50,"div",3),n.Ub(51,"div",4),n.Ub(52,"mat-slider",8),n.cc("change",(function(e){return n.vc(t),n.gc().onPeriodChange(e)})),n.Tb(),n.Ub(53,"span",6),n.Dc(54),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Ub(55,"div",3),n.Ub(56,"div",9),n.Ub(57,"a",10),n.Dc(58,"\u0423\u0441\u043b\u043e\u0432\u0438\u044f \u0444\u0438\u043d\u0430\u043d\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f"),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Ub(59,"div",11),n.Ub(60,"div",9),n.Ub(61,"a",12),n.Dc(62,"\u0413\u0440\u0430\u0444\u0438\u043a \u043f\u043b\u0430\u0442\u0435\u0436\u0435\u0439"),n.Tb(),n.Ub(63,"p",13),n.Dc(64," \u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u043d\u0430 \u0433\u0440\u0430\u0444\u0438\u043a \u043f\u043b\u0430\u0442\u0435\u0436\u0435\u0439 \u0434\u043b\u044f \u0442\u043e\u0433\u043e \u0447\u0442\u043e\u0431\u044b \u0441\u043a\u0430\u0447\u0430\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442 \u0438 \u043e\u0437\u043d\u0430\u043a\u043e\u043c\u0438\u0442\u044c\u0441\u044f \u0441 \u043d\u0438\u043c "),n.Tb(),n.Tb(),n.Tb(),n.Ub(65,"div",14),n.Ub(66,"div",4),n.Bc(67,We,10,3,"p",15),n.Tb(),n.Tb(),n.Tb()}if(2&t){const t=n.gc();n.Cb(14),n.Fc(" ",n.jc(15,14,t.calculatorResult.sum,"ru")," \u0442\u0435\u043d\u0433\u0435 "),n.Cb(8),n.Fc("",t.calculatorResult.rate," %"),n.Cb(8),n.nc("min",t.calculatorResult.coFinancing),n.mc("value",t.coFinancing)("disabled",t.isReadOnly),n.Cb(2),n.Ec(t.coFinancing),n.Cb(8),n.Fc("",n.jc(41,17,t.total,"ru")," \u0442\u0435\u043d\u0433\u0435"),n.Cb(12),n.nc("max",t.calculatorResult.period),n.mc("value",t.period)("disabled",t.isReadOnly),n.Cb(2),n.Ec(t.period),n.Cb(3),n.mc("href",t.fileServer+"/docs/\u041e\u0431\u0449\u0438\u0435_\u0443\u0441\u043b\u043e\u0432\u0438\u044f_\u0444\u0438\u043d\u0430\u043d\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f_\u043d\u0430_01.01.2021.doc",n.wc),n.Cb(4),n.mc("href",t.paymentUrl,n.wc),n.Cb(6),n.mc("ngIf",null!==t.calculatorResult)}}let Xe=(()=>{class t{constructor(t){this.store=t,this.isReadOnly=!1,this.ngDestroyed$=new I.a,this.calculatorResult=null}ngOnInit(){this.store.select(t=>{var e;return null===(e=t.lizing.contractsData[this.id])||void 0===e?void 0:e.calculatorForm}).pipe(Object(C.a)(this.ngDestroyed$)).subscribe(t=>{t&&(this.coFinancing=t.coFinancing,this.period=t.period)}),this.store.select(t=>{var e;return null===(e=t.lizing.contractsData[this.id])||void 0===e?void 0:e.calculatorResult}).pipe(Object(C.a)(this.ngDestroyed$)).subscribe(t=>{t&&(this.calculatorResult=t,null!==t&&(void 0===this.coFinancing||this.coFinancing<t.coFinancing)&&this.store.dispatch(ut({contractIndex:this.id,coFinancing:t.coFinancing})),null!==t&&this.period>t.period&&this.store.dispatch(dt({contractIndex:this.id,period:t.period})))}),G(this.store).pipe(Object(C.a)(this.ngDestroyed$)).subscribe(t=>{this.lizingTotalAmount=t})}ngOnDestroy(){this.ngDestroyed$.next(),this.ngDestroyed$.complete()}get total(){return this.calculatorResult.sum-this.calculatorResult.sum*((null===this.coFinancing?this.calculatorResult.coFinancing:this.coFinancing)/100)}get fileServer(){return a.a.fileServer}get paymentUrl(){return`${a.a.sharedUrl}/paymentschedule/download?period=${this.period}&coFinancing=${this.coFinancing}&rate=${this.calculatorResult.rate}&sum=${this.lizingTotalAmount}`}onPeriodChange(t){this.isReadOnly||this.store.dispatch(dt({contractIndex:this.id,period:t.value}))}onCoFinancingChange(t){this.isReadOnly||this.store.dispatch(ut({contractIndex:this.id,coFinancing:t.value}))}}return t.\u0275fac=function(e){return new(e||t)(n.Ob(D.h))},t.\u0275cmp=n.Ib({type:t,selectors:[["app-okaps-lizing-calculator"]],inputs:{id:"id",index:"index",isReadOnly:"isReadOnly"},decls:1,vars:1,consts:[["class","container my-4",4,"ngIf"],[1,"container","my-4"],[1,"mat-elevation-z8"],[1,"row"],[1,"col"],[1,"text-center"],[1,"primary"],["thumbLabel","","color","primary","tickInterval","1","max","50",3,"value","min","disabled","change"],["thumbLabel","","color","primary","tickInterval","1","min","3",3,"value","max","disabled","change"],[1,"col","text-center"],["target","_blank",1,"primary","uppercase","underline","d-inline-block","my-3",3,"href"],[1,"row","my-5"],["mat-button","","color","primary","target","_blank",3,"href"],[1,"mat-body-1","my-1"],[1,"row","mt-4","d-none"],["class","payment-info",4,"ngIf"],[1,"payment-info"]],template:function(t,e){1&t&&n.Bc(0,Qe,68,20,"div",0),2&t&&n.mc("ngIf",null!==e.calculatorResult)},directives:[y.l,l.a,Ke.a,T.a],pipes:[ke],styles:[".payment-info[_ngcontent-%COMP%]{text-align:center;text-transform:uppercase;font-size:16px}"]}),t})();var Ze=i("+Tre");function ti(t,e){if(1&t&&(n.Ub(0,"mat-option",12),n.Dc(1),n.Tb()),2&t){const t=e.$implicit;n.mc("value",t.id),n.Cb(1),n.Fc(" ",t.name," ")}}function ei(t,e){if(1&t&&(n.Ub(0,"mat-option",12),n.Dc(1),n.Tb()),2&t){const t=e.$implicit;n.mc("value",t.id),n.Cb(1),n.Fc(" ",t.name," ")}}function ii(t,e){1&t&&(n.Ub(0,"button",13),n.Dc(1," \u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c "),n.Tb())}let ni=(()=>{class t{constructor(t,e,i,n){this.formBuilder=t,this.store=e,this.dialogRef=i,this.data=n,this.initialState={id:null,type:null,typeId:null,description:null,descriptionId:null,sum:null},this.provisioningTypes=[],this.provisioningDescriptions=[],n&&null!==n.index&&(this.index=n.index,this.initialState=n.state),this.contractIndex=n.contractIndex,this.provisioningTypes=n.provisioningTypes,this.provisioningDescriptions=n.provisioningDescriptions}ngOnInit(){this.generateForm(),this.typeId.valueChanges.subscribe(t=>{this.type.setValue(this.provisioningTypes.find(e=>e.id===t).name)}),this.descriptionId.valueChanges.subscribe(t=>{this.description.setValue(this.provisioningDescriptions.find(e=>e.id===t).name)})}generateForm(){this.form=this.formBuilder.group({typeId:[this.initialState.typeId,U.u.required],type:[this.initialState.type],descriptionId:[this.initialState.descriptionId,U.u.required],description:[this.initialState.description],sum:[this.initialState.sum,U.u.required]})}get isNew(){return null===this.initialState.id}get title(){return this.isNew?"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0435\u043d\u0438\u0435":"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0435\u043d\u0438\u0435"}get type(){return this.form.get("type")}get typeId(){return this.form.get("typeId")}get description(){return this.form.get("description")}get descriptionId(){return this.form.get("descriptionId")}get sum(){return this.form.get("sum")}onFormSubmit(){this.form.valid?(this.store.dispatch(this.isNew?mt({contractIndex:this.contractIndex,data:this.form.value}):ht({contractIndex:this.contractIndex,provisioningIndex:this.index,data:this.form.value})),this.dialogRef.close()):this.form.markAllAsTouched()}}return t.\u0275fac=function(e){return new(e||t)(n.Ob(U.d),n.Ob(D.h),n.Ob(u.h),n.Ob(u.a))},t.\u0275cmp=n.Ib({type:t,selectors:[["app-provisioning-form-dialog"]],decls:26,vars:5,consts:[[1,"form",3,"formGroup","ngSubmit"],[1,"text-center","m-0","mb-4"],[1,"row"],[1,"col"],["appearance","outline"],["formControlName","typeId"],[3,"value",4,"ngFor","ngForOf"],["formControlName","descriptionId"],["matInput","","formControlName","sum","min","0","type","number"],[1,"row","mt-3"],[1,"col","text-center"],["type","submit","color","primary","mat-raised-button","",4,"ngIf"],[3,"value"],["type","submit","color","primary","mat-raised-button",""]],template:function(t,e){1&t&&(n.Ub(0,"form",0),n.cc("ngSubmit",(function(){return e.onFormSubmit()})),n.Ub(1,"h3",1),n.Dc(2),n.Tb(),n.Ub(3,"div",2),n.Ub(4,"div",3),n.Ub(5,"mat-form-field",4),n.Ub(6,"mat-label"),n.Dc(7,"\u0412\u0438\u0434 \u043f\u0440\u0435\u0434\u043b\u0430\u0433\u0430\u0435\u043c\u043e\u0433\u043e \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0435\u043d\u0438\u044f"),n.Tb(),n.Ub(8,"mat-select",5),n.Bc(9,ti,2,2,"mat-option",6),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Ub(10,"div",2),n.Ub(11,"div",3),n.Ub(12,"mat-form-field",4),n.Ub(13,"mat-label"),n.Dc(14,"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0435\u043d\u0438\u044f"),n.Tb(),n.Ub(15,"mat-select",7),n.Bc(16,ei,2,2,"mat-option",6),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Ub(17,"div",2),n.Ub(18,"div",3),n.Ub(19,"mat-form-field",4),n.Ub(20,"mat-label"),n.Dc(21,"\u0421\u0443\u043c\u043c\u0430 \u0433\u0430\u0440\u0430\u043d\u0442\u0438\u0438, \u0442\u0435\u043d\u0433\u0435"),n.Tb(),n.Pb(22,"input",8),n.Tb(),n.Tb(),n.Tb(),n.Ub(23,"div",9),n.Ub(24,"div",10),n.Bc(25,ii,2,0,"button",11),n.Tb(),n.Tb(),n.Tb()),2&t&&(n.mc("formGroup",e.form),n.Cb(2),n.Ec(e.title),n.Cb(7),n.mc("ngForOf",e.provisioningTypes),n.Cb(7),n.mc("ngForOf",e.provisioningDescriptions),n.Cb(9),n.mc("ngIf",!e.form.invalid))},directives:[U.v,U.p,U.i,Dt.b,Dt.f,qt.a,U.o,U.g,y.k,Ct.b,U.b,U.s,y.l,_t.n,T.b],styles:[""]}),t})();function ai(t,e){1&t&&(n.Ub(0,"th",15),n.Dc(1,"\u2116"),n.Tb())}function oi(t,e){if(1&t&&(n.Ub(0,"td",16),n.Dc(1),n.Tb()),2&t){const t=e.index;n.Cb(1),n.Ec(t+1)}}function ci(t,e){1&t&&(n.Ub(0,"th",15),n.Dc(1," \u0412\u0438\u0434 \u043f\u0440\u0435\u0434\u043b\u0430\u0433\u0430\u0435\u043c\u043e\u0433\u043e \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0435\u043d\u0438\u044f "),n.Tb())}function si(t,e){if(1&t&&(n.Ub(0,"td",16),n.Dc(1),n.Tb()),2&t){const t=e.$implicit;n.Cb(1),n.Fc(" ",t.type," ")}}function ri(t,e){1&t&&(n.Ub(0,"th",15),n.Dc(1," \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0435\u043d\u0438\u044f "),n.Tb())}function li(t,e){if(1&t&&(n.Ub(0,"td",16),n.Dc(1),n.Tb()),2&t){const t=e.$implicit;n.Cb(1),n.Ec(t.description)}}function bi(t,e){1&t&&(n.Ub(0,"th",15),n.Dc(1," \u0421\u0443\u043c\u043c\u0430 \u0433\u0430\u0440\u0430\u043d\u0442\u0438\u0438, \u0437\u0430\u0434\u0430\u0442\u043a\u0430, \u043e\u0446\u0435\u043d\u043e\u0447\u043d\u0430\u044f \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u0430 \u0437\u0430\u043b\u043e\u0433\u0430 "),n.Tb())}function di(t,e){if(1&t&&(n.Ub(0,"td",16),n.Dc(1),n.hc(2,"amountConverter"),n.Tb()),2&t){const t=e.$implicit;n.Cb(1),n.Fc(" ",n.jc(2,1,t.sum,"ru")," ")}}function ui(t,e){1&t&&(n.Ub(0,"th",17),n.Dc(1,"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f"),n.Tb())}function mi(t,e){if(1&t){const t=n.Vb();n.Ub(0,"td",16),n.Ub(1,"button",18),n.cc("click",(function(){n.vc(t);const i=e.index;return n.gc().onEdit(i)})),n.Ub(2,"mat-icon"),n.Dc(3,"edit"),n.Tb(),n.Tb(),n.Ub(4,"button",19),n.cc("click",(function(){n.vc(t);const i=e.index;return n.gc().onRemove(i)})),n.Ub(5,"mat-icon"),n.Dc(6,"delete"),n.Tb(),n.Tb(),n.Tb()}if(2&t){const t=n.gc();n.Cb(1),n.mc("disabled",t.isReadOnly),n.Cb(3),n.mc("disabled",t.isReadOnly)}}function hi(t,e){1&t&&n.Pb(0,"tr",20)}function pi(t,e){1&t&&n.Pb(0,"tr",21)}let fi=(()=>{class t{constructor(t,e,i){this.store=t,this.dialogService=e,this.dictionaryService=i,this.isReadOnly=!1,this.ngDestroyed$=new I.a,this.displayedColumns=["position","type","description","sum","actions"],this.provisionings=[],this.provisioningTypes=[],this.provisioningDescriptions=[]}ngOnInit(){this.store.pipe(Object(D.p)(t=>t.lizing.contractsData[this.id]),Object(O.a)(t=>void 0!==t?(this.provisionings=t.provisions,t.provisions):[])).pipe(Object(C.a)(this.ngDestroyed$)).subscribe(t=>{this.dataSource=new be.k(t),this.dataSource.sort=this.sort}),this.dictionaryService.getProvisioningTypes().then(t=>{this.provisioningTypes=t.data.list}),this.dictionaryService.getProvisioningDescriptions().then(t=>{this.provisioningDescriptions=t.data.list})}ngOnDestroy(){this.ngDestroyed$.next(),this.ngDestroyed$.complete()}onEdit(t){this.dialogService.open(ni,{data:{contractIndex:this.id,index:t,state:this.provisionings[t],provisioningTypes:this.provisioningTypes,provisioningDescriptions:this.provisioningDescriptions}})}onRemove(t){this.store.dispatch(pt({contractIndex:this.id,provisioningIndex:t}))}onAdd(){this.isReadOnly||this.dialogService.open(ni,{data:{contractIndex:this.id,index:null,state:null,provisioningTypes:this.provisioningTypes,provisioningDescriptions:this.provisioningDescriptions}})}}return t.\u0275fac=function(e){return new(e||t)(n.Ob(D.h),n.Ob(u.c),n.Ob(Lt))},t.\u0275cmp=n.Ib({type:t,selectors:[["app-provisioning-table"]],viewQuery:function(t,e){var i;1&t&&n.Jc(le.a,!0),2&t&&n.sc(i=n.dc())&&(e.sort=i.first)},inputs:{id:"id",isReadOnly:"isReadOnly"},decls:25,vars:4,consts:[[1,"container"],[1,"row"],[1,"col"],["mat-table","","matSort","",1,"mat-elevation-z8","w-100",3,"dataSource"],["matColumnDef","position"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","type"],["matColumnDef","description"],["matColumnDef","sum"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-raised-button","","color","primary","aria-label","add provisioning button",1,"my-3","float-right",3,"disabled","click"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-icon-button","","color","primary","matTooltip","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c","aria-label","edit icon button",1,"m-1",3,"disabled","click"],["mat-icon-button","","color","accent","matTooltip","\u0423\u0434\u0430\u043b\u0438\u0442\u044c","aria-label","delete icon button",1,"my-1","mx-2",3,"disabled","click"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(n.Ub(0,"div",0),n.Ub(1,"div",1),n.Ub(2,"div",2),n.Ub(3,"table",3),n.Sb(4,4),n.Bc(5,ai,2,0,"th",5),n.Bc(6,oi,2,1,"td",6),n.Rb(),n.Sb(7,7),n.Bc(8,ci,2,0,"th",5),n.Bc(9,si,2,1,"td",6),n.Rb(),n.Sb(10,8),n.Bc(11,ri,2,0,"th",5),n.Bc(12,li,2,1,"td",6),n.Rb(),n.Sb(13,9),n.Bc(14,bi,2,0,"th",5),n.Bc(15,di,3,4,"td",6),n.Rb(),n.Sb(16,10),n.Bc(17,ui,2,0,"th",11),n.Bc(18,mi,7,2,"td",6),n.Rb(),n.Bc(19,hi,1,0,"tr",12),n.Bc(20,pi,1,0,"tr",13),n.Tb(),n.Tb(),n.Tb(),n.Ub(21,"div",1),n.Ub(22,"div",2),n.Ub(23,"button",14),n.cc("click",(function(){return e.onAdd()})),n.Dc(24," \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0435\u043d\u0438\u0435 "),n.Tb(),n.Tb(),n.Tb(),n.Tb()),2&t&&(n.Cb(3),n.mc("dataSource",e.dataSource),n.Cb(16),n.mc("matHeaderRowDef",e.displayedColumns),n.Cb(1),n.mc("matRowDefColumns",e.displayedColumns),n.Cb(3),n.mc("disabled",e.isReadOnly))},directives:[be.j,le.a,be.c,be.e,be.b,be.g,be.i,T.b,be.d,le.b,be.a,zt.a,we.a,be.f,be.h],pipes:[ke],styles:[""]}),t})();function gi(t,e){if(1&t){const t=n.Vb();n.Ub(0,"div"),n.Ub(1,"mat-button-toggle-group",10),n.cc("change",(function(e){return n.vc(t),n.gc(4).setTechCondition(e.value)})),n.Ub(2,"mat-button-toggle",13),n.Dc(3," \u041d\u041e\u0412\u0410\u042f \u0422\u0415\u0425\u041d\u0418\u041a\u0410 "),n.Tb(),n.Ub(4,"mat-button-toggle",14),n.Dc(5," \u0422\u0415\u0425\u041d\u0418\u041a\u0410 \u0411/\u0423 (\u0412\u0422\u041e\u0420\u0418\u0427\u041d\u042b\u0419 \u041b\u0418\u0417\u0418\u041d\u0413) "),n.Tb(),n.Tb(),n.Tb()}if(2&t){const t=n.gc(4);n.Cb(1),n.mc("value",t.techCondition)}}function vi(t,e){if(1&t){const t=n.Vb();n.Ub(0,"div",6),n.Ub(1,"div",7),n.Ub(2,"div",8),n.Ub(3,"div",9),n.Ub(4,"mat-button-toggle-group",10),n.cc("change",(function(e){return n.vc(t),n.gc(3).setLoanType(e.value)})),n.Ub(5,"mat-button-toggle",11),n.Dc(6,"\u041f\u0420\u0418\u041e\u0411\u0420\u0415\u0422\u0415\u041d\u0418\u0415 \u0422\u0415\u0425\u041d\u0418\u041a\u0418 (\u041b\u0418\u0417\u0418\u041d\u0413)"),n.Tb(),n.Ub(7,"mat-button-toggle",12),n.Dc(8,"\u041f\u041e\u041f\u041e\u041b\u041d\u0415\u041d\u0418\u0415 \u041e\u0411\u041e\u0420\u041e\u0422\u041d\u042b\u0425 \u0421\u0420\u0415\u0414\u0421\u0422\u0412 (\u041a\u0420\u0415\u0414\u0418\u0422\u041e\u0412\u0410\u041d\u0418\u0415)"),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Ub(9,"div",8),n.Ub(10,"div",9),n.Bc(11,gi,6,1,"div",0),n.Tb(),n.Pb(12,"div",9),n.Tb(),n.Tb(),n.Tb()}if(2&t){const t=n.gc(3);n.Cb(4),n.mc("value",t.loanType),n.Cb(7),n.mc("ngIf",t.loanType==t.LoanTypeEnum.Lizing&&null!=t.techCondition)}}function Ti(t,e){if(1&t){const t=n.Vb();n.Ub(0,"button",22),n.cc("click",(function(){n.vc(t);const e=n.gc(4);return e.setLoanType(e.LoanTypeEnum.Lizing)})),n.Dc(1," \u041f\u0420\u0418\u041e\u0411\u0420\u0415\u0422\u0415\u041d\u0418\u0415 \u0422\u0415\u0425\u041d\u0418\u041a\u0418 (\u041b\u0418\u0417\u0418\u041d\u0413) "),n.Tb()}}function yi(t,e){if(1&t){const t=n.Vb();n.Ub(0,"button",23),n.cc("click",(function(){n.vc(t);const e=n.gc(4);return e.setTechCondition(e.TechConditionEnum.New)})),n.Dc(1," \u041d\u041e\u0412\u0410\u042f \u0422\u0415\u0425\u041d\u0418\u041a\u0410 "),n.Tb()}}function Ui(t,e){if(1&t){const t=n.Vb();n.Ub(0,"button",24),n.cc("click",(function(){n.vc(t);const e=n.gc(4);return e.setLoanType(e.LoanTypeEnum.Credit)})),n.Dc(1," \u041f\u041e\u041f\u041e\u041b\u041d\u0415\u041d\u0418\u0415 \u041e\u0411\u041e\u0420\u041e\u0422\u041d\u042b\u0425 \u0421\u0420\u0415\u0414\u0421\u0422\u0412 "),n.Pb(2,"br"),n.Dc(3," (\u041a\u0420\u0415\u0414\u0418\u0422\u041e\u0412\u0410\u041d\u0418\u0415) "),n.Tb()}}function Di(t,e){if(1&t){const t=n.Vb();n.Ub(0,"button",25),n.cc("click",(function(){n.vc(t);const e=n.gc(4);return e.setTechCondition(e.TechConditionEnum.Used)})),n.Dc(1," \u0422\u0415\u0425\u041d\u0418\u041a\u0410 \u0411/\u0423 (\u0412\u0422\u041e\u0420\u0418\u0427\u041d\u042b\u0419 \u041b\u0418\u0417\u0418\u041d\u0413) "),n.Tb()}}function Ci(t,e){if(1&t&&(n.Ub(0,"div",15),n.Ub(1,"div",7),n.Ub(2,"div",16),n.Ub(3,"div",17),n.Ub(4,"div",8),n.Ub(5,"div",9),n.Bc(6,Ti,2,0,"button",18),n.Bc(7,yi,2,0,"button",19),n.Tb(),n.Ub(8,"div",9),n.Bc(9,Ui,4,0,"button",20),n.Bc(10,Di,2,0,"button",21),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Tb()),2&t){const t=n.gc(3);n.Cb(6),n.mc("ngIf",null==t.loanType),n.Cb(1),n.mc("ngIf",t.loanType==t.LoanTypeEnum.Lizing),n.Cb(2),n.mc("ngIf",null==t.loanType),n.Cb(1),n.mc("ngIf",t.loanType==t.LoanTypeEnum.Lizing)}}function Oi(t,e){1&t&&(n.Ub(0,"div",26),n.Ub(1,"div",7),n.Ub(2,"div",8),n.Ub(3,"div",27),n.Ub(4,"div",28),n.Ub(5,"div",29),n.Dc(6,"\u0421\u0442\u0430\u0432\u043a\u0430"),n.Tb(),n.Ub(7,"div",30),n.Ub(8,"h5",31),n.Dc(9,"17% \u0433\u043e\u0434\u043e\u0432\u044b\u0445"),n.Tb(),n.Ub(10,"p",32),n.Dc(11," \u0441 \u0443\u0447\u0435\u0442\u043e\u043c \u0441\u0443\u0431\u0441\u0438\u0434\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0441\u0442\u0430\u0432\u043a\u0430 \u0434\u043b\u044f \u043a\u043b\u0438\u0435\u043d\u0442\u0430 - 12% \u0433\u043e\u0434\u043e\u0432\u044b\u0445 "),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Ub(12,"div",27),n.Ub(13,"div",28),n.Ub(14,"div",29),n.Dc(15,"\u042d\u0444\u0444\u0435\u043a\u0442\u0438\u0432\u043d\u0430\u044f \u0441\u0442\u0430\u0432\u043a\u0430 \u0432\u043e\u0437\u043d\u0430\u0433\u0440\u0430\u0436\u0434\u0435\u043d\u0438\u044f"),n.Tb(),n.Ub(16,"div",30),n.Ub(17,"h5",31),n.Dc(18,"\u041e\u0422 17% \u0413\u041e\u0414\u041e\u0412\u042b\u0425"),n.Tb(),n.Ub(19,"p",32),n.Dc(20,"\u041e\u0422 17% \u0413\u041e\u0414\u041e\u0412\u042b\u0425"),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Ub(21,"div",27),n.Ub(22,"div",28),n.Ub(23,"div",29),n.Dc(24,"\u0421\u0420\u041e\u041a"),n.Tb(),n.Ub(25,"div",30),n.Ub(26,"h5",31),n.Dc(27,"\u041a\u0420\u0415\u0414\u0418\u0422\u041d\u0410\u042f \u041b\u0418\u041d\u0418\u042f \u0414\u041e 3 \u041b\u0415\u0422"),n.Tb(),n.Ub(28,"p",32),n.Dc(29," \u0422\u0440\u0430\u043d\u0448 \u0432 \u0440\u0430\u043c\u043a\u0430\u0445 \u043a\u0440\u0435\u0434\u0438\u0442\u043d\u043e\u0439 \u043b\u0438\u043d\u0438\u0438 / \u0446\u0435\u043b\u0435\u0432\u043e\u0439 \u043a\u0440\u0435\u0434\u0438\u0442 \u0434\u043e 1 \u0433\u043e\u0434\u0430 "),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Ub(30,"div",27),n.Ub(31,"div",28),n.Ub(32,"div",30),n.Ub(33,"h5",31),n.Dc(34,"\u041e\u0411\u0415\u0421\u041f\u0415\u0427\u0415\u041d\u0418\u0415"),n.Tb(),n.Ub(35,"p",32),n.Dc(36,"\u0422\u0420\u0415\u0411\u0423\u0415\u0422\u0421\u042f"),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Ub(37,"div",27),n.Ub(38,"div",33),n.Ub(39,"div",30),n.Ub(40,"h5",31),n.Dc(41,"\u041b\u042c\u0413\u041e\u0422\u041d\u042b\u0419 \u041f\u0415\u0420\u0418\u041e\u0414"),n.Tb(),n.Ub(42,"p",32),n.Dc(43,"\u041e\u0422\u0421\u0423\u0422\u0421\u0422\u0412\u0423\u0415\u0422"),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Ub(44,"div",8),n.Ub(45,"div",9),n.Ub(46,"div",34),n.Pb(47,"img",35),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Tb())}function Ii(t,e){1&t&&(n.Ub(0,"div",26),n.Ub(1,"div",7),n.Ub(2,"div",8),n.Ub(3,"div",9),n.Ub(4,"div",34),n.Pb(5,"img",36),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Tb())}function Si(t,e){1&t&&(n.Ub(0,"div",37),n.Ub(1,"div",7),n.Ub(2,"div",8),n.Ub(3,"div",9),n.Ub(4,"h3"),n.Dc(5," \u0414\u043b\u044f \u043f\u043e\u0434\u0430\u0447\u0438 \u0437\u0430\u044f\u0432\u043a\u0438 \u0412\u0430\u043c \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043e\u0431\u0440\u0430\u0442\u0438\u0442\u044c\u0441\u044f \u0432 \u0431\u043b\u0438\u0436\u0430\u0439\u0448\u0438\u0439 \u043a \u0412\u0430\u043c \u0444\u0438\u043b\u0438\u0430\u043b/\u043e\u0442\u0434\u0435\u043b\u0435\u043d\u0438\u0435 \u0410\u041e \xab\u041a\u0430\u0437\u0410\u0433\u0440\u043e\u0424\u0438\u043d\u0430\u043d\u0441\xbb "),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Tb())}function wi(t,e){if(1&t&&(n.Ub(0,"div"),n.Bc(1,vi,13,2,"div",2),n.Bc(2,Ci,11,4,"div",3),n.Bc(3,Oi,48,0,"div",4),n.Bc(4,Ii,6,0,"div",4),n.Bc(5,Si,6,0,"div",5),n.Tb()),2&t){const t=n.gc(2);n.Cb(1),n.mc("ngIf",null!=t.loanType),n.Cb(1),n.mc("ngIf",null==t.loanType||t.loanType==t.LoanTypeEnum.Lizing&&null==t.techCondition),n.Cb(1),n.mc("ngIf",t.loanType==t.LoanTypeEnum.Credit),n.Cb(1),n.mc("ngIf",t.loanType==t.LoanTypeEnum.Lizing&&t.techCondition==t.TechConditionEnum.Used),n.Cb(1),n.mc("ngIf",t.loanType==t.LoanTypeEnum.Credit||t.loanType==t.LoanTypeEnum.Lizing&&t.techCondition==t.TechConditionEnum.Used)}}function ki(t,e){if(1&t){const t=n.Vb();n.Ub(0,"mat-checkbox",47),n.cc("click",(function(){n.vc(t);const e=n.gc().$implicit;return n.gc(3).toggleHasProvisioningState(e)})),n.Dc(1,"\u0418\u043c\u0435\u0435\u0442 \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0435\u043d\u0438\u0435"),n.Tb()}if(2&t){const t=n.gc().$implicit,e=n.gc(3);n.mc("value",e.hasProvisions(t))}}function xi(t,e){if(1&t&&n.Pb(0,"app-provisioning-table",48),2&t){const t=n.gc().$implicit,e=n.gc(3);n.mc("id",t)("isReadOnly",e.isReadOnly)}}function ji(t,e){if(1&t){const t=n.Vb();n.Ub(0,"div",49),n.Ub(1,"div",8),n.Ub(2,"div",9),n.Ub(3,"p",50),n.Ub(4,"b",51),n.Dc(5,"\u0421\u0443\u043c\u043c\u0430 \u0437\u0430\u044f\u0432\u043a\u0438"),n.Tb(),n.Ub(6,"b",52),n.Dc(7),n.hc(8,"amountConverter"),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Ub(9,"div",8),n.Ub(10,"div",53),n.Ub(11,"button",54),n.cc("click",(function(){return n.vc(t),n.gc(4).addMoreContracts()})),n.Ub(12,"mat-icon"),n.Dc(13,"add"),n.Tb(),n.Tb(),n.Ub(14,"button",55),n.cc("click",(function(){return n.vc(t),n.gc(4).submitLizing()})),n.Dc(15),n.Tb(),n.Tb(),n.Tb(),n.Tb()}if(2&t){const t=n.gc(4);n.Cb(7),n.Fc("",n.jc(8,4,t.lizingTotalAmount,"ru")," \u0442\u0435\u043d\u0433\u0435"),n.Cb(4),n.mc("disabled",t.isReadOnly),n.Cb(3),n.mc("disabled",t.isSaving),n.Cb(1),n.Fc(" ",t.isPersistant?t.isReadOnly?"\u0414\u0430\u043b\u0435\u0435":"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c":"\u041f\u043e\u0434\u0430\u0442\u044c \u0437\u0430\u044f\u0432\u043a\u0443"," ")}}function Pi(t,e){if(1&t&&(n.Ub(0,"div"),n.Ub(1,"div",7),n.Ub(2,"div",8),n.Ub(3,"div",9),n.Ub(4,"h3",40),n.Dc(5),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Pb(6,"app-okaps-lizing-form",41),n.Pb(7,"app-okaps-lizing-table",42),n.Pb(8,"app-okaps-lizing-calculator",43),n.Bc(9,ki,2,1,"mat-checkbox",44),n.Bc(10,xi,1,2,"app-provisioning-table",45),n.Bc(11,ji,16,7,"div",46),n.Tb()),2&t){const t=e.$implicit,i=e.index,a=n.gc(3);n.Cb(5),n.Fc(" \u0414\u043e\u0433\u043e\u0432\u043e\u0440 \u2116",i+1," "),n.Cb(1),n.mc("id",t)("maxPrice",a.MAX_LOAN_SUM),n.Cb(1),n.mc("id",t)("maxPrice",a.MAX_LOAN_SUM)("isReadOnly",a.isReadOnly),n.Cb(1),n.mc("id",t)("index",i)("isReadOnly",a.isReadOnly),n.Cb(1),n.mc("ngIf",a.isStandardLizing(t)),n.Cb(1),n.mc("ngIf",a.needsProvisionings(t)),n.Cb(1),n.mc("ngIf",a.lizingContracts.length===i+1&&a.formCanBeSubmitted)}}function Fi(t,e){if(1&t&&(n.Ub(0,"div",38),n.Bc(1,Pi,12,12,"div",39),n.Tb()),2&t){const t=n.gc(2);n.Cb(1),n.mc("ngForOf",t.lizingContracts)}}function Ri(t,e){if(1&t&&(n.Ub(0,"div"),n.Bc(1,wi,6,5,"div",0),n.Bc(2,Fi,2,1,"div",1),n.Tb()),2&t){const t=n.gc();n.Cb(1),n.mc("ngIf",null===t.loanApplicationId),n.Cb(1),n.mc("ngIf",t.loanType==t.LoanTypeEnum.Lizing&&t.techCondition==t.TechConditionEnum.New)}}let Ai=(()=>{class t{constructor(t,e,i,n){this.store=t,this.applicationService=e,this.router=i,this.snackbar=n,this.loanApplicationId=null,this.ngDestroyed$=new I.a,this.LoanTypeEnum=Rt,this.TechConditionEnum=At,this.loanType=null,this.techCondition=null,this.MAX_LOAN_SUM=1875e5,this.isLoading=!1,this.isSaving=!1,this.isReadOnly=!1}ngOnInit(){null!==this.loanApplicationId&&(this.setLoanType(Rt.Lizing),this.setTechCondition(At.New),this.isLoading=!0,this.applicationService.getApplicationContracts(this.loanApplicationId).then(t=>{const e=((t,e)=>{const i={applicationId:this.loanApplicationId,contracts:[],contractsData:{},submitted:!1,persistant:!0};return t.forEach(t=>{Object($t.isEmpty)(t.id)||(i.contracts.push(t.id),i.contractsData[t.id]={permanent:!0,productForm:{techType:t.technic.techTypes.find(e=>e.id===t.technic.techTypeId),techSubtype:t.technic.techSubtypes.find(e=>e.id===t.technic.techSubtypeId),techProduct:t.technic.techProducts.find(e=>e.id===t.technic.techProductId),model:t.technic.techModels.find(e=>e.id===t.technic.techModelId),manufacturer:t.technic.countries.find(e=>e.id===t.technic.countryId),supplier:t.technic.providers.find(e=>e.id===t.technic.providerId),price:t.technic.price,count:t.technic.count},productDictionaries:{techTypesCollection:t.technic.techTypes,techSubtypesCollection:t.technic.techSubtypes,techProductsCollection:t.technic.techProducts,modelsCollection:t.technic.techModels,manufacturersCollection:t.technic.countries,suppliersCollection:t.technic.providers},accessories:t.accessories.map(t=>({accessoryForm:{id:t.id,techType:null,techSubtype:null,techProduct:t.techProducts.find(e=>e.id===t.techProductId),model:t.techModels.find(e=>e.id===t.techModelId),manufacturer:t.countries.find(e=>e.id===t.countryId),supplier:t.providers.find(e=>e.id===t.providerId),price:t.price,count:t.count},accessoryDictionaries:{techTypesCollection:[],techSubtypesCollection:[],techProductsCollection:t.techProducts,modelsCollection:t.techModels,manufacturersCollection:t.countries,suppliersCollection:t.providers}})),calculatorForm:t.calculator,calculatorResult:t.calculatorResult,hasProvisions:t.hasProvisions,provisions:t.provisions},i.contractsData[t.id].accessories.push({accessoryForm:null,accessoryDictionaries:Nt}))}),i})(t.data);this.store.dispatch(tt(e))}).finally(()=>{this.isLoading=!1})),this.store.select(t=>t.lizing).pipe(Object(C.a)(this.ngDestroyed$)).subscribe(t=>{this.lizingContracts=t.contracts,this.lizingContractsData=t.contractsData}),this.store.select(t=>t.client.details.isReadOnly).pipe(Object(C.a)(this.ngDestroyed$)).subscribe(t=>{this.isReadOnly=null!=t&&t}),this.store.select(t=>t.lizing.persistant).pipe(Object(C.a)(this.ngDestroyed$)).subscribe(t=>{this.isPersistant=t}),G(this.store).pipe(Object(C.a)(this.ngDestroyed$)).subscribe(t=>{this.lizingTotalAmount=t}),Y(this.store).pipe(Object(C.a)(this.ngDestroyed$)).subscribe(t=>{this.createLizingFormData=t})}ngOnDestroy(){this.ngDestroyed$.next(),this.ngDestroyed$.complete()}get formCanBeSubmitted(){return Object.keys(this.lizingContractsData).some(t=>null!==this.lizingContractsData[t].productForm)}needsProvisionings(t){return this.isStandardLizing(t)&&this.hasProvisions(t)}isStandardLizing(t){var e,i;return(null===(i=null===(e=this.lizingContractsData[t])||void 0===e?void 0:e.calculatorResult)||void 0===i?void 0:i.loanType)===Bt.Standard}hasProvisions(t){var e;return null===(e=this.lizingContractsData[t])||void 0===e?void 0:e.hasProvisions}toggleHasProvisioningState(t){this.store.dispatch(ft({contractId:t,hasProvisioning:!this.hasProvisions(t)}))}setLoanType(t){this.loanType=t}setTechCondition(t){this.techCondition=t}addMoreContracts(){this.store.dispatch(it())}submitLizing(){if(this.store.dispatch(et()),this.isPersistant){if(this.isReadOnly)return void this.openNextTab();this.isSaving=!0,this.applicationService.updateLizingApplication({contracts:this.createLizingFormData.contracts,applicationId:this.loanApplicationId}).then(()=>{this.openNextTab()}).catch(t=>{let e="\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0437\u0430\u044f\u0432\u043a\u0443. ";t&&t.error&&t.error.Message&&(e+="\u041f\u0440\u0438\u0447\u0438\u043d\u0430: "+t.error.Message),this.snackbar.open(e,null,{duration:7e3})}).finally(()=>this.isSaving=!1)}else this.router.navigate(["/products"])}}return t.\u0275fac=function(e){return new(e||t)(n.Ob(D.h),n.Ob(Ut),n.Ob(h.c),n.Ob(vt.b))},t.\u0275cmp=n.Ib({type:t,selectors:[["app-okaps-lizing"]],inputs:{loanApplicationId:"loanApplicationId",openNextTab:"openNextTab"},decls:1,vars:1,consts:[[4,"ngIf"],["class","my-4",4,"ngIf"],["class","top-menu",4,"ngIf"],["class","centered-menu",4,"ngIf"],["class","my-5",4,"ngIf"],["class","mb-3",4,"ngIf"],[1,"top-menu"],[1,"container"],[1,"row"],[1,"col"],[1,"w-100",3,"value","change"],["value","Lizing",1,"top-menu-item"],["value","Credit",1,"top-menu-item"],["value","New",1,"top-menu-item"],["value","Used",1,"top-menu-item"],[1,"centered-menu"],[1,"row","align-items-center"],[1,"col-12","text-center"],["class","centered-menu-item","mat-raised-button","","matTooltip","\u041b\u0438\u0437\u0438\u043d\u0433 - \u0432\u0438\u0434 \u0444\u0438\u043d\u0430\u043d\u0441\u043e\u0432\u044b\u0445 \u0443\u0441\u043b\u0443\u0433, \u0444\u043e\u0440\u043c\u0430 \u0444\u0438\u043d\u0430\u043d\u0441\u043e\u0432\u043e\u0439 \u0430\u0440\u0435\u043d\u0434\u044b \u0434\u043b\u044f \u043f\u0440\u0438\u043e\u0431\u0440\u0435\u0442\u0435\u043d\u0438\u044f \u043e\u0441\u043d\u043e\u0432\u043d\u044b\u0445 \u0441\u0440\u0435\u0434\u0441\u0442\u0432 \u043f\u0440\u0435\u0434\u043f\u0440\u0438\u044f\u0442\u0438\u044f\u043c\u0438 \u0438 \u0434\u0440\u0443\u0433\u0438\u0445 \u0442\u043e\u0432\u0430\u0440\u043e\u0432 \u0444\u0438\u0437\u0438\u0447\u0435\u0441\u043a\u0438\u043c\u0438 \u0438 \u044e\u0440\u0438\u0434\u0438\u0447\u0435\u0441\u043a\u0438\u043c\u0438 \u043b\u0438\u0446\u0430\u043c\u0438.",3,"click",4,"ngIf"],["class","centered-menu-item","matTooltip","\u0441\u0435\u043b\u044c\u0441\u043a\u043e\u0445\u043e\u0437\u044f\u0439\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0435 \u0442\u0435\u0445\u043d\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435, \u043d\u0435 \u0431\u044b\u0432\u0448\u0435\u0435 \u0432 \u0443\u043f\u043e\u0442\u0440\u0435\u0431\u043b\u0435\u043d\u0438\u0435  \u0438 \u0432 \u0437\u0430\u0432\u043e\u0434\u0441\u043a\u043e\u043c \u043f\u0435\u0440\u0432\u043e\u043d\u0430\u0447\u0430\u043b\u044c\u043d\u043e\u043c \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0438","mat-raised-button","",3,"click",4,"ngIf"],["class","centered-menu-item","matTooltip","\u041a\u0440\u0435\u0434\u0438\u0442\u043e\u0432\u0430\u043d\u0438\u0435 \u2014 \u0441\u0438\u0441\u0442\u0435\u043c\u0430 \u0432\u0437\u0430\u0438\u043c\u043e\u043e\u0442\u043d\u043e\u0448\u0435\u043d\u0438\u0439 \u043c\u0435\u0436\u0434\u0443 \u0441\u0442\u043e\u0440\u043e\u043d\u0430\u043c\u0438, \u043e\u043d\u0430 \u043f\u043e\u0434\u0440\u0430\u0437\u0443\u043c\u0435\u0432\u0430\u0435\u0442 \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043e\u0434\u043d\u043e\u0439 \u0441\u0442\u043e\u0440\u043e\u043d\u043e\u0439 (\u043a\u0440\u0435\u0434\u0438\u0442\u043e\u0440\u043e\u043c) \u0434\u0440\u0443\u0433\u043e\u0439 (\u0437\u0430\u0435\u043c\u0449\u0438\u043a\u0443) \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u043e\u0439 \u0441\u0443\u043c\u043c\u044b \u0441\u0440\u0435\u0434\u0441\u0442\u0432, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0435\u043d\u0430 \u043d\u0430 \u043f\u0440\u043e\u0442\u044f\u0436\u0435\u043d\u0438\u0438 \u043e\u0433\u043e\u0432\u043e\u0440\u0435\u043d\u043d\u043e\u0433\u043e \u0441\u0440\u043e\u043a\u0430.","mat-raised-button","",3,"click",4,"ngIf"],["class","centered-menu-item","matTooltip","\n                    \u0441\u0435\u043b\u044c\u0441\u043a\u043e\u0445\u043e\u0437\u044f\u0439\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0435 \u0442\u0435\u0445\u043d\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435 \u0431\u044b\u0432\u0448\u0435\u0435 \u0432 \u0443\u043f\u043e\u0442\u0440\u0435\u0431\u043b\u0435\u043d\u0438\u0438 \u043a\u043e\u0440\u043e\u0442\u043a\u0438\u0439 \u043f\u0435\u0440\u0438\u043e\u0434 \u0432\u0440\u0435\u043c\u0435\u043d\u0438\n                    ","mat-raised-button","",3,"click",4,"ngIf"],["mat-raised-button","","matTooltip","\u041b\u0438\u0437\u0438\u043d\u0433 - \u0432\u0438\u0434 \u0444\u0438\u043d\u0430\u043d\u0441\u043e\u0432\u044b\u0445 \u0443\u0441\u043b\u0443\u0433, \u0444\u043e\u0440\u043c\u0430 \u0444\u0438\u043d\u0430\u043d\u0441\u043e\u0432\u043e\u0439 \u0430\u0440\u0435\u043d\u0434\u044b \u0434\u043b\u044f \u043f\u0440\u0438\u043e\u0431\u0440\u0435\u0442\u0435\u043d\u0438\u044f \u043e\u0441\u043d\u043e\u0432\u043d\u044b\u0445 \u0441\u0440\u0435\u0434\u0441\u0442\u0432 \u043f\u0440\u0435\u0434\u043f\u0440\u0438\u044f\u0442\u0438\u044f\u043c\u0438 \u0438 \u0434\u0440\u0443\u0433\u0438\u0445 \u0442\u043e\u0432\u0430\u0440\u043e\u0432 \u0444\u0438\u0437\u0438\u0447\u0435\u0441\u043a\u0438\u043c\u0438 \u0438 \u044e\u0440\u0438\u0434\u0438\u0447\u0435\u0441\u043a\u0438\u043c\u0438 \u043b\u0438\u0446\u0430\u043c\u0438.",1,"centered-menu-item",3,"click"],["matTooltip","\u0441\u0435\u043b\u044c\u0441\u043a\u043e\u0445\u043e\u0437\u044f\u0439\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0435 \u0442\u0435\u0445\u043d\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435, \u043d\u0435 \u0431\u044b\u0432\u0448\u0435\u0435 \u0432 \u0443\u043f\u043e\u0442\u0440\u0435\u0431\u043b\u0435\u043d\u0438\u0435  \u0438 \u0432 \u0437\u0430\u0432\u043e\u0434\u0441\u043a\u043e\u043c \u043f\u0435\u0440\u0432\u043e\u043d\u0430\u0447\u0430\u043b\u044c\u043d\u043e\u043c \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0438","mat-raised-button","",1,"centered-menu-item",3,"click"],["matTooltip","\u041a\u0440\u0435\u0434\u0438\u0442\u043e\u0432\u0430\u043d\u0438\u0435 \u2014 \u0441\u0438\u0441\u0442\u0435\u043c\u0430 \u0432\u0437\u0430\u0438\u043c\u043e\u043e\u0442\u043d\u043e\u0448\u0435\u043d\u0438\u0439 \u043c\u0435\u0436\u0434\u0443 \u0441\u0442\u043e\u0440\u043e\u043d\u0430\u043c\u0438, \u043e\u043d\u0430 \u043f\u043e\u0434\u0440\u0430\u0437\u0443\u043c\u0435\u0432\u0430\u0435\u0442 \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043e\u0434\u043d\u043e\u0439 \u0441\u0442\u043e\u0440\u043e\u043d\u043e\u0439 (\u043a\u0440\u0435\u0434\u0438\u0442\u043e\u0440\u043e\u043c) \u0434\u0440\u0443\u0433\u043e\u0439 (\u0437\u0430\u0435\u043c\u0449\u0438\u043a\u0443) \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u043e\u0439 \u0441\u0443\u043c\u043c\u044b \u0441\u0440\u0435\u0434\u0441\u0442\u0432, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0435\u043d\u0430 \u043d\u0430 \u043f\u0440\u043e\u0442\u044f\u0436\u0435\u043d\u0438\u0438 \u043e\u0433\u043e\u0432\u043e\u0440\u0435\u043d\u043d\u043e\u0433\u043e \u0441\u0440\u043e\u043a\u0430.","mat-raised-button","",1,"centered-menu-item",3,"click"],["matTooltip","\n                    \u0441\u0435\u043b\u044c\u0441\u043a\u043e\u0445\u043e\u0437\u044f\u0439\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0435 \u0442\u0435\u0445\u043d\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435 \u0431\u044b\u0432\u0448\u0435\u0435 \u0432 \u0443\u043f\u043e\u0442\u0440\u0435\u0431\u043b\u0435\u043d\u0438\u0438 \u043a\u043e\u0440\u043e\u0442\u043a\u0438\u0439 \u043f\u0435\u0440\u0438\u043e\u0434 \u0432\u0440\u0435\u043c\u0435\u043d\u0438\n                    ","mat-raised-button","",1,"centered-menu-item",3,"click"],[1,"my-5"],[1,"col-12","col-md"],[1,"card","text-white","bg-secondary","p-3","text-center","mb-3","mb-md-0"],[1,"card-header"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"card","text-white","bg-secondary","p-3","text-center","mb-3","mb-sm-0"],[1,"mt-5"],["src","/assets/images/credit-rus.png","alt","\u041a\u0440\u0435\u0434\u0438\u0442"],["src","/assets/images/vtorichnyy-lizing-rus.png","alt","\u0412\u0442\u043e\u0440\u0438\u0447\u043d\u044b\u0439 \u043b\u0438\u0437\u0438\u043d\u0433"],[1,"mb-3"],[1,"my-4"],[4,"ngFor","ngForOf"],[1,"mb-4","ml-2","contract-title","uppercase"],[3,"id","maxPrice"],[3,"id","maxPrice","isReadOnly"],[3,"id","index","isReadOnly"],["class","d-block mx-4 my-2",3,"value","click",4,"ngIf"],[3,"id","isReadOnly",4,"ngIf"],["class","container my-4",4,"ngIf"],[1,"d-block","mx-4","my-2",3,"value","click"],[3,"id","isReadOnly"],[1,"container","my-4"],[1,"total-sum","mb-5","mt-2"],[1,"mr-3"],[1,"primary"],[1,"col","d-flex","justify-content-between"],["color","primary","matTooltip","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0434\u043e\u0433\u043e\u0432\u043e\u0440","mat-raised-button","",1,"px-5",3,"disabled","click"],["color","accent","mat-raised-button","",1,"submit-btn",3,"disabled","click"]],template:function(t,e){1&t&&n.Bc(0,Ri,3,2,"div",0),2&t&&n.mc("ngIf",!e.isLoading)},directives:[y.l,s.b,s.a,T.b,zt.a,y.k,re,Je,Xe,Ze.a,fi,we.a],pipes:[ke],styles:[".centered-menu[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;align-items:center;height:calc(100vh - 128px)}.centered-menu-item[_ngcontent-%COMP%]{min-width:250px;min-height:250px;max-height:500px;max-width:500px;border-radius:7px}.top-menu-item[_ngcontent-%COMP%]{flex:1}.contract-title[_ngcontent-%COMP%]{font-size:18px}.submit-btn[_ngcontent-%COMP%], .total-sum[_ngcontent-%COMP%]{text-transform:uppercase}.total-sum[_ngcontent-%COMP%]{font-size:18px}"]}),t})();var Bi=i("YK1a"),$i=i("iAde"),Ni=i("ROBh"),zi=i("jIqt"),Li=i("TLy2"),Ei=i("4e/d"),Mi=i("csyo");function Vi(t,e){1&t&&(n.Ub(0,"div",18),n.Pb(1,"mat-spinner",19),n.Tb()),2&t&&(n.Cb(1),n.mc("diameter",50))}function qi(t,e){1&t&&(n.Ub(0,"th",20),n.Dc(1,"\u2116 \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u0430"),n.Tb())}function _i(t,e){if(1&t&&(n.Ub(0,"td",21),n.Dc(1),n.Tb()),2&t){const t=e.$implicit;n.Cb(1),n.Fc(" ",t.number," ")}}function Hi(t,e){1&t&&(n.Ub(0,"th",20),n.Dc(1,"\u0421\u0442\u0430\u0442\u0443\u0441"),n.Tb())}function Yi(t,e){if(1&t&&(n.Ub(0,"td",21),n.Dc(1),n.Tb()),2&t){const t=e.$implicit;n.Cb(1),n.Fc(" ",t.status," ")}}function Gi(t,e){1&t&&(n.Ub(0,"th",20),n.Dc(1,"\u0421\u0443\u043c\u043c\u0430"),n.Tb())}function Ji(t,e){if(1&t&&(n.Ub(0,"td",21),n.Dc(1),n.hc(2,"amountConverter"),n.Tb()),2&t){const t=e.$implicit;n.Cb(1),n.Fc(" ",n.jc(2,1,t.calculator.sum,"ru")," ")}}function Ki(t,e){1&t&&(n.Ub(0,"th",20),n.Dc(1,"\u0414\u0430\u0442\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f"),n.Tb())}function Wi(t,e){if(1&t&&(n.Ub(0,"td",21),n.Dc(1),n.hc(2,"date"),n.Tb()),2&t){const t=e.$implicit;n.Cb(1),n.Fc(" ",n.jc(2,1,t.createdDate,"dd-MM-yyyy")," ")}}function Qi(t,e){1&t&&(n.Ub(0,"th",20),n.Dc(1,"\u0421\u0440\u043e\u043a"),n.Tb())}function Xi(t,e){if(1&t&&(n.Ub(0,"td",21),n.Dc(1),n.Tb()),2&t){const t=e.$implicit;n.Cb(1),n.Fc(" ",t.calculator.period," ")}}function Zi(t,e){1&t&&(n.Ub(0,"th",20),n.Dc(1,"\u0421\u0442\u0430\u0432\u043a\u0430"),n.Tb())}function tn(t,e){if(1&t&&(n.Ub(0,"td",21),n.Dc(1),n.Tb()),2&t){const t=e.$implicit;n.Cb(1),n.Fc(" ",t.calculator.rate,"% ")}}function en(t,e){1&t&&(n.Ub(0,"th",20),n.Dc(1,"\u041f\u0440\u0435\u0434\u043c\u0435\u0442 \u043b\u0438\u0437\u0438\u043d\u0433\u0430"),n.Tb())}function nn(t,e){if(1&t&&(n.Ub(0,"td",21),n.Dc(1),n.Tb()),2&t){const t=e.$implicit;n.Cb(1),n.Fc(" ",t.description," ")}}function an(t,e){1&t&&(n.Ub(0,"th",20),n.Dc(1,"\u041e\u0441\u0442\u0430\u0442\u043e\u043a \u041e\u0414"),n.Tb())}function on(t,e){if(1&t&&(n.Ub(0,"td",21),n.Dc(1),n.hc(2,"amountConverter"),n.Tb()),2&t){const t=e.$implicit;n.Cb(1),n.Fc(" ",n.jc(2,1,t.principalDebtBalance,"ru")," ")}}function cn(t,e){1&t&&(n.Ub(0,"th",20),n.Dc(1,"\u0413\u0440\u0430\u0444\u0438\u043a \u043f\u043b\u0430\u0442\u0435\u0436\u0435\u0439"),n.Tb())}function sn(t,e){if(1&t&&(n.Ub(0,"a",23),n.Dc(1,"\u0421\u043a\u0430\u0447\u0430\u0442\u044c"),n.Tb()),2&t){const t=n.gc().$implicit,e=n.gc();n.mc("href",e.fileServerRootUrl+"/"+t.scheduleUrl,n.wc)}}function rn(t,e){if(1&t&&(n.Ub(0,"td",21),n.Bc(1,sn,2,1,"a",22),n.Tb()),2&t){const t=e.$implicit;n.Cb(1),n.mc("ngIf",null!==t.scheduleUrl)}}function ln(t,e){1&t&&n.Pb(0,"tr",24)}function bn(t,e){1&t&&n.Pb(0,"tr",25)}const dn=function(t){return{minHeight:t}};let un=(()=>{class t{constructor(t,e){this.applicationService=t,this.cdr=e,this.displayedColumns=["number","status","sum","createdDate","period","rate","description","principalDebtBalance","scheduleUrl"],this.data=[],this.isLoading=!1,this.totalCount=0}ngAfterViewInit(){this.paginator.page.pipe(Object(zi.a)({}),Object(Li.a)(()=>(this.isLoading=!0,this.applicationService.getAllContracts(this.paginator.pageIndex+1,this.paginator.pageSize).pipe(Object(Ei.a)(()=>Object(Ni.a)(null))))),Object(O.a)(t=>(this.isLoading=!1,null==t?[]:(this.totalCount=t.data.count,t.data.list)))).subscribe(t=>this.data=t),this.cdr.detectChanges()}get fileServerRootUrl(){return a.a.fileServer}}return t.\u0275fac=function(e){return new(e||t)(n.Ob(Ut),n.Ob(n.h))},t.\u0275cmp=n.Ib({type:t,selectors:[["app-contracts-list"]],viewQuery:function(t,e){var i;1&t&&n.Jc($i.a,!0),2&t&&n.sc(i=n.dc())&&(e.paginator=i.first)},decls:34,vars:9,consts:[[1,"wrapper","my-5","mx-3"],["class","loader",4,"ngIf"],[1,"content",3,"ngStyle"],["mat-table","",1,"mat-elevation-z8","w-100",3,"dataSource"],["matColumnDef","number"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","status"],["matColumnDef","sum"],["matColumnDef","createdDate"],["matColumnDef","period"],["matColumnDef","rate"],["matColumnDef","description"],["matColumnDef","principalDebtBalance"],["matColumnDef","scheduleUrl"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["aria-label","Select page of user contracts search results",1,"mat-elevation-z8",3,"length","pageSize"],[1,"loader"],[3,"diameter"],["mat-header-cell",""],["mat-cell",""],["target","_blank","class","link",3,"href",4,"ngIf"],["target","_blank",1,"link",3,"href"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(n.Ub(0,"div",0),n.Bc(1,Vi,2,1,"div",1),n.Ub(2,"div",2),n.Ub(3,"table",3),n.Sb(4,4),n.Bc(5,qi,2,0,"th",5),n.Bc(6,_i,2,1,"td",6),n.Rb(),n.Sb(7,7),n.Bc(8,Hi,2,0,"th",5),n.Bc(9,Yi,2,1,"td",6),n.Rb(),n.Sb(10,8),n.Bc(11,Gi,2,0,"th",5),n.Bc(12,Ji,3,4,"td",6),n.Rb(),n.Sb(13,9),n.Bc(14,Ki,2,0,"th",5),n.Bc(15,Wi,3,4,"td",6),n.Rb(),n.Sb(16,10),n.Bc(17,Qi,2,0,"th",5),n.Bc(18,Xi,2,1,"td",6),n.Rb(),n.Sb(19,11),n.Bc(20,Zi,2,0,"th",5),n.Bc(21,tn,2,1,"td",6),n.Rb(),n.Sb(22,12),n.Bc(23,en,2,0,"th",5),n.Bc(24,nn,2,1,"td",6),n.Rb(),n.Sb(25,13),n.Bc(26,an,2,0,"th",5),n.Bc(27,on,3,4,"td",6),n.Rb(),n.Sb(28,14),n.Bc(29,cn,2,0,"th",5),n.Bc(30,rn,2,1,"td",6),n.Rb(),n.Bc(31,ln,1,0,"tr",15),n.Bc(32,bn,1,0,"tr",16),n.Tb(),n.Tb(),n.Pb(33,"mat-paginator",17),n.Tb()),2&t&&(n.Cb(1),n.mc("ngIf",e.isLoading),n.Cb(1),n.mc("ngStyle",n.pc(7,dn,e.isLoading?"200px":"unset")),n.Cb(1),n.mc("dataSource",e.data),n.Cb(28),n.mc("matHeaderRowDef",e.displayedColumns),n.Cb(1),n.mc("matRowDefColumns",e.displayedColumns),n.Cb(1),n.mc("length",e.totalCount)("pageSize",10))},directives:[y.l,y.m,be.j,be.c,be.e,be.b,be.g,be.i,$i.a,Mi.b,be.d,be.a,be.f,be.h],pipes:[ke,y.e],styles:[".wrapper[_ngcontent-%COMP%]{position:relative}.loader[_ngcontent-%COMP%]{position:absolute;left:0;top:0;right:0;bottom:56px;background:rgba(0,0,0,.15);z-index:1;display:flex;justify-content:center;align-items:center}table[_ngcontent-%COMP%]{width:100%}"]}),t})();function mn(t,e){if(1&t&&(n.Ub(0,"p"),n.Dc(1),n.Tb()),2&t){const t=n.gc();n.Cb(1),n.Ec(t.contentText)}}let hn=(()=>{class t{constructor(t,e){this.dialogRef=t,this.data=e,this.contentText=null,this.title=e.title,this.contentText=e.contentText}ngOnInit(){}onBtnClick(t){this.dialogRef.close(t)}}return t.\u0275fac=function(e){return new(e||t)(n.Ob(u.h),n.Ob(u.a))},t.\u0275cmp=n.Ib({type:t,selectors:[["app-okaps-comfirm-dialog"]],decls:10,vars:2,consts:[["mat-dialog-title","",1,"title"],[1,"mat-typography"],[4,"ngIf"],["align","center"],["mat-raised-button","",1,"my-3",3,"click"],["color","primary","mat-raised-button","",1,"my-3",3,"click"]],template:function(t,e){1&t&&(n.Ub(0,"div"),n.Ub(1,"h1",0),n.Dc(2),n.Tb(),n.Ub(3,"mat-dialog-content",1),n.Bc(4,mn,2,1,"p",2),n.Tb(),n.Ub(5,"mat-dialog-actions",3),n.Ub(6,"button",4),n.cc("click",(function(){return e.onBtnClick(!1)})),n.Dc(7," \u041d\u0435\u0442 "),n.Tb(),n.Ub(8,"button",5),n.cc("click",(function(){return e.onBtnClick(!0)})),n.Dc(9," \u0414\u0430 "),n.Tb(),n.Tb(),n.Tb()),2&t&&(n.Cb(2),n.Ec(e.title),n.Cb(2),n.mc("ngIf",null!==e.contentText))},directives:[u.i,u.f,y.l,u.d,T.b],styles:[".title[_ngcontent-%COMP%]{font-size:1.2rem;line-height:1.2;font-weight:700}"]}),t})();function pn(t,e){1&t&&(n.Ub(0,"th",20),n.Dc(1," \u2116 \u0437\u0430\u044f\u0432\u043a\u0438 "),n.Tb())}function fn(t,e){if(1&t&&(n.Ub(0,"td",22),n.Dc(1),n.Tb()),2&t){const t=n.gc().$implicit,e=n.gc();n.Db("rowspan",e.rowSpanData[t.loanApplicationId]),n.Cb(1),n.Fc(" ",t.registerNumber," ")}}function gn(t,e){if(1&t&&(n.Sb(0),n.Bc(1,fn,2,2,"td",21),n.Rb()),2&t){const t=e.$implicit;n.Cb(1),n.mc("ngIf",t.loanApplicationId)}}function vn(t,e){1&t&&(n.Ub(0,"th",23),n.Dc(1," \u0414\u0430\u0442\u0430 "),n.Tb())}function Tn(t,e){if(1&t&&(n.Ub(0,"td",22),n.Dc(1),n.hc(2,"date"),n.Tb()),2&t){const t=n.gc().$implicit,e=n.gc();n.Db("rowspan",e.rowSpanData[t.loanApplicationId]),n.Cb(1),n.Fc(" ",n.jc(2,2,t.createdDate,"dd-MM-yyyy")," ")}}function yn(t,e){if(1&t&&(n.Sb(0),n.Bc(1,Tn,3,5,"td",21),n.Rb()),2&t){const t=e.$implicit;n.Cb(1),n.mc("ngIf",t.loanApplicationId)}}function Un(t,e){1&t&&(n.Ub(0,"th",24),n.Dc(1," \u0421\u0442\u0430\u0442\u0443\u0441 "),n.Tb())}function Dn(t,e){if(1&t&&(n.Ub(0,"td",22),n.Dc(1),n.Tb()),2&t){const t=n.gc().$implicit,e=n.gc();n.Db("rowspan",e.rowSpanData[t.loanApplicationId]),n.Cb(1),n.Fc(" ",t.status," ")}}function Cn(t,e){if(1&t&&(n.Sb(0),n.Bc(1,Dn,2,2,"td",21),n.Rb()),2&t){const t=e.$implicit;n.Cb(1),n.mc("ngIf",t.loanApplicationId)}}function On(t,e){1&t&&(n.Ub(0,"th",25),n.Dc(1," \u0422\u0438\u043f "),n.Tb())}function In(t,e){if(1&t&&(n.Ub(0,"td",22),n.Dc(1),n.Tb()),2&t){const t=n.gc().$implicit,e=n.gc();n.Db("rowspan",e.rowSpanData[t.loanApplicationId]),n.Cb(1),n.Fc(" ",t.type," ")}}function Sn(t,e){if(1&t&&(n.Sb(0),n.Bc(1,In,2,2,"td",21),n.Rb()),2&t){const t=e.$implicit;n.Cb(1),n.mc("ngIf",t.loanApplicationId)}}function wn(t,e){1&t&&(n.Ub(0,"th",26),n.Dc(1,"\u041f\u0440\u0435\u0434\u043c\u0435\u0442 \u043b\u0438\u0437\u0438\u043d\u0433\u0430"),n.Tb())}function kn(t,e){if(1&t&&(n.Sb(0),n.Ub(1,"td",22),n.Dc(2),n.Tb(),n.Rb()),2&t){const t=e.$implicit;n.Cb(2),n.Fc(" ",t.subject," ")}}function xn(t,e){1&t&&(n.Ub(0,"th",26),n.Dc(1,"\u0421\u0442\u0430\u0432\u043a\u0430"),n.Tb())}function jn(t,e){if(1&t&&(n.Sb(0),n.Ub(1,"td",22),n.Dc(2),n.Tb(),n.Rb()),2&t){const t=e.$implicit;n.Cb(2),n.Fc("",t.rate,"%")}}function Pn(t,e){1&t&&(n.Ub(0,"th",26),n.Dc(1,"\u0421\u0443\u043c\u043c\u0430"),n.Tb())}function Fn(t,e){if(1&t&&(n.Sb(0),n.Ub(1,"td",22),n.Dc(2),n.hc(3,"amountConverter"),n.Tb(),n.Rb()),2&t){const t=e.$implicit;n.Cb(2),n.Fc(" ",n.jc(3,1,t.sum,"ru")," ")}}function Rn(t,e){1&t&&(n.Ub(0,"th",27),n.Dc(1,"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f"),n.Tb())}const An=function(t){return[t]};function Bn(t,e){if(1&t){const t=n.Vb();n.Ub(0,"td",22),n.Ub(1,"button",28),n.cc("click",(function(){n.vc(t);const e=n.gc().$implicit;return n.gc().removeApplication(e.loanApplicationId)})),n.Ub(2,"mat-icon",29),n.Dc(3,"delete"),n.Tb(),n.Tb(),n.Ub(4,"button",30),n.Ub(5,"mat-icon",29),n.Dc(6,"send"),n.Tb(),n.Tb(),n.Tb()}if(2&t){const t=n.gc().$implicit,e=n.gc();n.Db("rowspan",e.rowSpanData[t.loanApplicationId]),n.Cb(4),n.mc("routerLink",n.pc(2,An,t.loanApplicationId))}}function $n(t,e){if(1&t&&(n.Sb(0),n.Bc(1,Bn,7,4,"td",21),n.Rb()),2&t){const t=e.$implicit;n.Cb(1),n.mc("ngIf",t.loanApplicationId)}}function Nn(t,e){1&t&&n.Pb(0,"tr",31)}function zn(t,e){1&t&&n.Pb(0,"tr",32)}let Ln=(()=>{class t{constructor(t,e,i){this.applicationService=t,this.snackbar=e,this.dialogService=i,this.displayedColumns=["registerNumber","createdDate","status","type","subject","sum","rate","actions"],this.dataSource=new be.k,this.rowSpanData={},this.page=0,this.pageLimit=10,this.count=0,this.pageSizeOptions=[5,10,25]}ngOnInit(){this.loadApplications()}ngAfterViewInit(){this.dataSource.sort=this.sort}loadApplications(t){return t&&(this.page=t.pageIndex,this.pageLimit=t.pageSize),this.applicationService.getApplications(this.page+1,this.pageLimit).then(t=>{this.count=t.data.count,this.dataSource.data=this.processResponse(t.data.list)}).catch(t=>{this.snackbar.open(t.error.Message,null,{duration:3e3})}),t}removeApplication(t){0===this.dialogService.openDialogs.length&&(this.dialogRef=this.dialogService.open(hn,{width:"350px",data:{title:"\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0437\u0430\u044f\u0432\u043a\u0443?"}}),this.dialogRef.afterClosed().subscribe(e=>{e&&(this.dataSource.data=this.dataSource.data.filter(e=>e.loanApplicationId!==t),this.applicationService.removeApplication(t).then(t=>this.snackbar.open(t.message,null,{duration:3e3})).catch(t=>this.snackbar.open(t.error.Message,null,{duration:3e3})).finally(()=>{0===this.dataSource.data.length&&0!==this.page&&this.page--,this.loadApplications()}))}))}processResponse(t){const e=[];return t.map(t=>{this.rowSpanData[t.loanApplicationId]=t.contracts.length,t.contracts.forEach((i,n)=>{e.push({loanApplicationId:0===n?t.loanApplicationId:null,registerNumber:t.registerNumber,status:t.loanStatusName,type:t.loanTypeName,createdDate:t.createdDate,subject:[`${i.technic.techProduct} ${i.technic.techModel}`].concat(i.accessories.map(t=>`${t.techProduct} ${t.techModel}`)).join(", "),rate:i.calculator.rate,sum:i.calculator.sum})})}),e}}return t.\u0275fac=function(e){return new(e||t)(n.Ob(Ut),n.Ob(vt.b),n.Ob(u.c))},t.\u0275cmp=n.Ib({type:t,selectors:[["app-applications-list"]],viewQuery:function(t,e){var i;1&t&&n.Jc(le.a,!0),2&t&&n.sc(i=n.dc())&&(e.sort=i.first)},decls:29,vars:7,consts:[[1,"my-5","mx-3"],["mat-table","","matSort","",1,"mat-elevation-z8","w-100",3,"dataSource"],["matColumnDef","registerNumber"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by application number",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","createdDate"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by created date","class","date",4,"matHeaderCellDef"],["matColumnDef","status"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by application status",4,"matHeaderCellDef"],["matColumnDef","type"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by application type",4,"matHeaderCellDef"],["matColumnDef","subject"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","rate"],["matColumnDef","sum"],["matColumnDef","actions"],["mat-header-cell","","class","actions",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["aria-label","Select page",1,"mat-elevation-z8",3,"length","pageIndex","pageSize","pageSizeOptions","page"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by application number"],["mat-cell","",4,"ngIf"],["mat-cell",""],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by created date",1,"date"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by application status"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by application type"],["mat-header-cell",""],["mat-header-cell","",1,"actions"],["mat-icon-button","","matTooltip","\u0423\u0434\u0430\u043b\u0438\u0442\u044c","color","warn",3,"click"],[1,"mat-18"],["mat-icon-button","","matTooltip","\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u043d\u0430 \u0440\u0430\u0441\u0441\u043c\u043e\u0442\u0440\u0435\u043d\u0438\u0435","color","primary",3,"routerLink"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(n.Ub(0,"div",0),n.Ub(1,"table",1),n.Sb(2,2),n.Bc(3,pn,2,0,"th",3),n.Bc(4,gn,2,1,"ng-container",4),n.Rb(),n.Sb(5,5),n.Bc(6,vn,2,0,"th",6),n.Bc(7,yn,2,1,"ng-container",4),n.Rb(),n.Sb(8,7),n.Bc(9,Un,2,0,"th",8),n.Bc(10,Cn,2,1,"ng-container",4),n.Rb(),n.Sb(11,9),n.Bc(12,On,2,0,"th",10),n.Bc(13,Sn,2,1,"ng-container",4),n.Rb(),n.Sb(14,11),n.Bc(15,wn,2,0,"th",12),n.Bc(16,kn,3,1,"ng-container",4),n.Rb(),n.Sb(17,13),n.Bc(18,xn,2,0,"th",12),n.Bc(19,jn,3,1,"ng-container",4),n.Rb(),n.Sb(20,14),n.Bc(21,Pn,2,0,"th",12),n.Bc(22,Fn,4,4,"ng-container",4),n.Rb(),n.Sb(23,15),n.Bc(24,Rn,2,0,"th",16),n.Bc(25,$n,2,1,"ng-container",4),n.Rb(),n.Bc(26,Nn,1,0,"tr",17),n.Bc(27,zn,1,0,"tr",18),n.Tb(),n.Ub(28,"mat-paginator",19),n.cc("page",(function(t){return e.pageEvent=e.loadApplications(t)})),n.Tb(),n.Tb()),2&t&&(n.Cb(1),n.mc("dataSource",e.dataSource),n.Cb(25),n.mc("matHeaderRowDef",e.displayedColumns),n.Cb(1),n.mc("matRowDefColumns",e.displayedColumns),n.Cb(1),n.mc("length",e.count)("pageIndex",e.page)("pageSize",e.pageLimit)("pageSizeOptions",e.pageSizeOptions))},directives:[be.j,le.a,be.c,be.e,be.b,be.g,be.i,$i.a,be.d,le.b,y.l,be.a,T.b,zt.a,we.a,h.d,be.f,be.h],pipes:[y.e,ke],styles:["td.mat-cell[_ngcontent-%COMP%]{padding-right:10px}.actions[_ngcontent-%COMP%]{width:115px;padding-left:8px}.date[_ngcontent-%COMP%]{width:90px}"]}),t})();function En(t,e){1&t&&(n.Ub(0,"th",10),n.Dc(1,"\u2116 \u0437\u0430\u044f\u0432\u043a\u0438"),n.Tb())}function Mn(t,e){if(1&t&&(n.Ub(0,"td",11),n.Dc(1),n.Tb()),2&t){const t=e.$implicit;n.Cb(1),n.Fc(" ",t.applicationNumber," ")}}function Vn(t,e){1&t&&(n.Ub(0,"th",10),n.Dc(1,"\u0414\u0430\u0442\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0437\u0430\u044f\u0432\u043a\u0438"),n.Tb())}function qn(t,e){if(1&t&&(n.Ub(0,"td",11),n.Dc(1),n.hc(2,"date"),n.Tb()),2&t){const t=e.$implicit;n.Cb(1),n.Fc(" ",n.jc(2,1,t.applicationDate,"dd-MM-yyyy")," ")}}function _n(t,e){1&t&&(n.Ub(0,"th",10),n.Dc(1,"\u0422\u0438\u043f \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430"),n.Tb())}function Hn(t,e){if(1&t&&(n.Ub(0,"td",11),n.Dc(1),n.Tb()),2&t){const t=e.$implicit;n.Cb(1),n.Ec(t.documentType)}}function Yn(t,e){1&t&&(n.Ub(0,"th",10),n.Dc(1,"\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442"),n.Tb())}function Gn(t,e){if(1&t&&(n.Ub(0,"td",11),n.Ub(1,"a",12),n.Dc(2),n.Tb(),n.Tb()),2&t){const t=e.$implicit,i=n.gc();n.Cb(1),n.mc("href",i.fileServerRootUrl+"/"+t.url,n.wc),n.Cb(1),n.Ec(t.filename)}}function Jn(t,e){1&t&&n.Pb(0,"tr",13)}function Kn(t,e){1&t&&n.Pb(0,"tr",14)}let Wn=(()=>{class t{constructor(t,e){this.applicationService=t,this.snackbar=e,this.displayedColumns=["applicationNumber","applicationDate","documentType","document"],this.dataSource=new be.k}ngOnInit(){this.loadAttachments()}ngAfterViewInit(){this.dataSource.sort=this.sort}get fileServerRootUrl(){return a.a.fileServer}loadAttachments(){this.applicationService.getAllAttachments().then(t=>{this.dataSource.data=t.data}).catch(t=>{this.snackbar.open(t.error.Message,null,{duration:3e3})})}}return t.\u0275fac=function(e){return new(e||t)(n.Ob(Ut),n.Ob(vt.b))},t.\u0275cmp=n.Ib({type:t,selectors:[["app-attachments-list"]],viewQuery:function(t,e){var i;1&t&&n.Jc(le.a,!0),2&t&&n.sc(i=n.dc())&&(e.sort=i.first)},decls:16,vars:3,consts:[[1,"my-5","mx-3"],["mat-table","",1,"mat-elevation-z8","w-100",3,"dataSource"],["matColumnDef","applicationNumber"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","applicationDate"],["matColumnDef","documentType"],["matColumnDef","document"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["target","_blank",1,"link",3,"href"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(n.Ub(0,"div",0),n.Ub(1,"table",1),n.Sb(2,2),n.Bc(3,En,2,0,"th",3),n.Bc(4,Mn,2,1,"td",4),n.Rb(),n.Sb(5,5),n.Bc(6,Vn,2,0,"th",3),n.Bc(7,qn,3,4,"td",4),n.Rb(),n.Sb(8,6),n.Bc(9,_n,2,0,"th",3),n.Bc(10,Hn,2,1,"td",4),n.Rb(),n.Sb(11,7),n.Bc(12,Yn,2,0,"th",3),n.Bc(13,Gn,3,2,"td",4),n.Rb(),n.Bc(14,Jn,1,0,"tr",8),n.Bc(15,Kn,1,0,"tr",9),n.Tb(),n.Tb()),2&t&&(n.Cb(1),n.mc("dataSource",e.dataSource),n.Cb(13),n.mc("matHeaderRowDef",e.displayedColumns),n.Cb(1),n.mc("matRowDefColumns",e.displayedColumns))},directives:[be.j,be.c,be.e,be.b,be.g,be.i,be.d,be.a,be.f,be.h],pipes:[y.e],styles:[""]}),t})();var Qn=i("f7+R");let Xn=(()=>{class t{constructor(t){this.http=t,this.url=a.a.sharedUrl+"/notifications",this.getNotifications=(t,e)=>this.http.get(`${this.url}?page=${t}&pageLimit=${e}`)}}return t.\u0275fac=function(e){return new(e||t)(n.Yb(yt.b))},t.\u0275prov=n.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Zn(t,e){1&t&&(n.Ub(0,"div",13),n.Pb(1,"mat-spinner",14),n.Tb()),2&t&&(n.Cb(1),n.mc("diameter",50))}function ta(t,e){1&t&&(n.Ub(0,"th",15),n.Dc(1,"\u0422\u0435\u043c\u0430"),n.Tb())}function ea(t,e){if(1&t&&(n.Ub(0,"td",16),n.Dc(1),n.Tb()),2&t){const t=e.$implicit;n.Cb(1),n.Fc(" ",t.title," ")}}function ia(t,e){1&t&&(n.Ub(0,"th",15),n.Dc(1,"\u0414\u0430\u0442\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f"),n.Tb())}function na(t,e){if(1&t&&(n.Ub(0,"td",16),n.Dc(1),n.hc(2,"date"),n.Tb()),2&t){const t=e.$implicit;n.Cb(1),n.Fc(" ",n.jc(2,1,t.createdDate,"dd-MM-yyyy")," ")}}function aa(t,e){if(1&t&&(n.Ub(0,"td",16),n.Ub(1,"div",17),n.Ub(2,"div",18),n.Dc(3),n.Tb(),n.Tb(),n.Tb()),2&t){const t=e.$implicit,i=n.gc();n.Db("colspan",i.displayedColumns.length),n.Cb(1),n.mc("@detailExpand",t==i.selectedNotification?"expanded":"collapsed"),n.Cb(2),n.Fc(" ",t.body," ")}}function oa(t,e){1&t&&n.Pb(0,"tr",19)}function ca(t,e){if(1&t){const t=n.Vb();n.Ub(0,"tr",20),n.cc("click",(function(){n.vc(t);const i=e.$implicit;return n.gc().toggleExpandableBlock(i)})),n.Tb()}if(2&t){const t=e.$implicit,i=n.gc();n.Fb("expanded-row",i.selectedNotification===t)}}function sa(t,e){1&t&&n.Pb(0,"tr",21)}const ra=function(t){return{minHeight:t}},la=function(){return["expandedDetail"]};let ba=(()=>{class t{constructor(t,e){this.notificationService=t,this.cdr=e,this.displayedColumns=["title","createdDate"],this.data=[],this.isLoading=!1,this.totalCount=0,this.selectedNotification=null}ngAfterViewInit(){this.paginator.page.pipe(Object(zi.a)({}),Object(Li.a)(()=>(this.isLoading=!0,this.notificationService.getNotifications(this.paginator.pageIndex+1,this.paginator.pageSize).pipe(Object(Ei.a)(()=>Object(Ni.a)(null))))),Object(O.a)(t=>(this.isLoading=!1,null==t?[]:(this.totalCount=t.data.count,this.selectedNotification=null,t.data.list)))).subscribe(t=>this.data=t),this.cdr.detectChanges()}toggleExpandableBlock(t){this.selectedNotification=this.selectedNotification===t?null:t}}return t.\u0275fac=function(e){return new(e||t)(n.Ob(Xn),n.Ob(n.h))},t.\u0275cmp=n.Ib({type:t,selectors:[["app-notifications"]],viewQuery:function(t,e){var i;1&t&&n.Jc($i.a,!0),2&t&&n.sc(i=n.dc())&&(e.paginator=i.first)},decls:16,vars:11,consts:[[1,"wrapper","my-5","mx-3"],["class","loader",4,"ngIf"],[1,"content",3,"ngStyle"],["mat-table","","multiTemplateDataRows","",1,"mat-elevation-z8","w-100",3,"dataSource"],["matColumnDef","title"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","createdDate"],["matColumnDef","expandedDetail"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","element-row",3,"expanded-row","click",4,"matRowDef","matRowDefColumns"],["mat-row","","class","detail-row",4,"matRowDef","matRowDefColumns"],["aria-label","Select page of user notifications search results",1,"mat-elevation-z8",3,"length","pageSize"],[1,"loader"],[3,"diameter"],["mat-header-cell",""],["mat-cell",""],[1,"element-detail"],[1,"element-description"],["mat-header-row",""],["mat-row","",1,"element-row",3,"click"],["mat-row","",1,"detail-row"]],template:function(t,e){1&t&&(n.Ub(0,"div",0),n.Bc(1,Zn,2,1,"div",1),n.Ub(2,"div",2),n.Ub(3,"table",3),n.Sb(4,4),n.Bc(5,ta,2,0,"th",5),n.Bc(6,ea,2,1,"td",6),n.Rb(),n.Sb(7,7),n.Bc(8,ia,2,0,"th",5),n.Bc(9,na,3,4,"td",6),n.Rb(),n.Sb(10,8),n.Bc(11,aa,4,3,"td",6),n.Rb(),n.Bc(12,oa,1,0,"tr",9),n.Bc(13,ca,1,2,"tr",10),n.Bc(14,sa,1,0,"tr",11),n.Tb(),n.Tb(),n.Pb(15,"mat-paginator",12),n.Tb()),2&t&&(n.Cb(1),n.mc("ngIf",e.isLoading),n.Cb(1),n.mc("ngStyle",n.pc(8,ra,e.isLoading?"200px":"unset")),n.Cb(1),n.mc("dataSource",e.data),n.Cb(9),n.mc("matHeaderRowDef",e.displayedColumns),n.Cb(1),n.mc("matRowDefColumns",e.displayedColumns),n.Cb(1),n.mc("matRowDefColumns",n.oc(10,la)),n.Cb(1),n.mc("length",e.totalCount)("pageSize",10))},directives:[y.l,y.m,be.j,be.c,be.e,be.b,be.g,be.i,$i.a,Mi.b,be.d,be.a,be.f,be.h],pipes:[y.e],styles:[".wrapper[_ngcontent-%COMP%]{position:relative}.loader[_ngcontent-%COMP%]{position:absolute;left:0;top:0;right:0;bottom:56px;background:rgba(0,0,0,.15);z-index:1;display:flex;justify-content:center;align-items:center}table[_ngcontent-%COMP%]{width:100%}tr.detail-row[_ngcontent-%COMP%]{height:0}tr.element-row[_ngcontent-%COMP%]{cursor:pointer}tr.element-row[_ngcontent-%COMP%]:not(.example-expanded-row):hover{background:#f5f5f5}tr.element-row[_ngcontent-%COMP%]:not(.example-expanded-row):active{background:#efefef}.element-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom-width:0}.element-detail[_ngcontent-%COMP%]{overflow:hidden;display:flex}.element-description[_ngcontent-%COMP%]{padding:16px}"],data:{animation:[Object(Qn.p)("detailExpand",[Object(Qn.m)("collapsed, void",Object(Qn.n)({height:"0px",minHeight:"0"})),Object(Qn.m)("expanded",Object(Qn.n)({height:"*"})),Object(Qn.o)("expanded <=> collapsed, void <=> *",Object(Qn.e)("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])]}}),t})();function da(t,e){if(1&t&&(n.Ub(0,"mat-list-item"),n.Ub(1,"mat-icon",5),n.Dc(2,"person"),n.Tb(),n.Ub(3,"div",6),n.Dc(4),n.Tb(),n.Tb()),2&t){const t=n.gc().ngIf;n.Cb(4),n.Hc(" ",t.lastName," ",t.firstName," ",t.middleName," ")}}function ua(t,e){if(1&t&&(n.Ub(0,"mat-list-item"),n.Ub(1,"mat-icon",7),n.Dc(2,"phone"),n.Tb(),n.Ub(3,"div",6),n.Dc(4),n.Tb(),n.Tb()),2&t){const t=n.gc().ngIf;n.Cb(4),n.Ec(t.phone)}}function ma(t,e){if(1&t&&(n.Ub(0,"mat-list-item"),n.Ub(1,"mat-icon",8),n.Dc(2,"email"),n.Tb(),n.Ub(3,"div",6),n.Dc(4),n.Tb(),n.Tb()),2&t){const t=n.gc().ngIf;n.Cb(4),n.Ec(t.email)}}function ha(t,e){if(1&t&&(n.Ub(0,"mat-list-item"),n.Ub(1,"mat-icon",9),n.Dc(2,"badge"),n.Tb(),n.Ub(3,"div",6),n.Dc(4),n.Tb(),n.Tb()),2&t){const t=n.gc().ngIf;n.Cb(4),n.Ec(t.identifier)}}function pa(t,e){if(1&t&&(n.Ub(0,"mat-list-item"),n.Ub(1,"mat-icon",10),n.Dc(2,"date_range"),n.Tb(),n.Ub(3,"div",6),n.Dc(4),n.hc(5,"date"),n.Tb(),n.Tb()),2&t){const t=n.gc().ngIf;n.Cb(4),n.Fc(" ",n.jc(5,1,t.birthDate,"dd-MM-yyyy")," ")}}function fa(t,e){if(1&t&&(n.Ub(0,"mat-list-item"),n.Ub(1,"mat-icon",11),n.Dc(2,"history_toggle_off"),n.Tb(),n.Ub(3,"div",6),n.Dc(4),n.hc(5,"date"),n.hc(6,"date"),n.Tb(),n.Tb()),2&t){const t=n.gc().ngIf;n.Cb(4),n.Gc(" ",n.jc(5,2,t.certificateStartDate,"dd/MM/yyyy")," - ",n.jc(6,5,t.certificateEndDate,"dd/MM/yyyy")," ")}}function ga(t,e){if(1&t&&(n.Ub(0,"div",2),n.Ub(1,"div",3),n.Ub(2,"mat-list"),n.Bc(3,da,5,3,"mat-list-item",4),n.Bc(4,ua,5,1,"mat-list-item",4),n.Bc(5,ma,5,1,"mat-list-item",4),n.Tb(),n.Tb(),n.Ub(6,"div",3),n.Ub(7,"mat-list"),n.Bc(8,ha,5,1,"mat-list-item",4),n.Bc(9,pa,6,4,"mat-list-item",4),n.Bc(10,fa,7,8,"mat-list-item",4),n.Tb(),n.Tb(),n.Tb()),2&t){const t=e.ngIf;n.Cb(3),n.mc("ngIf",t.lastName||t.firstName||t.middleName),n.Cb(1),n.mc("ngIf",t.phone),n.Cb(1),n.mc("ngIf",t.email),n.Cb(3),n.mc("ngIf",t.identifier),n.Cb(1),n.mc("ngIf",t.birthDate),n.Cb(1),n.mc("ngIf",t.certificateStartDate&&t.certificateEndDate)}}let va=(()=>{class t{constructor(t){this.store=t}ngOnInit(){this.user$=this.store.pipe(Object(D.p)(j.selectUser))}}return t.\u0275fac=function(e){return new(e||t)(n.Ob(D.h))},t.\u0275cmp=n.Ib({type:t,selectors:[["app-contacts"]],decls:3,vars:3,consts:[[1,"container","my-3"],["class","row",4,"ngIf"],[1,"row"],[1,"col"],[4,"ngIf"],["mat-list-icon","","matTooltip","\u0424\u0418\u041e","matTooltipPosition","left"],["mat-line",""],["mat-list-icon","","matTooltip","\u0422\u0435\u043b\u0435\u0444\u043e\u043d","matTooltipPosition","left"],["mat-list-icon","","matTooltip","\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430\u044f \u043f\u043e\u0447\u0442\u0430","matTooltipPosition","left"],["mat-list-icon","","matTooltip","\u0418\u0418\u041d/\u0411\u0418\u041d","matTooltipPosition","left"],["mat-list-icon","","matTooltip","\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f","matTooltipPosition","left"],["mat-list-icon","","matTooltip","\u0421\u0440\u043e\u043a \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f \u042d\u0426\u041f","matTooltipPosition","left"]],template:function(t,e){1&t&&(n.Ub(0,"div",0),n.Bc(1,ga,11,6,"div",1),n.hc(2,"async"),n.Tb()),2&t&&(n.Cb(1),n.mc("ngIf",n.ic(2,1,e.user$)))},directives:[y.l,d.a,d.c,we.a,d.b,zt.a,_t.k],pipes:[y.b,y.e],styles:[""]}),t})();function Ta(t,e){1&t&&(n.Ub(0,"div",3),n.Pb(1,"app-loader"),n.Tb()),2&t&&n.mc("@fadeInOut",void 0)}function ya(t,e){if(1&t&&(n.Ub(0,"mat-tab-group",4),n.Ub(1,"mat-tab",5),n.Pb(2,"app-contracts-list"),n.Tb(),n.Ub(3,"mat-tab",6),n.Pb(4,"app-applications-list"),n.Tb(),n.Ub(5,"mat-tab",7),n.Pb(6,"app-attachments-list"),n.Tb(),n.Ub(7,"mat-tab",8),n.Pb(8,"app-notifications"),n.Tb(),n.Ub(9,"mat-tab",9),n.Pb(10,"app-contacts"),n.Tb(),n.Tb()),2&t){const t=n.gc();n.mc("selectedIndex",t.currentTab)}}let Ua=(()=>{class t{constructor(t,e,i,n){this.applicationService=t,this.snackbar=e,this.store=i,this.dialogService=n,this.ngDestroyed$=new I.a,this.currentTab=0,this.startLoadingApplications=!1,this.applicationId=null,this.isLizingSubmitted=!1,this.isPersistant=!1}ngOnInit(){this.store.select(t=>t.lizing.submitted).pipe(Object(C.a)(this.ngDestroyed$)).subscribe(t=>this.isLizingSubmitted=t),this.store.select(t=>t.lizing.persistant).pipe(Object(C.a)(this.ngDestroyed$)).subscribe(t=>{this.isPersistant=t}),this.store.select(t=>t.lizing.applicationId).pipe(Object(C.a)(this.ngDestroyed$)).subscribe(t=>{this.applicationId=t}),Y(this.store).pipe(Object(C.a)(this.ngDestroyed$)).subscribe(t=>{this.createLizingFormData=t,this.isLizingSubmitted&&this.createLizingFormData.contracts.length>0&&!this.isPersistant?this.createOrUpdateLizingApplication():this.startLoadingApplications=!0})}createOrUpdateLizingApplication(){this.isPersistant||(this.loading=!0,this.applicationService.createLizingApplication(this.createLizingFormData).then(()=>{this.store.dispatch(at())}).catch(t=>{let e="\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0437\u0430\u044f\u0432\u043a\u0443. ";t&&t.error&&t.error.Message&&(e+="\u041f\u0440\u0438\u0447\u0438\u043d\u0430: "+t.error.Message),this.snackbar.open(e,null,{duration:7e3})}).finally(()=>{this.loading=!1,this.startLoadingApplications=!0}))}ngOnDestroy(){this.ngDestroyed$.next(),this.ngDestroyed$.complete()}}return t.\u0275fac=function(e){return new(e||t)(n.Ob(Ut),n.Ob(vt.b),n.Ob(D.h),n.Ob(u.c))},t.\u0275cmp=n.Ib({type:t,selectors:[["app-okaps-products"]],decls:3,vars:2,consts:[[1,"mh-400"],["class","absolute-container",4,"ngIf"],[3,"selectedIndex",4,"ngIf"],[1,"absolute-container"],[3,"selectedIndex"],["label","\u041c\u043e\u0438 \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u0430"],["label","\u041c\u043e\u0438 \u0437\u0430\u044f\u0432\u043a\u0438"],["label","\u041c\u043e\u0438 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b"],["label","\u0423\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f"],["label","\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b"]],template:function(t,e){1&t&&(n.Ub(0,"div",0),n.Bc(1,Ta,2,1,"div",1),n.Bc(2,ya,11,1,"mat-tab-group",2),n.Tb()),2&t&&(n.Cb(1),n.mc("ngIf",e.loading),n.Cb(1),n.mc("ngIf",e.startLoadingApplications))},directives:[y.l,Bi.a,r.b,r.a,un,Ln,Wn,ba,va],styles:[""],data:{animation:[_.a]}}),t})();const Da={id:null,fullName:null,address:null,phone:null,fax:null,email:null,identifier:null,identificationDocument:null,region:null,workExperience:null},Ca=Object.assign(Object.assign({},Da),{regionId:null,ownershipFormId:null,oked:[],registrationDocument:null,affiliatedOrganizations:[],creditHistory:[],bankAccounts:[],debts:[],isAffiliated:!1,legalFormId:null,parent:null,shareInCapital:null,taxTreatmentId:null,subjectOfEntrepreneurId:null}),Oa=(Object.assign(Object.assign({},Da),{birthDate:null,birthPlace:null,education:null,marriageStatusId:null,spouse:null,countryId:null}),{id:null,isReadOnly:!1,loanType:null,organization:Ca,head:null,booker:null,beneficiary:null,representative:null,contacts:[]}),Ia={details:Oa},Sa=Object(P.b)({name:"client",initialState:Ia,reducers:{setDetails:(t,e)=>{null!==e.payload.id?t.details=e.payload:t.details.loanType=e.payload.loanType},clearClientDetails:t=>{t.details=Oa},updateOrganisationDetails:(t,e)=>{t.details.organization=Object.assign(Object.assign({},t.details.organization),e.payload.organization),t.details.beneficiary=e.payload.beneficiary,t.details.representative=e.payload.representative,t.details.contacts=e.payload.contacts},updateHead:(t,e)=>{t.details.head=e.payload},updateBooker:(t,e)=>{t.details.booker=e.payload},addCreditHistory:(t,e)=>{t.details.organization.creditHistory.push(Object.assign({},e.payload))},editCreditHistory:(t,e)=>{t.details.organization.creditHistory=[...t.details.organization.creditHistory.slice(0,e.payload.index),e.payload.data,...t.details.organization.creditHistory.slice(e.payload.index+1)]},removeCreditHistory:(t,e)=>{t.details.organization.creditHistory=[...t.details.organization.creditHistory.slice(0,e.payload),...t.details.organization.creditHistory.slice(e.payload+1)]},addAffilatedOrganisation:(t,e)=>{t.details.organization.affiliatedOrganizations.push(Object.assign({},e.payload))},editAffilatedOrganisation:(t,e)=>{t.details.organization.affiliatedOrganizations=[...t.details.organization.affiliatedOrganizations.slice(0,e.payload.index),e.payload.data,...t.details.organization.affiliatedOrganizations.slice(e.payload.index+1)]},removeAffilatedOrganisation:(t,e)=>{t.details.organization.affiliatedOrganizations=[...t.details.organization.affiliatedOrganizations.slice(0,e.payload),...t.details.organization.affiliatedOrganizations.slice(e.payload+1)]}}}),{setDetails:wa,clearClientDetails:ka,updateOrganisationDetails:xa,updateHead:ja,updateBooker:Pa,addCreditHistory:Fa,editCreditHistory:Ra,removeCreditHistory:Aa,addAffilatedOrganisation:Ba,editAffilatedOrganisation:$a,removeAffilatedOrganisation:Na}=Sa.actions;var za=Sa.reducer;function La(t,e,i){return n=>{if(!n.parent)return null;let a=null;if(t()&&(a=e(n)),i&&a){const t={};t[i]=a,a=t}return a}}var Ea=i("gcUQ"),Ma=i("zmEM");function Va(t,e){1&t&&(n.Ub(0,"mat-form-field",5),n.Ub(1,"mat-label"),n.Dc(2,"\u0424\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u0430\u0434\u0440\u0435\u0441"),n.Tb(),n.Pb(3,"input",35),n.Tb())}function qa(t,e){if(1&t&&(n.Ub(0,"mat-option",36),n.Dc(1),n.Tb()),2&t){const t=e.$implicit;n.mc("value",t),n.Cb(1),n.Fc(" ",t.name," ")}}function _a(t,e){if(1&t&&(n.Ub(0,"mat-option",36),n.Dc(1),n.Tb()),2&t){const t=e.$implicit;n.mc("value",t.id),n.Cb(1),n.Fc(" ",t.name," ")}}function Ha(t,e){if(1&t&&(n.Ub(0,"mat-option",36),n.Dc(1),n.Tb()),2&t){const t=e.$implicit;n.mc("value",t),n.Cb(1),n.Fc(" ",t.name," ")}}function Ya(t,e){if(1&t&&(n.Ub(0,"mat-option",36),n.Dc(1),n.Tb()),2&t){const t=e.$implicit;n.mc("value",t),n.Cb(1),n.Fc(" ",t.name," ")}}function Ga(t,e){if(1&t&&(n.Ub(0,"mat-option",36),n.Dc(1),n.Tb()),2&t){const t=e.$implicit;n.mc("value",t),n.Cb(1),n.Fc(" ",t.name," ")}}function Ja(t,e){if(1&t&&(n.Ub(0,"mat-option",36),n.Dc(1),n.Tb()),2&t){const t=e.$implicit;n.mc("value",t),n.Cb(1),n.Fc(" ",t.name," ")}}function Ka(t,e){if(1&t&&(n.Ub(0,"div"),n.Ub(1,"div",2),n.Ub(2,"div",3),n.Ub(3,"p",4),n.Dc(4,"\u0424\u043e\u0440\u043c\u0430 \u0441\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0441\u0442\u0438 *"),n.Tb(),n.Tb(),n.Ub(5,"div",3),n.Ub(6,"mat-form-field",5),n.Ub(7,"mat-label"),n.Dc(8,"\u0424\u043e\u0440\u043c\u0430 \u0441\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0441\u0442\u0438"),n.Tb(),n.Ub(9,"mat-select",37),n.Bc(10,Ja,2,2,"mat-option",19),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Ub(11,"div",2),n.Ub(12,"div",3),n.Ub(13,"p"),n.Dc(14,"\u041a\u0443\u0440\u0438\u0440\u0443\u044e\u0449\u0435\u0435 \u0432\u0435\u0434\u043e\u043c\u0441\u0442\u0432\u043e, \u0445\u043e\u043b\u0434\u0438\u043d\u0433 \u0438\u043b\u0438 \u043c\u0430\u0442\u0435\u0440\u0438\u043d\u0441\u043a\u0430\u044f \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u044f"),n.Tb(),n.Tb(),n.Ub(15,"div",3),n.Ub(16,"mat-form-field",5),n.Ub(17,"mat-label"),n.Dc(18,"\u041f\u043e\u043b\u043d\u043e\u0435 \u043d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435"),n.Tb(),n.Pb(19,"input",38),n.Tb(),n.Tb(),n.Tb(),n.Tb()),2&t){const t=n.gc();n.Cb(10),n.mc("ngForOf",t.ownerShipFormTypes)}}function Wa(t,e){if(1&t&&(n.Ub(0,"div"),n.Ub(1,"div",7),n.Ub(2,"div",3),n.Ub(3,"p",4),n.Dc(4," \u041d\u043e\u043c\u0435\u0440 \u0438 \u0434\u0430\u0442\u0430 \u0441\u0432\u0438\u0434\u0435\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430 \u043e \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438 (\u043f\u0435\u0440\u0435\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438) * "),n.Tb(),n.Tb(),n.Ub(5,"div",3),n.Ub(6,"mat-form-field",5),n.Ub(7,"mat-label"),n.Dc(8,"\u041d\u043e\u043c\u0435\u0440"),n.Tb(),n.Pb(9,"input",39),n.Tb(),n.Ub(10,"mat-form-field",5),n.Ub(11,"mat-label"),n.Dc(12,"\u041a\u0435\u043c \u0432\u044b\u0434\u0430\u043d\u043e"),n.Tb(),n.Pb(13,"input",40),n.Tb(),n.Ub(14,"mat-form-field",5),n.Ub(15,"mat-label"),n.Dc(16,"\u0414\u0430\u0442\u0430 \u0432\u044b\u0434\u0430\u0447\u0438"),n.Tb(),n.Pb(17,"input",41),n.Pb(18,"mat-datepicker-toggle",16),n.Pb(19,"mat-datepicker",null,42),n.Tb(),n.Tb(),n.Tb(),n.Ub(21,"div",7),n.Ub(22,"div",3),n.Ub(23,"p",4),n.Dc(24," \u041d\u043e\u043c\u0435\u0440 \u0438 \u0434\u0430\u0442\u0430 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438 (\u043f\u0435\u0440\u0435\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438) * "),n.Tb(),n.Tb(),n.Ub(25,"div",3),n.Ub(26,"mat-form-field",5),n.Ub(27,"mat-label"),n.Dc(28,"\u041d\u043e\u043c\u0435\u0440"),n.Tb(),n.Pb(29,"input",39),n.Tb(),n.Ub(30,"mat-form-field",5),n.Ub(31,"mat-label"),n.Dc(32,"\u041a\u0435\u043c \u0432\u044b\u0434\u0430\u043d\u043e"),n.Tb(),n.Pb(33,"input",40),n.Tb(),n.Ub(34,"mat-form-field",5),n.Ub(35,"mat-label"),n.Dc(36,"\u0414\u0430\u0442\u0430 \u0432\u044b\u0434\u0430\u0447\u0438"),n.Tb(),n.Pb(37,"input",41),n.Pb(38,"mat-datepicker-toggle",16),n.Pb(39,"mat-datepicker",null,43),n.Tb(),n.Tb(),n.Tb(),n.Tb()),2&t){const t=n.tc(20),e=n.tc(40),i=n.gc();n.Cb(1),n.mc("formGroup",i.form.get("registrationDocument")),n.Cb(16),n.mc("matDatepicker",t),n.Cb(1),n.mc("for",t),n.Cb(3),n.mc("formGroup",i.form.get("identificationDocument")),n.Cb(16),n.mc("matDatepicker",e),n.Cb(1),n.mc("for",e)}}function Qa(t,e){if(1&t&&(n.Ub(0,"mat-option",36),n.Dc(1),n.Tb()),2&t){const t=e.$implicit;n.mc("value",t),n.Cb(1),n.Fc(" ",t.name," ")}}function Xa(t,e){1&t&&(n.Ub(0,"div",2),n.Ub(1,"div",3),n.Ub(2,"p",4),n.Dc(3,"\u0418\u0418\u041d *"),n.Tb(),n.Tb(),n.Ub(4,"div",3),n.Ub(5,"mat-form-field",5),n.Ub(6,"mat-label"),n.Dc(7,"\u0418\u0418\u041d"),n.Tb(),n.Pb(8,"input",53),n.Tb(),n.Tb(),n.Tb()),2&t&&(n.Cb(8),n.mc("showMaskTyped",!0))}function Za(t,e){if(1&t&&(n.Ub(0,"section",44),n.Ub(1,"div",45),n.Ub(2,"div",46),n.Ub(3,"mat-icon",47),n.Dc(4,"info"),n.Tb(),n.Ub(5,"div",48),n.Dc(6," \u0415\u0441\u043b\u0438 \u0440\u0443\u043a\u043e\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c \u043d\u0435 \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0431\u0435\u043d\u0435\u0444\u0438\u0446\u0438\u0430\u0440\u043e\u043c, \u0442\u043e \u0432\u0430\u043c \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u0444\u043e\u0440\u043c\u0443 \u043d\u0438\u0436\u0435. "),n.Tb(),n.Tb(),n.Tb(),n.Ub(7,"div",2),n.Ub(8,"div",3),n.Ub(9,"p",4),n.Dc(10,"\u0424\u0418\u041e *"),n.Tb(),n.Tb(),n.Ub(11,"div",3),n.Ub(12,"mat-form-field",5),n.Ub(13,"mat-label"),n.Dc(14,"\u0424\u0418\u041e"),n.Tb(),n.Pb(15,"input",6),n.Tb(),n.Tb(),n.Tb(),n.Ub(16,"div",2),n.Ub(17,"div",3),n.Ub(18,"p",4),n.Dc(19,"\u042e\u0440\u0438\u0434\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u0430\u0434\u0440\u0435\u0441 *"),n.Tb(),n.Tb(),n.Ub(20,"div",3),n.Ub(21,"mat-form-field",5),n.Ub(22,"mat-label"),n.Dc(23,"\u042e\u0440\u0438\u0434\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u0430\u0434\u0440\u0435\u0441"),n.Tb(),n.Pb(24,"input",49),n.Tb(),n.Tb(),n.Tb(),n.Ub(25,"div",2),n.Ub(26,"div",3),n.Ub(27,"p",4),n.Dc(28,"\u0413\u0440\u0430\u0436\u0434\u0430\u043d\u0441\u0442\u0432\u043e *"),n.Tb(),n.Tb(),n.Ub(29,"div",3),n.Ub(30,"mat-form-field",5),n.Ub(31,"mat-label"),n.Dc(32,"\u0421\u0442\u0440\u0430\u043d\u0430"),n.Tb(),n.Ub(33,"mat-select",50),n.Bc(34,Qa,2,2,"mat-option",19),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Bc(35,Xa,9,1,"div",51),n.Ub(36,"div",7),n.Ub(37,"div",3),n.Ub(38,"p",4),n.Dc(39,"\u041f\u0430\u0441\u043f\u043e\u0440\u0442\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 *"),n.Tb(),n.Tb(),n.Ub(40,"div",3),n.Ub(41,"mat-form-field",5),n.Ub(42,"mat-label"),n.Dc(43,"\u041d\u043e\u043c\u0435\u0440"),n.Tb(),n.Pb(44,"input",39),n.Tb(),n.Ub(45,"mat-form-field",5),n.Ub(46,"mat-label"),n.Dc(47,"\u041a\u0435\u043c \u0432\u044b\u0434\u0430\u043d\u043e"),n.Tb(),n.Pb(48,"input",40),n.Tb(),n.Ub(49,"mat-form-field",5),n.Ub(50,"mat-label"),n.Dc(51,"\u0414\u0430\u0442\u0430 \u0432\u044b\u0434\u0430\u0447\u0438"),n.Tb(),n.Pb(52,"input",41),n.Pb(53,"mat-datepicker-toggle",16),n.Pb(54,"mat-datepicker",null,52),n.Tb(),n.Tb(),n.Tb(),n.Tb()),2&t){const t=n.tc(55),e=n.gc();n.mc("formGroup",e.form.get("beneficiary")),n.Cb(34),n.mc("ngForOf",e.countries),n.Cb(1),n.mc("ngIf",e.beneficiaryIsResident),n.Cb(1),n.mc("formGroup",e.form.get("beneficiary").get("identificationDocument")),n.Cb(16),n.mc("matDatepicker",t),n.Cb(1),n.mc("for",t)}}function to(t,e){if(1&t&&(n.Ub(0,"mat-option",36),n.Dc(1),n.Tb()),2&t){const t=e.$implicit;n.mc("value",t),n.Cb(1),n.Fc(" ",t.name," ")}}function eo(t,e){1&t&&(n.Ub(0,"div",2),n.Ub(1,"div",3),n.Ub(2,"p",4),n.Dc(3,"\u0418\u0418\u041d *"),n.Tb(),n.Tb(),n.Ub(4,"div",3),n.Ub(5,"mat-form-field",5),n.Ub(6,"mat-label"),n.Dc(7,"\u0418\u0418\u041d"),n.Tb(),n.Pb(8,"input",53),n.Tb(),n.Tb(),n.Tb()),2&t&&(n.Cb(8),n.mc("showMaskTyped",!0))}function io(t,e){if(1&t&&(n.Ub(0,"section",44),n.Ub(1,"div",2),n.Ub(2,"div",3),n.Ub(3,"p",4),n.Dc(4,"\u0424\u0418\u041e *"),n.Tb(),n.Tb(),n.Ub(5,"div",3),n.Ub(6,"mat-form-field",5),n.Ub(7,"mat-label"),n.Dc(8,"\u0424\u0418\u041e"),n.Tb(),n.Pb(9,"input",6),n.Tb(),n.Tb(),n.Tb(),n.Ub(10,"div",2),n.Ub(11,"div",3),n.Ub(12,"p",4),n.Dc(13,"\u042e\u0440\u0438\u0434\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u0430\u0434\u0440\u0435\u0441 *"),n.Tb(),n.Tb(),n.Ub(14,"div",3),n.Ub(15,"mat-form-field",5),n.Ub(16,"mat-label"),n.Dc(17,"\u042e\u0440\u0438\u0434\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u0430\u0434\u0440\u0435\u0441"),n.Tb(),n.Pb(18,"input",49),n.Tb(),n.Tb(),n.Tb(),n.Ub(19,"div",2),n.Ub(20,"div",3),n.Ub(21,"p",4),n.Dc(22,"\u0413\u0440\u0430\u0436\u0434\u0430\u043d\u0441\u0442\u0432\u043e *"),n.Tb(),n.Tb(),n.Ub(23,"div",3),n.Ub(24,"mat-form-field",5),n.Ub(25,"mat-label"),n.Dc(26,"\u0421\u0442\u0440\u0430\u043d\u0430"),n.Tb(),n.Ub(27,"mat-select",50),n.Bc(28,to,2,2,"mat-option",19),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Bc(29,eo,9,1,"div",51),n.Ub(30,"div",7),n.Ub(31,"div",3),n.Ub(32,"p",4),n.Dc(33,"\u041f\u0430\u0441\u043f\u043e\u0440\u0442\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 *"),n.Tb(),n.Tb(),n.Ub(34,"div",3),n.Ub(35,"mat-form-field",5),n.Ub(36,"mat-label"),n.Dc(37,"\u041d\u043e\u043c\u0435\u0440"),n.Tb(),n.Pb(38,"input",39),n.Tb(),n.Ub(39,"mat-form-field",5),n.Ub(40,"mat-label"),n.Dc(41,"\u041a\u0435\u043c \u0432\u044b\u0434\u0430\u043d\u043e"),n.Tb(),n.Pb(42,"input",40),n.Tb(),n.Ub(43,"mat-form-field",5),n.Ub(44,"mat-label"),n.Dc(45,"\u0414\u0430\u0442\u0430 \u0432\u044b\u0434\u0430\u0447\u0438"),n.Tb(),n.Pb(46,"input",41),n.Pb(47,"mat-datepicker-toggle",16),n.Pb(48,"mat-datepicker",null,54),n.Tb(),n.Tb(),n.Tb(),n.Tb()),2&t){const t=n.tc(49),e=n.gc();n.mc("formGroup",e.form.get("representative")),n.Cb(28),n.mc("ngForOf",e.countries),n.Cb(1),n.mc("ngIf",e.representativeIsResident),n.Cb(1),n.mc("formGroup",e.form.get("representative").get("identificationDocument")),n.Cb(16),n.mc("matDatepicker",t),n.Cb(1),n.mc("for",t)}}function no(t,e){if(1&t){const t=n.Vb();n.Ub(0,"div"),n.Ub(1,"div",55),n.Ub(2,"div",56),n.Ub(3,"mat-form-field",5),n.Ub(4,"mat-label"),n.Dc(5,"\u0424\u0418\u041e"),n.Tb(),n.Pb(6,"input",57),n.Tb(),n.Tb(),n.Ub(7,"div",56),n.Ub(8,"mat-form-field",5),n.Ub(9,"mat-label"),n.Dc(10,"\u0410\u0434\u0440\u0435\u0441 \u043f\u0440\u043e\u0436\u0438\u0432\u0430\u043d\u0438\u044f"),n.Tb(),n.Pb(11,"input",58),n.Tb(),n.Tb(),n.Ub(12,"div",59),n.Ub(13,"mat-form-field",5),n.Ub(14,"mat-label"),n.Dc(15,"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"),n.Tb(),n.Pb(16,"input",60),n.Tb(),n.Tb(),n.Ub(17,"div",61),n.Ub(18,"button",62),n.cc("click",(function(){n.vc(t);const i=e.index;return n.gc().removeContact(i)})),n.Ub(19,"mat-icon"),n.Dc(20,"delete"),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Tb()}if(2&t){const t=e.index,i=n.gc();n.Cb(1),n.mc("formGroupName",t),n.Cb(17),n.mc("disabled",i.isReadOnly)}}function ao(t,e){if(1&t){const t=n.Vb();n.Ub(0,"div"),n.Ub(1,"div",55),n.Ub(2,"div",56),n.Ub(3,"mat-form-field",5),n.Ub(4,"mat-label"),n.Dc(5,"\u0411\u0418\u041a"),n.Tb(),n.Pb(6,"input",63),n.Tb(),n.Tb(),n.Ub(7,"div",56),n.Ub(8,"mat-form-field",5),n.Ub(9,"mat-label"),n.Dc(10,"\u041d\u043e\u043c\u0435\u0440"),n.Tb(),n.Pb(11,"input",64),n.Tb(),n.Tb(),n.Ub(12,"div",61),n.Ub(13,"button",62),n.cc("click",(function(){n.vc(t);const i=e.index;return n.gc().removeBankAccount(i)})),n.Ub(14,"mat-icon"),n.Dc(15,"delete"),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Tb()}if(2&t){const t=e.index,i=n.gc();n.Cb(1),n.mc("formGroupName",t),n.Cb(12),n.mc("disabled",i.isReadOnly)}}let oo=(()=>{class t{constructor(t,e,i){this.dictionaryService=t,this.formBuilder=e,this.store=i,this.ngDestroyed$=new I.a,this.iinMask=[],this.kzCode="KAZ",this.initialContacts=[],this.ownerShipFormTypes=[],this.okedTypes=[],this.legalForms=[],this.countries=[],this.regions=[],this.taxTreatments=[],this.subjectOfEntrepreneurs=[]}ngOnInit(){this.dictionaryService.getOked().then(t=>{this.okedTypes=t.data.list,this.oked.updateValueAndValidity()}),this.dictionaryService.getOwnershipForms().then(t=>{this.ownerShipFormTypes=t.data.list,this.organizationDetails.ownershipFormId&&this.ownershipForm.setValue(t.data.list.find(t=>t.id===this.organizationDetails.ownershipFormId))}),this.dictionaryService.getLegalForms().then(t=>{this.legalForms=t.data.list,this.organizationDetails.legalFormId&&this.legalForm.setValue(t.data.list.find(t=>t.id===this.organizationDetails.legalFormId))}),this.dictionaryService.getCountries().then(t=>{if(this.countries=t.data.list,null!==this.beneficiary&&this.beneficiary.countryId){const e=t.data.list.find(t=>{var e;return t.id===(null===(e=this.beneficiary)||void 0===e?void 0:e.countryId)});e&&this.beneficiaryCountry.setValue(e)}else{const e=t.data.list.find(t=>t.code===this.kzCode);e&&this.beneficiaryCountry.setValue(e)}if(null!==this.representative&&this.representative.countryId){const e=t.data.list.find(t=>{var e;return t.id===(null===(e=this.representative)||void 0===e?void 0:e.countryId)});e&&this.representativeCountry.setValue(e)}else{const e=t.data.list.find(t=>t.code===this.kzCode);e&&this.representativeCountry.setValue(e)}}),this.dictionaryService.getRegions().then(t=>{this.regions=t.data.list,this.organizationDetails.regionId&&this.region.setValue(t.data.list.find(t=>t.id===this.organizationDetails.regionId))}),this.dictionaryService.getTaxTreatments().then(t=>{this.taxTreatments=t.data.list,this.organizationDetails.taxTreatmentId&&this.taxTreatment.setValue(t.data.list.find(t=>t.id===this.organizationDetails.taxTreatmentId))}),this.dictionaryService.getSubjectOfEntrepreneurs().then(t=>{this.subjectOfEntrepreneurs=t.data.list,this.organizationDetails.subjectOfEntrepreneurId&&this.subjectOfEntrepreneur.setValue(t.data.list.find(t=>t.id===this.organizationDetails.subjectOfEntrepreneurId))}),this.store.select(t=>t.client.details.organization).pipe(Object(C.a)(this.ngDestroyed$)).subscribe(t=>{this.organizationDetails=t}),this.store.select(t=>t.client.details.beneficiary).pipe(Object(C.a)(this.ngDestroyed$)).subscribe(t=>{this.beneficiary=t}),this.store.select(t=>t.client.details.representative).pipe(Object(C.a)(this.ngDestroyed$)).subscribe(t=>{this.representative=t}),this.store.select(t=>t.client.details.contacts).pipe(Object(C.a)(this.ngDestroyed$)).subscribe(t=>{this.initialContacts=t}),this.generateForm(),this.legalForm.valueChanges.subscribe(t=>{this.ownershipForm.updateValueAndValidity(),this.parent.updateValueAndValidity(),this.registrationDocumentNumber.updateValueAndValidity(),this.registrationDocumentIssuer.updateValueAndValidity(),this.registrationDocumentDate.updateValueAndValidity(),this.identificationDocumentNumber.updateValueAndValidity(),this.identificationDocumentIssuer.updateValueAndValidity(),this.identificationDocumentDate.updateValueAndValidity()}),this.isAddressDifferent.valueChanges.subscribe(t=>{this.factAddress.updateValueAndValidity()}),this.hasBeneficiary.valueChanges.subscribe(t=>{this.beneficiaryAddress.updateValueAndValidity(),this.beneficiaryCountry.updateValueAndValidity()}),this.beneficiaryCountry.valueChanges.subscribe(t=>{this.beneficiaryIdentifier.updateValueAndValidity(),this.beneficiaryIdentificationDocumentNumber.updateValueAndValidity(),this.beneficiaryIdentificationDocumentIssuer.updateValueAndValidity(),this.beneficiaryIdentificationDocumentDate.updateValueAndValidity()}),this.hasRepresentative.valueChanges.subscribe(t=>{this.representativeAddress.updateValueAndValidity(),this.representativeCountry.updateValueAndValidity()}),this.representativeCountry.valueChanges.subscribe(t=>{this.representativeIdentifier.updateValueAndValidity(),this.representativeIdentificationDocumentNumber.updateValueAndValidity(),this.representativeIdentificationDocumentIssuer.updateValueAndValidity(),this.representativeIdentificationDocumentDate.updateValueAndValidity()})}ngOnDestroy(){this.ngDestroyed$.next(),this.ngDestroyed$.complete()}generateForm(){var t,e,i,n,a,o,c,s,r,l,b,d,u,m,h,p,f,g,v,T,y,D,C,O,I,S,w,k,x;this.form=this.formBuilder.group({fullname:[this.organizationDetails.fullName,[U.u.compose([U.u.required,U.u.maxLength(200)])]],address:this.formBuilder.group({isDifferent:!1,fact:[null===(t=this.organizationDetails.address)||void 0===t?void 0:t.fact,La(()=>this.isAddressDifferent.value,U.u.compose([U.u.required,U.u.maxLength(200)]),"factAddressError")],register:[null===(e=this.organizationDetails.address)||void 0===e?void 0:e.register,[U.u.required,U.u.maxLength(200)]]}),phone:this.formBuilder.group({home:[null===(i=this.organizationDetails.phone)||void 0===i?void 0:i.home,[U.u.maxLength(20)]],mobile:[null===(n=this.organizationDetails.phone)||void 0===n?void 0:n.mobile,[U.u.maxLength(20)]],work:[null===(a=this.organizationDetails.phone)||void 0===a?void 0:a.work,[U.u.required,U.u.maxLength(20)]]}),fax:[this.organizationDetails.fax,[U.u.maxLength(10)]],email:[this.organizationDetails.email,[U.u.required,U.u.maxLength(100)]],registeredDate:[this.organizationDetails.registeredDate,[U.u.required]],region:[null,[U.u.required]],legalForm:[null,[U.u.required]],taxTreatment:[null,[U.u.required]],subjectOfEntrepreneur:[null,[U.u.required]],ownershipForm:[null,La(()=>this.isJuridical,U.u.required,"ownershipFormIdError")],oked:[this.organizationDetails.oked,[U.u.required]],identification:[this.organizationDetails.identifier,[U.u.required,U.u.minLength(12),U.u.maxLength(12)]],registrationDocument:this.formBuilder.group({number:[null===(o=this.organizationDetails.registrationDocument)||void 0===o?void 0:o.number,La(()=>this.isPhysical,U.u.required,"registrationDocumentNumberError")],issuer:[null===(c=this.organizationDetails.registrationDocument)||void 0===c?void 0:c.issuer,La(()=>this.isPhysical,U.u.required,"registrationDocumentIssuerError")],date:[null===(s=this.organizationDetails.registrationDocument)||void 0===s?void 0:s.dateIssue,La(()=>this.isPhysical,U.u.required,"registrationDocumentDateError")]}),parent:[this.organizationDetails.parent,La(()=>this.isJuridical,U.u.maxLength(200),"parentError")],identificationDocument:this.formBuilder.group({number:[null===(r=this.organizationDetails.registrationDocument)||void 0===r?void 0:r.number,La(()=>this.isPhysical,U.u.required,"identificationDocumentNumberError")],issuer:[null===(l=this.organizationDetails.registrationDocument)||void 0===l?void 0:l.issuer,La(()=>this.isPhysical,U.u.required,"identificationDocumentIssuerError")],date:[null===(b=this.organizationDetails.registrationDocument)||void 0===b?void 0:b.dateIssue,La(()=>this.isPhysical,U.u.required,"identificationDocumentDateError")]}),hasBeneficiary:[null!==this.beneficiary,U.u.required],beneficiary:this.formBuilder.group({fullname:[null===(d=this.beneficiary)||void 0===d?void 0:d.fullName,La(()=>this.hasBeneficiary.value,U.u.compose([U.u.required,U.u.maxLength(200)]),"beneficiaryFullNameError")],address:[null===(u=this.beneficiary)||void 0===u?void 0:u.address.register,La(()=>this.hasBeneficiary.value,U.u.compose([U.u.required,U.u.maxLength(200)]),"beneficiaryAddressError")],country:[null,La(()=>this.hasBeneficiary.value,U.u.required,"beneficiaryCountryIdError")],identifier:[null===(m=this.beneficiary)||void 0===m?void 0:m.identifier,La(()=>this.hasBeneficiary.value&&this.beneficiaryIsResident,U.u.compose([U.u.required,U.u.minLength(12),U.u.maxLength(12)]),"beneficiaryIdentifierError")],identificationDocument:this.formBuilder.group({number:[null===(p=null===(h=this.beneficiary)||void 0===h?void 0:h.identificationDocument)||void 0===p?void 0:p.number,La(()=>this.hasBeneficiary.value,U.u.required,"beneficiaryIdentificationDocumentNumberError")],issuer:[null===(g=null===(f=this.beneficiary)||void 0===f?void 0:f.identificationDocument)||void 0===g?void 0:g.issuer,La(()=>this.hasBeneficiary.value,U.u.required,"beneficiaryIdentificationDocumentIssuerError")],date:[null===(T=null===(v=this.beneficiary)||void 0===v?void 0:v.identificationDocument)||void 0===T?void 0:T.dateIssue,La(()=>this.hasBeneficiary.value,U.u.required,"beneficiaryIdentificationDocumentDateError")]})}),hasRepresentative:[null!==this.representative,U.u.required],representative:this.formBuilder.group({fullname:[null===(y=this.representative)||void 0===y?void 0:y.fullName,La(()=>this.hasRepresentative.value,U.u.compose([U.u.required,U.u.maxLength(200)]),"representativeFullNameError")],address:[null===(D=this.representative)||void 0===D?void 0:D.address.register,La(()=>this.hasRepresentative.value,U.u.compose([U.u.required,U.u.maxLength(200)]),"representativeAddressError")],country:[null,La(()=>this.hasRepresentative.value,U.u.required,"representativeCountryIdError")],identifier:[null===(C=this.representative)||void 0===C?void 0:C.identifier,La(()=>this.hasRepresentative.value&&this.representativeIsResident,U.u.compose([U.u.required,U.u.minLength(12),U.u.maxLength(12)]),"representativeIdentifierError")],identificationDocument:this.formBuilder.group({number:[null===(I=null===(O=this.representative)||void 0===O?void 0:O.identificationDocument)||void 0===I?void 0:I.number,La(()=>this.hasRepresentative.value,U.u.required,"representativeIdentificationDocumentNumberError")],issuer:[null===(w=null===(S=this.representative)||void 0===S?void 0:S.identificationDocument)||void 0===w?void 0:w.issuer,La(()=>this.hasRepresentative.value,U.u.required,"representativeIdentificationDocumentIssuerError")],date:[null===(x=null===(k=this.representative)||void 0===k?void 0:k.identificationDocument)||void 0===x?void 0:x.dateIssue,La(()=>this.hasRepresentative.value,U.u.required,"representativeIdentificationDocumentDateError")]})}),contacts:this.formBuilder.array([]),bankAccounts:this.formBuilder.array([])}),this.initialContacts.forEach(t=>this.addContact(t)),this.organizationDetails.bankAccounts.forEach(t=>this.addBankAccount(t)),this.isReadOnly&&this.form.disable()}get fullname(){return this.form.get("fullname")}get registerAddress(){return this.form.get("address").get("register")}get isAddressDifferent(){return this.form.get("address").get("isDifferent")}get factAddress(){return this.form.get("address").get("fact")}get homePhone(){return this.form.get("phone").get("home")}get mobilePhone(){return this.form.get("phone").get("mobile")}get workPhone(){return this.form.get("phone").get("work")}get fax(){return this.form.get("fax")}get email(){return this.form.get("email")}get registeredDate(){return this.form.get("registeredDate")}get region(){return this.form.get("region")}get legalForm(){return this.form.get("legalForm")}get taxTreatment(){return this.form.get("taxTreatment")}get subjectOfEntrepreneur(){return this.form.get("subjectOfEntrepreneur")}get ownershipForm(){return this.form.get("ownershipForm")}get oked(){return this.form.get("oked")}get identification(){return this.form.get("identification")}get registrationDocumentNumber(){return this.form.get("registrationDocument").get("number")}get registrationDocumentIssuer(){return this.form.get("registrationDocument").get("issuer")}get registrationDocumentDate(){return this.form.get("registrationDocument").get("date")}get parent(){return this.form.get("parent")}get identificationDocumentNumber(){return this.form.get("identificationDocument").get("number")}get identificationDocumentIssuer(){return this.form.get("identificationDocument").get("issuer")}get identificationDocumentDate(){return this.form.get("identificationDocument").get("date")}get hasBeneficiary(){return this.form.get("hasBeneficiary")}get beneficiaryFullName(){return this.form.get("beneficiary").get("fullname")}get beneficiaryAddress(){return this.form.get("beneficiary").get("address")}get beneficiaryCountry(){return this.form.get("beneficiary").get("country")}get beneficiaryIdentifier(){return this.form.get("beneficiary").get("identifier")}get beneficiaryIdentificationDocumentNumber(){return this.form.get("beneficiary").get("identificationDocument").get("number")}get beneficiaryIdentificationDocumentIssuer(){return this.form.get("beneficiary").get("identificationDocument").get("issuer")}get beneficiaryIdentificationDocumentDate(){return this.form.get("beneficiary").get("identificationDocument").get("date")}get beneficiaryIsResident(){var t;return"KAZ"===(null===(t=this.beneficiaryCountry.value)||void 0===t?void 0:t.code)}get hasRepresentative(){return this.form.get("hasRepresentative")}get representativeFullName(){return this.form.get("representative").get("fullname")}get representativeAddress(){return this.form.get("representative").get("address")}get representativeCountry(){return this.form.get("representative").get("country")}get representativeIdentifier(){return this.form.get("representative").get("identifier")}get representativeIdentificationDocumentNumber(){return this.form.get("representative").get("identificationDocument").get("number")}get representativeIdentificationDocumentIssuer(){return this.form.get("representative").get("identificationDocument").get("issuer")}get representativeIdentificationDocumentDate(){return this.form.get("representative").get("identificationDocument").get("date")}get representativeIsResident(){var t;return"KAZ"===(null===(t=this.representativeCountry.value)||void 0===t?void 0:t.code)}get contacts(){return this.form.get("contacts")}addContact(t){this.contacts.push(new U.h({id:new U.e(null==t?void 0:t.id),fullname:new U.e(null==t?void 0:t.fullName,U.u.compose([U.u.required,U.u.maxLength(200)])),addressId:new U.e(null==t?void 0:t.address.id),address:new U.e(null==t?void 0:t.address.register,U.u.compose([U.u.required,U.u.maxLength(200)])),phoneId:new U.e(null==t?void 0:t.phone.id),phone:new U.e(null==t?void 0:t.phone.mobile,U.u.compose([U.u.required,U.u.maxLength(20)]))}))}removeContact(t){this.contacts.removeAt(t)}get bankAccounts(){return this.form.get("bankAccounts")}addBankAccount(t){this.bankAccounts.push(new U.h({id:new U.e(null==t?void 0:t.id),bic:new U.e(null==t?void 0:t.bic,U.u.compose([U.u.required,U.u.maxLength(20)])),number:new U.e(null==t?void 0:t.number,U.u.compose([U.u.required,U.u.maxLength(50)]))}))}removeBankAccount(t){this.bankAccounts.removeAt(t)}get isJuridical(){return null!==this.legalForm.value&&"1"===this.legalForm.value.code}get isPhysical(){return null!==this.legalForm.value&&"1"!==this.legalForm.value.code}contactsToPeople(){return Array.from(this.contacts.value).map(t=>({id:t.id,fullName:t.fullname,address:{id:t.addressId,register:t.address,fact:null},phone:{id:t.phoneId,mobile:t.phone,home:null,work:null},birthDate:null,birthPlace:null,countryId:null,education:null,email:null,fax:null,identificationDocument:null,identifier:null,marriageStatusId:null}))}onFormSubmit(){var t,e,i,n,a,o,c,s,r,l,b,d,u,m;if(console.log(this.form),this.form.invalid)return this.form.markAllAsTouched(),!1;const h={organization:Object.assign(Object.assign({},this.organizationDetails),{fullName:this.fullname.value,address:{id:null===(t=this.organizationDetails.address)||void 0===t?void 0:t.id,register:this.registerAddress.value,fact:this.isAddressDifferent?this.factAddress.value:null},phone:{id:null===(e=this.organizationDetails.phone)||void 0===e?void 0:e.id,home:null,mobile:null,work:this.workPhone.value},fax:this.fax.value,email:this.email.value,identifier:this.identification.value,registeredDate:this.registeredDate.value,regionId:this.region.value.id,oked:this.oked.value,legalFormId:this.legalForm.value.id,taxTreatmentId:this.taxTreatment.value.id,subjectOfEntrepreneurId:this.subjectOfEntrepreneur.value.id,ownershipFormId:this.isJuridical?this.ownershipForm.value.id:null,parent:this.isJuridical?this.parent.value:null,registrationDocument:this.isPhysical?{id:null===(i=this.organizationDetails.registrationDocument)||void 0===i?void 0:i.id,number:this.registrationDocumentNumber.value,issuer:this.registrationDocumentIssuer.value,dateIssue:this.registrationDocumentDate.value}:null,identificationDocument:this.isPhysical?{id:null===(n=this.organizationDetails.identificationDocument)||void 0===n?void 0:n.id,number:this.identificationDocumentNumber.value,issuer:this.identificationDocumentIssuer.value,dateIssue:this.identificationDocumentDate.value}:null,bankAccounts:this.bankAccounts.value}),beneficiary:this.hasBeneficiary.value?{id:null===(a=this.beneficiary)||void 0===a?void 0:a.id,fullName:this.beneficiaryFullName.value,address:{id:null===(c=null===(o=this.beneficiary)||void 0===o?void 0:o.address)||void 0===c?void 0:c.id,register:this.beneficiaryAddress.value,fact:null},countryId:this.beneficiaryCountry.value.id,identifier:this.beneficiaryIsResident?this.beneficiaryIdentifier.value:null,identificationDocument:{id:null===(r=null===(s=this.beneficiary)||void 0===s?void 0:s.identificationDocument)||void 0===r?void 0:r.id,number:this.beneficiaryIdentificationDocumentNumber.value,issuer:this.beneficiaryIdentificationDocumentIssuer.value,dateIssue:this.beneficiaryIdentificationDocumentDate.value},birthDate:null,birthPlace:null,email:null,fax:null,education:null,marriageStatusId:null,phone:null}:null,representative:this.hasRepresentative.value?{id:null===(l=this.representative)||void 0===l?void 0:l.id,fullName:this.representativeFullName.value,address:{id:null===(d=null===(b=this.representative)||void 0===b?void 0:b.address)||void 0===d?void 0:d.id,register:this.representativeAddress.value,fact:null},countryId:this.representativeCountry.value.id,identifier:this.representativeIsResident?this.representativeIdentifier.value:null,identificationDocument:{id:null===(m=null===(u=this.representative)||void 0===u?void 0:u.identificationDocument)||void 0===m?void 0:m.id,number:this.representativeIdentificationDocumentNumber.value,issuer:this.representativeIdentificationDocumentIssuer.value,dateIssue:this.representativeIdentificationDocumentDate.value},birthDate:null,birthPlace:null,email:null,fax:null,education:null,marriageStatusId:null,phone:null}:null,contacts:this.contactsToPeople()};return this.store.dispatch(xa(h)),!0}}return t.\u0275fac=function(e){return new(e||t)(n.Ob(Lt),n.Ob(U.d),n.Ob(D.h))},t.\u0275cmp=n.Ib({type:t,selectors:[["app-organisation-form"]],inputs:{isReadOnly:"isReadOnly"},decls:152,vars:20,consts:[[3,"formGroup","ngSubmit"],[1,"container"],[1,"row"],[1,"col"],[1,"input-title"],["appearance","outline"],["formControlName","fullname","matInput",""],[1,"row",3,"formGroup"],["formControlName","register","matInput",""],["formControlName","isDifferent",1,"d-inline-block","mb-3"],["appearance","outline",4,"ngIf"],["formControlName","work","matInput",""],["formControlName","fax","matInput",""],["formControlName","email","matInput",""],["formControlName","identification","matInput","","mask","000000000000","placeHolderCharacter","_",3,"showMaskTyped"],["matInput","","formControlName","registeredDate",3,"matDatepicker"],["matSuffix","",3,"for"],["registeredDate",""],["formControlName","region"],[3,"value",4,"ngFor","ngForOf"],["formControlName","oked","multiple",""],["formControlName","taxTreatment"],["formControlName","subjectOfEntrepreneur"],["formControlName","legalForm"],[4,"ngIf"],[1,"my-3"],["formControlName","hasBeneficiary"],["class","mt-4",3,"formGroup",4,"ngIf"],["formControlName","hasRepresentative"],[1,"row","mb-4"],[1,"col-12"],["formArrayName","contacts"],[4,"ngFor","ngForOf"],["mat-stroked-button","","color","primary",3,"disabled","click"],["formArrayName","bankAccounts"],["formControlName","fact","matInput",""],[3,"value"],["formControlName","ownershipForm"],["formControlName","parent","matInput",""],["formControlName","number","matInput",""],["formControlName","issuer","matInput",""],["matInput","","formControlName","date",3,"matDatepicker"],["registrationDocumentDate",""],["identificationDocumentDate",""],[1,"mt-4",3,"formGroup"],["role","alert",1,"alert","alert-primary"],[1,"d-flex","justify-content-start","align-items-center"],["mat-list-icon",""],[1,"ml-3"],["formControlName","address","matInput",""],["formControlName","country"],["class","row",4,"ngIf"],["beneficiaryRegistrationDocumentDate",""],["formControlName","identifier","mask","000000000000","matInput","",3,"showMaskTyped"],["representativeRegistrationDocumentDate",""],[1,"row",3,"formGroupName"],[1,"col-4"],["matInput","","formControlName","fullname"],["matInput","","formControlName","address"],[1,"col-3"],["matInput","","formControlName","phone"],[1,"col-1"],["mat-icon-button","","color","accent","matTooltip","\u0423\u0434\u0430\u043b\u0438\u0442\u044c","aria-label","delete icon button",1,"my-1","mx-2",3,"disabled","click"],["matInput","","formControlName","bic"],["matInput","","formControlName","number"]],template:function(t,e){if(1&t&&(n.Ub(0,"form",0),n.cc("ngSubmit",(function(){return e.onFormSubmit()})),n.Ub(1,"div",1),n.Ub(2,"div",2),n.Ub(3,"div",3),n.Ub(4,"p",4),n.Dc(5,"\u041f\u043e\u043b\u043d\u043e\u0435 \u043d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 *"),n.Tb(),n.Tb(),n.Ub(6,"div",3),n.Ub(7,"mat-form-field",5),n.Ub(8,"mat-label"),n.Dc(9,"\u041f\u043e\u043b\u043d\u043e\u0435 \u043d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435"),n.Tb(),n.Pb(10,"input",6),n.Tb(),n.Tb(),n.Tb(),n.Ub(11,"div",7),n.Ub(12,"div",3),n.Ub(13,"p",4),n.Dc(14,"\u0410\u0434\u0440\u0435\u0441 *"),n.Tb(),n.Tb(),n.Ub(15,"div",3),n.Ub(16,"mat-form-field",5),n.Ub(17,"mat-label"),n.Dc(18,"\u042e\u0440\u0438\u0434\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u0430\u0434\u0440\u0435\u0441"),n.Tb(),n.Pb(19,"input",8),n.Tb(),n.Ub(20,"mat-checkbox",9),n.Dc(21,"\u0410\u0434\u0440\u0435\u0441 \u043e\u0442\u043b\u0438\u0447\u0430\u0435\u0442\u0441\u044f \u043e\u0442 \u0444\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0433\u043e"),n.Tb(),n.Bc(22,Va,4,0,"mat-form-field",10),n.Tb(),n.Tb(),n.Ub(23,"div",7),n.Ub(24,"div",3),n.Ub(25,"p",4),n.Dc(26,"\u0422\u0435\u043b\u0435\u0444\u043e\u043d *"),n.Tb(),n.Tb(),n.Ub(27,"div",3),n.Ub(28,"mat-form-field",5),n.Ub(29,"mat-label"),n.Dc(30,"\u0420\u0430\u0431\u043e\u0447\u0438\u0439 \u043d\u043e\u043c\u0435\u0440"),n.Tb(),n.Pb(31,"input",11),n.Tb(),n.Tb(),n.Tb(),n.Ub(32,"div",2),n.Ub(33,"div",3),n.Ub(34,"p"),n.Dc(35,"\u0424\u0430\u043a\u0441"),n.Tb(),n.Tb(),n.Ub(36,"div",3),n.Ub(37,"mat-form-field",5),n.Ub(38,"mat-label"),n.Dc(39,"\u0424\u0430\u043a\u0441"),n.Tb(),n.Pb(40,"input",12),n.Tb(),n.Tb(),n.Tb(),n.Ub(41,"div",2),n.Ub(42,"div",3),n.Ub(43,"p",4),n.Dc(44,"\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430\u044f \u043f\u043e\u0447\u0442\u0430 *"),n.Tb(),n.Tb(),n.Ub(45,"div",3),n.Ub(46,"mat-form-field",5),n.Ub(47,"mat-label"),n.Dc(48,"E-mail"),n.Tb(),n.Pb(49,"input",13),n.Tb(),n.Tb(),n.Tb(),n.Ub(50,"div",2),n.Ub(51,"div",3),n.Ub(52,"p",4),n.Dc(53,"\u0418\u0418\u041d/\u0411\u0418\u041d *"),n.Tb(),n.Tb(),n.Ub(54,"div",3),n.Ub(55,"mat-form-field",5),n.Ub(56,"mat-label"),n.Dc(57,"\u0418\u0418\u041d/\u0411\u0418\u041d"),n.Tb(),n.Pb(58,"input",14),n.Tb(),n.Tb(),n.Tb(),n.Ub(59,"div",2),n.Ub(60,"div",3),n.Ub(61,"p",4),n.Dc(62,"\u0414\u0430\u0442\u0430 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438 *"),n.Tb(),n.Tb(),n.Ub(63,"div",3),n.Ub(64,"mat-form-field",5),n.Ub(65,"mat-label"),n.Dc(66,"\u0414\u0430\u0442\u0430 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438"),n.Tb(),n.Pb(67,"input",15),n.Pb(68,"mat-datepicker-toggle",16),n.Pb(69,"mat-datepicker",null,17),n.Tb(),n.Tb(),n.Tb(),n.Ub(71,"div",2),n.Ub(72,"div",3),n.Ub(73,"p",4),n.Dc(74,"\u0420\u0435\u0433\u0438\u043e\u043d *"),n.Tb(),n.Tb(),n.Ub(75,"div",3),n.Ub(76,"mat-form-field",5),n.Ub(77,"mat-label"),n.Dc(78,"\u0420\u0435\u0433\u0438\u043e\u043d"),n.Tb(),n.Ub(79,"mat-select",18),n.Bc(80,qa,2,2,"mat-option",19),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Ub(81,"div",2),n.Ub(82,"div",3),n.Ub(83,"p",4),n.Dc(84,"\u0412\u0438\u0434 \u0434\u0435\u044f\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438 *"),n.Tb(),n.Tb(),n.Ub(85,"div",3),n.Ub(86,"mat-form-field",5),n.Ub(87,"mat-label"),n.Dc(88,"\u0412\u0438\u0434 \u0434\u0435\u044f\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438"),n.Tb(),n.Ub(89,"mat-select",20),n.Bc(90,_a,2,2,"mat-option",19),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Ub(91,"div",2),n.Ub(92,"div",3),n.Ub(93,"p",4),n.Dc(94,"\u041d\u0430\u043b\u043e\u0433\u043e\u0432\u044b\u0439 \u0440\u0435\u0436\u0438\u043c *"),n.Tb(),n.Tb(),n.Ub(95,"div",3),n.Ub(96,"mat-form-field",5),n.Ub(97,"mat-label"),n.Dc(98,"\u041d\u0430\u043b\u043e\u0433\u043e\u0432\u044b\u0439 \u0440\u0435\u0436\u0438\u043c"),n.Tb(),n.Ub(99,"mat-select",21),n.Bc(100,Ha,2,2,"mat-option",19),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Ub(101,"div",2),n.Ub(102,"div",3),n.Ub(103,"p",4),n.Dc(104,"\u0421\u0443\u0431\u044a\u0435\u043a\u0442 \u041f\u0440\u0435\u0434\u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430 *"),n.Tb(),n.Tb(),n.Ub(105,"div",3),n.Ub(106,"mat-form-field",5),n.Ub(107,"mat-label"),n.Dc(108,"\u0421\u0443\u0431\u044a\u0435\u043a\u0442 \u041f\u0440\u0435\u0434\u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430"),n.Tb(),n.Ub(109,"mat-select",22),n.Bc(110,Ya,2,2,"mat-option",19),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Ub(111,"div",2),n.Ub(112,"div",3),n.Ub(113,"p",4),n.Dc(114,"\u041e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u043e\u043d\u043d\u043e-\u043f\u0440\u0430\u0432\u043e\u0432\u0430\u044f \u0444\u043e\u0440\u043c\u0430 *"),n.Tb(),n.Tb(),n.Ub(115,"div",3),n.Ub(116,"mat-form-field",5),n.Ub(117,"mat-label"),n.Dc(118,"\u041e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u043e\u043d\u043d\u043e-\u043f\u0440\u0430\u0432\u043e\u0432\u0430\u044f \u0444\u043e\u0440\u043c\u0430"),n.Tb(),n.Ub(119,"mat-select",23),n.Bc(120,Ga,2,2,"mat-option",19),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Bc(121,Ka,20,1,"div",24),n.Bc(122,Wa,41,6,"div",24),n.Pb(123,"mat-divider",25),n.Ub(124,"mat-checkbox",26),n.Dc(125,"\u041d\u0430\u043b\u0438\u0447\u0438\u0435 \u0431\u0435\u043d\u0435\u0444\u0438\u0446\u0438\u0430\u0440\u0430"),n.Tb(),n.Bc(126,Za,56,6,"section",27),n.Pb(127,"mat-divider",25),n.Ub(128,"mat-checkbox",28),n.Dc(129,"\u041d\u0430\u043b\u0438\u0447\u0438\u0435 \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u0438\u0442\u0435\u043b\u044f"),n.Tb(),n.Bc(130,io,50,6,"section",27),n.Pb(131,"mat-divider",25),n.Ub(132,"div",29),n.Ub(133,"div",30),n.Ub(134,"p"),n.Dc(135,"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u043d\u044b\u0435 \u043b\u0438\u0446\u0430"),n.Tb(),n.Tb(),n.Ub(136,"div",30),n.Sb(137,31),n.Bc(138,no,21,2,"div",32),n.Rb(),n.Tb(),n.Ub(139,"div",30),n.Ub(140,"button",33),n.cc("click",(function(){return e.addContact()})),n.Dc(141," \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c "),n.Tb(),n.Tb(),n.Tb(),n.Ub(142,"div",29),n.Ub(143,"div",30),n.Ub(144,"p"),n.Dc(145,"\u0411\u0430\u043d\u043a\u043e\u0432\u0441\u043a\u0438\u0435 \u0441\u0447\u0435\u0442\u0430"),n.Tb(),n.Tb(),n.Ub(146,"div",30),n.Sb(147,34),n.Bc(148,ao,16,2,"div",32),n.Rb(),n.Tb(),n.Ub(149,"div",30),n.Ub(150,"button",33),n.cc("click",(function(){return e.addBankAccount()})),n.Dc(151," \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c "),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Tb()),2&t){const t=n.tc(70);n.mc("formGroup",e.form),n.Cb(11),n.mc("formGroup",e.form.get("address")),n.Cb(11),n.mc("ngIf",e.isAddressDifferent.value),n.Cb(1),n.mc("formGroup",e.form.get("phone")),n.Cb(35),n.mc("showMaskTyped",!0),n.Cb(9),n.mc("matDatepicker",t),n.Cb(1),n.mc("for",t),n.Cb(12),n.mc("ngForOf",e.regions),n.Cb(10),n.mc("ngForOf",e.okedTypes),n.Cb(10),n.mc("ngForOf",e.taxTreatments),n.Cb(10),n.mc("ngForOf",e.subjectOfEntrepreneurs),n.Cb(10),n.mc("ngForOf",e.legalForms),n.Cb(1),n.mc("ngIf",e.isJuridical),n.Cb(1),n.mc("ngIf",e.isPhysical),n.Cb(4),n.mc("ngIf",e.hasBeneficiary.value),n.Cb(4),n.mc("ngIf",e.hasRepresentative.value),n.Cb(8),n.mc("ngForOf",e.contacts.controls),n.Cb(2),n.mc("disabled",e.isReadOnly),n.Cb(8),n.mc("ngForOf",e.bankAccounts.controls),n.Cb(2),n.mc("disabled",e.isReadOnly)}},directives:[U.v,U.p,U.i,Dt.b,Dt.f,U.b,Ct.b,U.o,U.g,Ze.a,y.l,m.a,Ea.b,Ea.d,Dt.g,Ea.a,qt.a,y.k,Ma.a,U.c,T.b,_t.n,we.a,d.b,U.j,zt.a],styles:[".input-title[_ngcontent-%COMP%]{font-weight:600}"]}),t})();function co(t,e){if(1&t&&(n.Ub(0,"mat-option",26),n.Dc(1),n.Tb()),2&t){const t=e.$implicit;n.mc("value",t),n.Cb(1),n.Fc(" ",t.name," ")}}function so(t,e){1&t&&(n.Ub(0,"section",10),n.Ub(1,"div",2),n.Ub(2,"div",3),n.Ub(3,"p",4),n.Dc(4,"\u0418\u0418\u041d *"),n.Tb(),n.Tb(),n.Ub(5,"div",3),n.Ub(6,"mat-form-field",5),n.Ub(7,"mat-label"),n.Dc(8,"\u0418\u0418\u041d"),n.Tb(),n.Pb(9,"input",27),n.Tb(),n.Tb(),n.Tb(),n.Tb()),2&t&&(n.Cb(9),n.mc("showMaskTyped",!0))}function ro(t,e){if(1&t&&(n.Ub(0,"mat-option",26),n.Dc(1),n.Tb()),2&t){const t=e.$implicit;n.mc("value",t),n.Cb(1),n.Fc(" ",t.name," ")}}function lo(t,e){1&t&&(n.Ub(0,"div",2),n.Ub(1,"div",3),n.Ub(2,"p",4),n.Dc(3,"\u0421\u0443\u043f\u0440\u0443\u0433(\u0430) \u0424\u0418\u041e *"),n.Tb(),n.Tb(),n.Ub(4,"div",3),n.Ub(5,"mat-form-field",5),n.Ub(6,"mat-label"),n.Dc(7,"\u0424\u0418\u041e"),n.Tb(),n.Pb(8,"input",33),n.Tb(),n.Tb(),n.Tb())}function bo(t,e){if(1&t&&(n.Ub(0,"section"),n.Ub(1,"div",2),n.Ub(2,"div",3),n.Ub(3,"p",4),n.Dc(4,"\u041e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u0438\u0435 *"),n.Tb(),n.Tb(),n.Ub(5,"div",3),n.Ub(6,"mat-form-field",5),n.Ub(7,"mat-label"),n.Dc(8,"\u041e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u0438\u0435"),n.Tb(),n.Pb(9,"input",28),n.Tb(),n.Tb(),n.Tb(),n.Ub(10,"div",11),n.Ub(11,"div",3),n.Ub(12,"p",4),n.Dc(13,"\u0421\u0442\u0430\u0436 \u0440\u0430\u0431\u043e\u0442\u044b *"),n.Tb(),n.Tb(),n.Ub(14,"div",3),n.Ub(15,"mat-form-field",5),n.Ub(16,"mat-label"),n.Dc(17,"\u041e\u0431\u0449\u0438\u0439"),n.Tb(),n.Pb(18,"input",29),n.Ub(19,"mat-hint"),n.Dc(20,"2 \u0433\u043e\u0434\u0430 9 \u043c\u0435\u0441\u044f\u0446\u0435\u0432"),n.Tb(),n.Tb(),n.Ub(21,"mat-form-field",5),n.Ub(22,"mat-label"),n.Dc(23,"\u0412 \u0441\u0435\u043b\u044c\u0441\u043a\u043e\u043c \u0445\u043e\u0437\u044f\u0439\u0441\u0442\u0432\u0435"),n.Tb(),n.Pb(24,"input",30),n.Ub(25,"mat-hint"),n.Dc(26,"15 \u043b\u0435\u0442 3 \u043c\u0435\u0441\u044f\u0446\u0430"),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Ub(27,"div",2),n.Ub(28,"div",3),n.Ub(29,"p",4),n.Dc(30,"\u0421\u0435\u043c\u0435\u0439\u043d\u044b\u0439 \u0441\u0442\u0430\u0442\u0443\u0441 *"),n.Tb(),n.Tb(),n.Ub(31,"div",3),n.Ub(32,"mat-form-field",5),n.Ub(33,"mat-label"),n.Dc(34,"\u0421\u0435\u043c\u0435\u0439\u043d\u044b\u0439 \u0441\u0442\u0430\u0442\u0443\u0441"),n.Tb(),n.Ub(35,"mat-select",31),n.Bc(36,ro,2,2,"mat-option",8),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Bc(37,lo,9,0,"div",32),n.Tb()),2&t){const t=n.gc();n.Cb(10),n.mc("formGroup",t.form.get("workExperience")),n.Cb(26),n.mc("ngForOf",t.marriageStatuses),n.Cb(1),n.mc("ngIf",null!==t.marriageStatus.value&&2==t.marriageStatus.value.code)}}let uo=(()=>{class t{constructor(t,e){this.formBuilder=t,this.dictionaryService=e,this.iinMask=[],this.marriageStatuses=[],this.countries=[],this.kzCode="KAZ"}ngOnInit(){this.dictionaryService.getMarriageStatuses().then(t=>{var e;if(this.marriageStatuses=t.data.list,null===(e=this.initialState)||void 0===e?void 0:e.marriageStatusId){const e=t.data.list.find(t=>t.id===this.initialState.marriageStatusId);e&&this.marriageStatus.setValue(e)}}),this.dictionaryService.getCountries().then(t=>{var e;if(this.countries=t.data.list,null===(e=this.initialState)||void 0===e?void 0:e.countryId){const e=t.data.list.find(t=>t.id===this.initialState.countryId);e&&this.country.setValue(e)}else{const e=t.data.list.find(t=>t.code===this.kzCode);e&&this.country.setValue(e)}}),this.generateForm(),this.country.valueChanges.subscribe(t=>{this.identifier.updateValueAndValidity(),this.identificationDocumentNumber.updateValueAndValidity(),this.identificationDocumentIssuer.updateValueAndValidity(),this.identificationDocumentDate.updateValueAndValidity()}),this.identifier.valueChanges.subscribe(t=>{if(null!==t&&!t.includes("_")){const e=(t=>{if(null!==t&&12==t.length&&/^\d+$/.test(t)){const e=[];for(let n=0;n<3;n++)e.push(t.substr(2*n,2));const i=(t=>{switch(t){case 1:case 2:return 1800;case 3:case 4:return 1900;case 5:case 6:return 2e3;default:return 0}})(parseInt(t.substr(6,1)));if(0!==i){const t=`${i+parseInt(e[0])}-${e[1]}-${e[2]}`;return new Date(t)}return null}return null})(t);null!==e&&this.birthDate.setValue(e)}})}generateForm(){var t,e,i,n,a,o,c,s,r,l,b,d,u,m,h,p,f,g,v,T,y,D,C,O;this.form=this.formBuilder.group({fullname:[null===(t=this.initialState)||void 0===t?void 0:t.fullName,[U.u.required]],phone:this.formBuilder.group({work:[null===(i=null===(e=this.initialState)||void 0===e?void 0:e.phone)||void 0===i?void 0:i.work],mobile:[null===(a=null===(n=this.initialState)||void 0===n?void 0:n.phone)||void 0===a?void 0:a.mobile,[U.u.required]],home:[null===(c=null===(o=this.initialState)||void 0===o?void 0:o.phone)||void 0===c?void 0:c.home]}),birthDate:[null===(s=this.initialState)||void 0===s?void 0:s.birthDate,[U.u.required]],birthPlace:[null===(r=this.initialState)||void 0===r?void 0:r.birthPlace,[U.u.required]],country:[null,U.u.required],identificationDocument:this.formBuilder.group({number:[null===(b=null===(l=this.initialState)||void 0===l?void 0:l.identificationDocument)||void 0===b?void 0:b.number,[U.u.required]],issuer:[null===(u=null===(d=this.initialState)||void 0===d?void 0:d.identificationDocument)||void 0===u?void 0:u.issuer,[U.u.required]],date:[null===(h=null===(m=this.initialState)||void 0===m?void 0:m.identificationDocument)||void 0===h?void 0:h.dateIssue,[U.u.required]]}),identifier:[null===(p=this.initialState)||void 0===p?void 0:p.identifier,La(()=>this.isResident,U.u.compose([U.u.required,U.u.minLength(12),U.u.maxLength(12)]),"identifierError")],address:this.formBuilder.group({fact:[null===(g=null===(f=this.initialState)||void 0===f?void 0:f.address)||void 0===g?void 0:g.fact,[U.u.required]]}),education:[null===(v=this.initialState)||void 0===v?void 0:v.education,La(()=>this.isExtended,U.u.compose([U.u.required,U.u.maxLength(100)]),"educationError")],workExperience:this.formBuilder.group({total:[null===(y=null===(T=this.initialState)||void 0===T?void 0:T.workExperience)||void 0===y?void 0:y.total,La(()=>this.isExtended,U.u.required,"workExperienceTotalError")],agriculture:[null===(C=null===(D=this.initialState)||void 0===D?void 0:D.workExperience)||void 0===C?void 0:C.agriculture,La(()=>this.isExtended,U.u.required,"workExperienceAgricultureError")]}),marriageStatus:[null,La(()=>this.isExtended,U.u.required,"marriageStatusIdError")],spouse:[null===(O=this.initialState)||void 0===O?void 0:O.spouse]}),this.isReadOnly&&this.form.disable()}get fullname(){return this.form.get("fullname")}get homePhone(){return this.form.get("phone").get("home")}get mobilePhone(){return this.form.get("phone").get("mobile")}get workPhone(){return this.form.get("phone").get("work")}get birthDate(){return this.form.get("birthDate")}get birthPlace(){return this.form.get("birthPlace")}get country(){return this.form.get("country")}get identifier(){return this.form.get("identifier")}get identificationDocumentNumber(){return this.form.get("identificationDocument").get("number")}get identificationDocumentIssuer(){return this.form.get("identificationDocument").get("issuer")}get identificationDocumentDate(){return this.form.get("identificationDocument").get("date")}get factAddress(){return this.form.get("address").get("fact")}get education(){return this.form.get("education")}get workExperienceTotal(){return this.form.get("workExperience").get("total")}get workExperienceAgriculture(){return this.form.get("workExperience").get("agriculture")}get marriageStatus(){return this.form.get("marriageStatus")}get spouse(){return this.form.get("spouse")}get isResident(){var t;return(null===(t=this.country.value)||void 0===t?void 0:t.code)===this.kzCode}onFormSubmit(){var t,e,i,n,a,o,c,s,r,l;return this.form.invalid?(this.form.markAllAsTouched(),null):{id:null===(t=this.initialState)||void 0===t?void 0:t.id,fullName:this.fullname.value,phone:{id:null===(i=null===(e=this.initialState)||void 0===e?void 0:e.phone)||void 0===i?void 0:i.id,home:this.homePhone.value,mobile:this.mobilePhone.value,work:this.workPhone.value},birthDate:this.birthDate.value,birthPlace:this.birthPlace.value,countryId:this.country.value.id,identifier:this.isResident?this.identifier.value:null,identificationDocument:{id:null===(a=null===(n=this.initialState)||void 0===n?void 0:n.identificationDocument)||void 0===a?void 0:a.id,number:this.identificationDocumentNumber.value,issuer:this.identificationDocumentIssuer.value,dateIssue:this.identificationDocumentDate.value},address:{id:null===(c=null===(o=this.initialState)||void 0===o?void 0:o.address)||void 0===c?void 0:c.id,fact:this.factAddress.value,register:null},education:this.isExtended?this.education.value:null,workExperience:this.isExtended?{id:null===(r=null===(s=this.initialState)||void 0===s?void 0:s.workExperience)||void 0===r?void 0:r.id,total:this.workExperienceTotal.value,agriculture:this.workExperienceAgriculture.value}:null,marriageStatusId:this.isExtended?null===(l=this.marriageStatus.value)||void 0===l?void 0:l.id:null,spouse:this.isExtended?this.spouse.value:null,email:null,fax:null}}}return t.\u0275fac=function(e){return new(e||t)(n.Ob(U.d),n.Ob(Lt))},t.\u0275cmp=n.Ib({type:t,selectors:[["app-person-form"]],inputs:{isReadOnly:"isReadOnly",initialState:"initialState",isExtended:"isExtended",name:"name"},decls:91,vars:11,consts:[[3,"formGroup","ngSubmit"],[1,"container"],[1,"row"],[1,"col"],[1,"input-title"],["appearance","outline"],["formControlName","fullname","matInput",""],["formControlName","country"],[3,"value",4,"ngFor","ngForOf"],["class","mt-3",4,"ngIf"],[1,"mt-3"],[1,"row",3,"formGroup"],["formControlName","number","matInput",""],["formControlName","issuer","matInput",""],["appearance","outline",1,"example-form-field"],["matInput","","formControlName","date",3,"matDatepicker"],["matSuffix","",3,"for"],["identificationDocumentDate",""],["formControlName","work","matInput",""],["formControlName","mobile","matInput",""],["formControlName","home","matInput",""],["matInput","","formControlName","birthDate",3,"matDatepicker"],["birthDate",""],["formControlName","birthPlace","matInput",""],["formControlName","fact","matInput",""],[4,"ngIf"],[3,"value"],["formControlName","identifier","matInput","","mask","000000000000",3,"showMaskTyped"],["formControlName","education","matInput",""],["formControlName","total","matInput",""],["formControlName","agriculture","matInput",""],["formControlName","marriageStatus"],["class","row",4,"ngIf"],["formControlName","spouse","matInput",""]],template:function(t,e){if(1&t&&(n.Ub(0,"form",0),n.cc("ngSubmit",(function(){return e.onFormSubmit()})),n.Ub(1,"div",1),n.Ub(2,"div",2),n.Ub(3,"div",3),n.Ub(4,"p",4),n.Dc(5,"\u0424\u0418\u041e *"),n.Tb(),n.Tb(),n.Ub(6,"div",3),n.Ub(7,"mat-form-field",5),n.Ub(8,"mat-label"),n.Dc(9,"\u0424\u0418\u041e"),n.Tb(),n.Pb(10,"input",6),n.Tb(),n.Tb(),n.Tb(),n.Ub(11,"div",2),n.Ub(12,"div",3),n.Ub(13,"p",4),n.Dc(14,"\u0413\u0440\u0430\u0436\u0434\u0430\u043d\u0441\u0442\u0432\u043e *"),n.Tb(),n.Tb(),n.Ub(15,"div",3),n.Ub(16,"mat-form-field",5),n.Ub(17,"mat-label"),n.Dc(18,"\u0421\u0442\u0440\u0430\u043d\u0430"),n.Tb(),n.Ub(19,"mat-select",7),n.Bc(20,co,2,2,"mat-option",8),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Bc(21,so,10,1,"section",9),n.Ub(22,"section",10),n.Ub(23,"div",11),n.Ub(24,"div",3),n.Ub(25,"p",4),n.Dc(26,"\u041f\u0430\u0441\u043f\u043e\u0440\u0442\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 *"),n.Tb(),n.Tb(),n.Ub(27,"div",3),n.Ub(28,"mat-form-field",5),n.Ub(29,"mat-label"),n.Dc(30,"\u041d\u043e\u043c\u0435\u0440"),n.Tb(),n.Pb(31,"input",12),n.Tb(),n.Ub(32,"mat-form-field",5),n.Ub(33,"mat-label"),n.Dc(34,"\u041a\u0435\u043c \u0432\u044b\u0434\u0430\u043d\u043e"),n.Tb(),n.Pb(35,"input",13),n.Tb(),n.Ub(36,"mat-form-field",14),n.Ub(37,"mat-label"),n.Dc(38,"\u0414\u0430\u0442\u0430 \u0432\u044b\u0434\u0430\u0447\u0438"),n.Tb(),n.Pb(39,"input",15),n.Pb(40,"mat-datepicker-toggle",16),n.Pb(41,"mat-datepicker",null,17),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Ub(43,"div",11),n.Ub(44,"div",3),n.Ub(45,"p",4),n.Dc(46,"\u0422\u0435\u043b\u0435\u0444\u043e\u043d *"),n.Tb(),n.Tb(),n.Ub(47,"div",3),n.Ub(48,"mat-form-field",5),n.Ub(49,"mat-label"),n.Dc(50,"\u0420\u0430\u0431\u043e\u0447\u0438\u0439 \u043d\u043e\u043c\u0435\u0440"),n.Tb(),n.Pb(51,"input",18),n.Tb(),n.Ub(52,"mat-form-field",5),n.Ub(53,"mat-label"),n.Dc(54,"\u041c\u043e\u0431\u0438\u043b\u044c\u043d\u044b\u0439 \u043d\u043e\u043c\u0435\u0440"),n.Tb(),n.Pb(55,"input",19),n.Tb(),n.Ub(56,"mat-form-field",5),n.Ub(57,"mat-label"),n.Dc(58,"\u0414\u043e\u043c\u0430\u0448\u043d\u0438\u0439 \u043d\u043e\u043c\u0435\u0440"),n.Tb(),n.Pb(59,"input",20),n.Tb(),n.Tb(),n.Tb(),n.Ub(60,"div",2),n.Ub(61,"div",3),n.Ub(62,"p",4),n.Dc(63,"\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f *"),n.Tb(),n.Tb(),n.Ub(64,"div",3),n.Ub(65,"mat-form-field",5),n.Ub(66,"mat-label"),n.Dc(67,"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u0430\u0442\u0443"),n.Tb(),n.Pb(68,"input",21),n.Pb(69,"mat-datepicker-toggle",16),n.Pb(70,"mat-datepicker",null,22),n.Tb(),n.Tb(),n.Tb(),n.Ub(72,"div",2),n.Ub(73,"div",3),n.Ub(74,"p",4),n.Dc(75,"\u041c\u0435\u0441\u0442\u043e \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f *"),n.Tb(),n.Tb(),n.Ub(76,"div",3),n.Ub(77,"mat-form-field",5),n.Ub(78,"mat-label"),n.Dc(79,"\u041c\u0435\u0441\u0442\u043e \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f"),n.Tb(),n.Pb(80,"input",23),n.Tb(),n.Tb(),n.Tb(),n.Ub(81,"div",11),n.Ub(82,"div",3),n.Ub(83,"p",4),n.Dc(84,"\u0410\u0434\u0440\u0435\u0441 *"),n.Tb(),n.Tb(),n.Ub(85,"div",3),n.Ub(86,"mat-form-field",5),n.Ub(87,"mat-label"),n.Dc(88,"\u0424\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u0430\u0434\u0440\u0435\u0441"),n.Tb(),n.Pb(89,"input",24),n.Tb(),n.Tb(),n.Tb(),n.Bc(90,bo,38,3,"section",25),n.Tb(),n.Tb()),2&t){const t=n.tc(42),i=n.tc(71);n.mc("formGroup",e.form),n.Cb(20),n.mc("ngForOf",e.countries),n.Cb(1),n.mc("ngIf",e.isResident),n.Cb(2),n.mc("formGroup",e.form.get("identificationDocument")),n.Cb(16),n.mc("matDatepicker",t),n.Cb(1),n.mc("for",t),n.Cb(3),n.mc("formGroup",e.form.get("phone")),n.Cb(25),n.mc("matDatepicker",i),n.Cb(1),n.mc("for",i),n.Cb(12),n.mc("formGroup",e.form.get("address")),n.Cb(9),n.mc("ngIf",e.isExtended)}},directives:[U.v,U.p,U.i,Dt.b,Dt.f,U.b,Ct.b,U.o,U.g,qt.a,y.k,y.l,Ea.b,Ea.d,Dt.g,Ea.a,_t.n,m.a,Dt.e],styles:[".input-title[_ngcontent-%COMP%]{font-weight:600}"]}),t})();var mo=i("3Uyd");function ho(t,e){1&t&&(n.Ub(0,"button",15),n.Dc(1," \u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c "),n.Tb())}let po=(()=>{class t{constructor(t,e,i,n){this.formBuilder=t,this.store=e,this.dialogRef=i,this.data=n,this.initialState={id:null,fullName:null,sum:0,dateIssue:null,period:null,balance:null},n&&(this.index=n.index,this.initialState=n.state)}ngOnInit(){this.generateForm()}get isNew(){return null===this.initialState.id}get title(){return this.isNew?"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043a\u0440\u0435\u0434\u0438\u0442\u043d\u043e\u0439 \u0438\u0441\u0442\u043e\u0440\u0438\u0439":"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043a\u0440\u0435\u0434\u0438\u0442\u043d\u043e\u0439 \u0438\u0441\u0442\u043e\u0440\u0438\u0439"}generateForm(){this.form=this.formBuilder.group({fullName:[this.initialState.fullName,U.u.required],sum:[this.initialState.sum,U.u.required],dateIssue:[this.initialState.dateIssue,U.u.required],period:[this.initialState.period,U.u.required],balance:[this.initialState.balance,U.u.required]})}get fullname(){return this.form.get("fullName")}get sum(){return this.form.get("sum")}get dateIssue(){return this.form.get("dateIssue")}get period(){return this.form.get("period")}get balance(){return this.form.get("balance")}onFormSubmit(){this.form.valid?(this.store.dispatch(this.isNew?Fa(this.form.value):Ra({index:this.index,data:this.form.value})),this.dialogRef.close()):this.form.markAllAsTouched()}}return t.\u0275fac=function(e){return new(e||t)(n.Ob(U.d),n.Ob(D.h),n.Ob(u.h),n.Ob(u.a))},t.\u0275cmp=n.Ib({type:t,selectors:[["app-credit-history-dialog-form"]],decls:37,vars:5,consts:[[1,"form",3,"formGroup","ngSubmit"],[1,"text-center","m-0","mb-4"],[1,"row"],[1,"col"],["appearance","outline"],["matInput","","formControlName","fullName"],["matInput","","formControlName","sum","min","0","type","number"],["matInput","","formControlName","dateIssue",3,"matDatepicker"],["matSuffix","",3,"for"],["dateIssue",""],["matInput","","formControlName","period","min","0","type","number"],["matInput","","formControlName","balance","min","0","type","number"],[1,"row","mt-3"],[1,"col","text-center"],["type","submit","color","primary","mat-raised-button","",4,"ngIf"],["type","submit","color","primary","mat-raised-button",""]],template:function(t,e){if(1&t&&(n.Ub(0,"form",0),n.cc("ngSubmit",(function(){return e.onFormSubmit()})),n.Ub(1,"h3",1),n.Dc(2),n.Tb(),n.Ub(3,"div",2),n.Ub(4,"div",3),n.Ub(5,"mat-form-field",4),n.Ub(6,"mat-label"),n.Dc(7,"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u041a\u0422, \u041c\u0424\u041e \u0438\u043b\u0438 \u041c\u041a\u041e"),n.Tb(),n.Pb(8,"input",5),n.Tb(),n.Tb(),n.Tb(),n.Ub(9,"div",2),n.Ub(10,"div",3),n.Ub(11,"mat-form-field",4),n.Ub(12,"mat-label"),n.Dc(13,"\u0421\u0443\u043c\u043c\u0430 \u043a\u0440\u0435\u0434\u0438\u0442\u043d\u043e\u0439 \u0437\u0430\u0434\u043e\u043b\u0436\u0435\u043d\u043d\u043e\u0441\u0442\u0438, \u0442\u0435\u043d\u0433\u0435"),n.Tb(),n.Pb(14,"input",6),n.Tb(),n.Tb(),n.Ub(15,"div",3),n.Ub(16,"mat-form-field",4),n.Ub(17,"mat-label"),n.Dc(18,"\u0414\u0430\u0442\u0430 \u0432\u044b\u0434\u0430\u0447\u0438"),n.Tb(),n.Pb(19,"input",7),n.Pb(20,"mat-datepicker-toggle",8),n.Pb(21,"mat-datepicker",null,9),n.Tb(),n.Tb(),n.Tb(),n.Ub(23,"div",2),n.Ub(24,"div",3),n.Ub(25,"mat-form-field",4),n.Ub(26,"mat-label"),n.Dc(27,"\u0421\u0440\u043e\u043a \u043f\u043e\u0433\u0430\u0448\u0435\u043d\u0438\u044f \u043f\u043e \u043a\u0440\u0435\u0434\u0438\u0442\u043d\u043e\u043c\u0443 \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u0443"),n.Tb(),n.Pb(28,"input",10),n.Tb(),n.Tb(),n.Ub(29,"div",3),n.Ub(30,"mat-form-field",4),n.Ub(31,"mat-label"),n.Dc(32," \u041e\u0441\u0442\u0430\u0442\u043e\u043a \u043d\u0435\u043f\u043e\u0433\u0430\u0448\u0435\u043d\u043d\u043e\u0439 \u0437\u0430\u0434\u043e\u043b\u0436\u0435\u043d\u043d\u043e\u0441\u0442\u0438, \u0442\u0435\u043d\u0433\u0435"),n.Tb(),n.Pb(33,"input",11),n.Tb(),n.Tb(),n.Tb(),n.Ub(34,"div",12),n.Ub(35,"div",13),n.Bc(36,ho,2,0,"button",14),n.Tb(),n.Tb(),n.Tb()),2&t){const t=n.tc(22);n.mc("formGroup",e.form),n.Cb(2),n.Ec(e.title),n.Cb(17),n.mc("matDatepicker",t),n.Cb(1),n.mc("for",t),n.Cb(16),n.mc("ngIf",!e.form.invalid)}},directives:[U.v,U.p,U.i,Dt.b,Dt.f,Ct.b,U.b,U.o,U.g,U.s,Ea.b,Ea.d,Dt.g,Ea.a,y.l,T.b],styles:[".form[_ngcontent-%COMP%]{width:400px}"]}),t})();function fo(t,e){1&t&&(n.Ub(0,"th",16),n.Dc(1," \u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u041a\u0422, \u041c\u0424\u041e \u0438\u043b\u0438 \u041c\u041a\u041e "),n.Tb())}function go(t,e){if(1&t&&(n.Ub(0,"td",17),n.Dc(1),n.Tb()),2&t){const t=e.$implicit;n.Cb(1),n.Ec(t.fullName)}}function vo(t,e){1&t&&(n.Ub(0,"th",16),n.Dc(1," \u0421\u0443\u043c\u043c\u0430 \u043a\u0440\u0435\u0434\u0438\u0442\u043d\u043e\u0439 \u0437\u0430\u0434\u043e\u043b\u0436\u0435\u043d\u043d\u043e\u0441\u0442\u0438, \u0442\u0435\u043d\u0433\u0435 "),n.Tb())}function To(t,e){if(1&t&&(n.Ub(0,"td",17),n.Dc(1),n.hc(2,"amountConverter"),n.Tb()),2&t){const t=e.$implicit;n.Cb(1),n.Fc(" ",n.jc(2,1,t.sum,"ru")," ")}}function yo(t,e){1&t&&(n.Ub(0,"th",16),n.Dc(1,"\u0414\u0430\u0442\u0430 \u0432\u044b\u0434\u0430\u0447\u0438"),n.Tb())}function Uo(t,e){if(1&t&&(n.Ub(0,"td",17),n.Dc(1),n.hc(2,"date"),n.Tb()),2&t){const t=e.$implicit;n.Cb(1),n.Fc(" ",n.jc(2,1,t.dateIssue,"dd.MM.yyyy")," ")}}function Do(t,e){1&t&&(n.Ub(0,"th",16),n.Dc(1," \u0421\u0440\u043e\u043a \u043f\u043e\u0433\u0430\u0448\u0435\u043d\u0438\u044f \u043f\u043e \u043a\u0440\u0435\u0434\u0438\u0442\u043d\u043e\u043c\u0443 \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u0443, \u043c\u0435\u0441\u044f\u0446\u0435\u0432 "),n.Tb())}function Co(t,e){if(1&t&&(n.Ub(0,"td",17),n.Dc(1),n.Tb()),2&t){const t=e.$implicit;n.Cb(1),n.Fc(" ",t.period," ")}}function Oo(t,e){1&t&&(n.Ub(0,"th",16),n.Dc(1," \u041e\u0441\u0442\u0430\u0442\u043e\u043a \u043d\u0435\u043f\u043e\u0433\u0430\u0448\u0435\u043d\u043d\u043e\u0439 \u0437\u0430\u0434\u043e\u043b\u0436\u0435\u043d\u043d\u043e\u0441\u0442\u0438, \u0442\u0435\u043d\u0433\u0435 "),n.Tb())}function Io(t,e){if(1&t&&(n.Ub(0,"td",17),n.Dc(1),n.hc(2,"amountConverter"),n.Tb()),2&t){const t=e.$implicit;n.Cb(1),n.Fc(" ",n.jc(2,1,t.balance,"ru")," ")}}function So(t,e){1&t&&(n.Ub(0,"th",18),n.Dc(1,"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f"),n.Tb())}function wo(t,e){if(1&t){const t=n.Vb();n.Ub(0,"td",17),n.Ub(1,"button",19),n.cc("click",(function(){n.vc(t);const i=e.index;return n.gc().editCreditHistory(i)})),n.Ub(2,"mat-icon"),n.Dc(3,"edit"),n.Tb(),n.Tb(),n.Ub(4,"button",20),n.cc("click",(function(){n.vc(t);const i=e.index;return n.gc().removeCreditHistory(i)})),n.Ub(5,"mat-icon"),n.Dc(6,"delete"),n.Tb(),n.Tb(),n.Tb()}if(2&t){const t=n.gc();n.Cb(1),n.mc("disabled",t.isReadOnly),n.Cb(3),n.mc("disabled",t.isReadOnly)}}function ko(t,e){1&t&&n.Pb(0,"tr",21)}function xo(t,e){1&t&&n.Pb(0,"tr",22)}let jo=(()=>{class t{constructor(t,e){this.store=t,this.dialogService=e,this.ngDestroyed$=new I.a,this.creditHistory=[],this.displayedColumns=["fullname","sum","dateIssue","period","balance","actions"]}ngOnInit(){this.store.select(t=>t.client.details.organization.creditHistory).pipe(Object(C.a)(this.ngDestroyed$)).subscribe(t=>{this.creditHistory=t,this.dataSource=new be.k(t),this.dataSource.sort=this.sort})}ngOnDestroy(){this.ngDestroyed$.next(),this.ngDestroyed$.complete()}addCreditHistory(){this.dialogService.open(po)}editCreditHistory(t){this.dialogService.open(po,{data:{index:t,state:this.creditHistory[t]}})}removeCreditHistory(t){this.store.dispatch(Aa(t))}}return t.\u0275fac=function(e){return new(e||t)(n.Ob(D.h),n.Ob(u.c))},t.\u0275cmp=n.Ib({type:t,selectors:[["app-credit-history-table"]],viewQuery:function(t,e){var i;1&t&&n.Jc(le.a,!0),2&t&&n.sc(i=n.dc())&&(e.sort=i.first)},inputs:{isReadOnly:"isReadOnly"},decls:29,vars:4,consts:[[1,"container"],[1,"row"],[1,"col"],["mat-table","","matSort","",1,"mat-elevation-z8","w-100",3,"dataSource"],["matColumnDef","fullname"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","sum"],["matColumnDef","dateIssue"],["matColumnDef","period"],["matColumnDef","balance"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-raised-button","","color","primary","aria-label","add accessory button",1,"my-3","px-3",3,"disabled","click"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-icon-button","","color","primary","matTooltip","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c","aria-label","edit icon button",1,"m-1",3,"disabled","click"],["mat-icon-button","","color","accent","matTooltip","\u0423\u0434\u0430\u043b\u0438\u0442\u044c","aria-label","delete icon button",1,"my-1","mx-2",3,"disabled","click"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(n.Ub(0,"div",0),n.Ub(1,"div",1),n.Ub(2,"div",2),n.Ub(3,"table",3),n.Sb(4,4),n.Bc(5,fo,2,0,"th",5),n.Bc(6,go,2,1,"td",6),n.Rb(),n.Sb(7,7),n.Bc(8,vo,2,0,"th",5),n.Bc(9,To,3,4,"td",6),n.Rb(),n.Sb(10,8),n.Bc(11,yo,2,0,"th",5),n.Bc(12,Uo,3,4,"td",6),n.Rb(),n.Sb(13,9),n.Bc(14,Do,2,0,"th",5),n.Bc(15,Co,2,1,"td",6),n.Rb(),n.Sb(16,10),n.Bc(17,Oo,2,0,"th",5),n.Bc(18,Io,3,4,"td",6),n.Rb(),n.Sb(19,11),n.Bc(20,So,2,0,"th",12),n.Bc(21,wo,7,2,"td",6),n.Rb(),n.Bc(22,ko,1,0,"tr",13),n.Bc(23,xo,1,0,"tr",14),n.Tb(),n.Tb(),n.Tb(),n.Ub(24,"div",1),n.Ub(25,"div",2),n.Ub(26,"button",15),n.cc("click",(function(){return e.addCreditHistory()})),n.Ub(27,"mat-icon"),n.Dc(28,"add"),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Tb()),2&t&&(n.Cb(3),n.mc("dataSource",e.dataSource),n.Cb(19),n.mc("matHeaderRowDef",e.displayedColumns),n.Cb(1),n.mc("matRowDefColumns",e.displayedColumns),n.Cb(3),n.mc("disabled",e.isReadOnly))},directives:[be.j,le.a,be.c,be.e,be.b,be.g,be.i,T.b,we.a,be.d,le.b,be.a,zt.a,be.f,be.h],pipes:[ke,y.e],styles:[".mat-row[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{text-align:center;justify-content:center}.mat-column-actions[_ngcontent-%COMP%]{min-width:130px}"]}),t})();function Po(t,e){if(1&t){const t=n.Vb();n.Ub(0,"div"),n.Ub(1,"div",22),n.Ub(2,"div",23),n.Ub(3,"mat-form-field",5),n.Ub(4,"mat-label"),n.Dc(5,"\u0411\u0418\u041a"),n.Tb(),n.Pb(6,"input",24),n.Tb(),n.Tb(),n.Ub(7,"div",23),n.Ub(8,"mat-form-field",5),n.Ub(9,"mat-label"),n.Dc(10,"\u2116 \u0441\u0447\u0435\u0442\u0430"),n.Tb(),n.Pb(11,"input",25),n.Tb(),n.Tb(),n.Ub(12,"div",26),n.Ub(13,"button",27),n.cc("click",(function(){n.vc(t);const i=e.index;return n.gc().removeBankAccount(i)})),n.Ub(14,"mat-icon"),n.Dc(15,"delete"),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Tb()}if(2&t){const t=e.index;n.Cb(1),n.mc("formGroupName",t)}}function Fo(t,e){if(1&t){const t=n.Vb();n.Ub(0,"div"),n.Ub(1,"div",22),n.Ub(2,"div",23),n.Ub(3,"mat-form-field",5),n.Ub(4,"mat-label"),n.Dc(5,"\u0417\u0430\u0434\u043e\u043b\u0436\u0435\u043d\u043d\u043e\u0441\u0442\u044c"),n.Tb(),n.Pb(6,"input",28),n.Tb(),n.Tb(),n.Ub(7,"div",23),n.Ub(8,"mat-form-field",5),n.Ub(9,"mat-label"),n.Dc(10,"\u0411\u0418\u041a"),n.Tb(),n.Pb(11,"input",24),n.Tb(),n.Tb(),n.Ub(12,"div",26),n.Ub(13,"button",27),n.cc("click",(function(){n.vc(t);const i=e.index;return n.gc().removeDebt(i)})),n.Ub(14,"mat-icon"),n.Dc(15,"delete"),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Tb()}if(2&t){const t=e.index;n.Cb(1),n.mc("formGroupName",t)}}function Ro(t,e){1&t&&(n.Ub(0,"button",29),n.Dc(1," \u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c "),n.Tb())}let Ao=(()=>{class t{constructor(t,e,i,n){this.formBuilder=t,this.store=e,this.dialogRef=i,this.data=n,this.initialState=Object.assign(Object.assign({},Ca),{head:null}),n&&(this.index=n.index,this.initialState=n.state)}ngOnInit(){this.generateForm()}get isNew(){return null===this.initialState.id}get title(){return this.isNew?"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0430\u0444\u0444\u0438\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0439 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438":"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0430\u0444\u0444\u0438\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0439 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438"}generateForm(){var t,e,i,n,a,o;this.form=this.formBuilder.group({id:[this.initialState.id],fullName:[this.initialState.fullName,U.u.required],identifier:[this.initialState.identifier,U.u.required],address:this.formBuilder.group({fact:null,register:[null===(e=null===(t=this.initialState)||void 0===t?void 0:t.address)||void 0===e?void 0:e.register,U.u.required]}),bankAccounts:this.formBuilder.array([]),shareInCapital:[this.initialState.shareInCapital,U.u.compose([U.u.required,U.u.min(0),U.u.max(100)])],debts:this.formBuilder.array([]),head:this.formBuilder.group({identifier:[null===(n=null===(i=this.initialState)||void 0===i?void 0:i.head)||void 0===n?void 0:n.identifier,U.u.required],fullName:[null===(o=null===(a=this.initialState)||void 0===a?void 0:a.head)||void 0===o?void 0:o.fullName,U.u.required]})}),this.initialState.bankAccounts.forEach(t=>this.addBankAccount(t)),this.initialState.debts.forEach(t=>this.addDebt(t))}get fullname(){return this.form.get("fullName")}get identifier(){return this.form.get("identifier")}get address(){return this.form.get("address")}get shareInCapital(){return this.form.get("shareInCapital")}get bankAccounts(){return this.form.get("bankAccounts")}get debts(){return this.form.get("debts")}get head(){return this.form.get("head")}addBankAccount(t){this.bankAccounts.push(new U.h({id:new U.e(null==t?void 0:t.id),bic:new U.e(null==t?void 0:t.bic,U.u.required),number:new U.e(null==t?void 0:t.number,U.u.required)}))}removeBankAccount(t){this.bankAccounts.removeAt(t)}addDebt(t){this.debts.push(new U.h({id:new U.e(null==t?void 0:t.id),debt:new U.e(null==t?void 0:t.debt,U.u.required),bic:new U.e(null==t?void 0:t.bic)}))}removeDebt(t){this.debts.removeAt(t)}onFormSubmit(){this.form.valid?(this.store.dispatch(this.isNew?Ba(this.form.value):$a({index:this.index,data:this.form.value})),this.dialogRef.close()):this.form.markAllAsTouched()}}return t.\u0275fac=function(e){return new(e||t)(n.Ob(U.d),n.Ob(D.h),n.Ob(u.h),n.Ob(u.a))},t.\u0275cmp=n.Ib({type:t,selectors:[["app-affilated-companies-dialog-form"]],decls:60,vars:9,consts:[[1,"form",3,"formGroup","ngSubmit"],["mat-dialog-title",""],[1,"mat-typography"],[1,"row"],[1,"col"],["appearance","outline"],["matInput","","formControlName","fullName"],["matInput","","formControlName","identifier","mask","000000000000",3,"showMaskTyped"],[1,"col-9",3,"formGroup"],["matInput","","formControlName","register"],[1,"col-3"],["matInput","","formControlName","shareInCapital","min","0","max","100","type","number"],[1,"row",3,"formGroup"],[1,"col-6"],[1,"row","mb-4"],[1,"col-12"],["formArrayName","bankAccounts"],[4,"ngFor","ngForOf"],["mat-stroked-button","","color","primary",3,"click"],["formArrayName","debts"],["align","center"],["class","my-3","type","submit","color","primary","mat-raised-button","",4,"ngIf"],[1,"row",3,"formGroupName"],[1,"col-5"],["matInput","","formControlName","bic"],["matInput","","formControlName","number"],[1,"col-2"],["mat-icon-button","","color","accent","matTooltip","\u0423\u0434\u0430\u043b\u0438\u0442\u044c","aria-label","delete icon button",1,"my-1","mx-2",3,"click"],["matInput","","formControlName","debt","type","number"],["type","submit","color","primary","mat-raised-button","",1,"my-3"]],template:function(t,e){1&t&&(n.Ub(0,"form",0),n.cc("ngSubmit",(function(){return e.onFormSubmit()})),n.Ub(1,"h2",1),n.Dc(2),n.Tb(),n.Ub(3,"mat-dialog-content",2),n.Ub(4,"div",3),n.Ub(5,"div",4),n.Ub(6,"mat-form-field",5),n.Ub(7,"mat-label"),n.Dc(8,"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u0435\u0434\u043f\u0440\u0438\u044f\u0442\u0438\u044f"),n.Tb(),n.Pb(9,"input",6),n.Tb(),n.Tb(),n.Tb(),n.Ub(10,"div",3),n.Ub(11,"div",4),n.Ub(12,"mat-form-field",5),n.Ub(13,"mat-label"),n.Dc(14,"\u0411\u0418\u041d"),n.Tb(),n.Pb(15,"input",7),n.Tb(),n.Tb(),n.Tb(),n.Ub(16,"div",3),n.Ub(17,"div",8),n.Ub(18,"mat-form-field",5),n.Ub(19,"mat-label"),n.Dc(20,"\u0410\u0434\u0440\u0435\u0441"),n.Tb(),n.Pb(21,"input",9),n.Tb(),n.Tb(),n.Ub(22,"div",10),n.Ub(23,"mat-form-field",5),n.Ub(24,"mat-label"),n.Dc(25,"\u0414\u043e\u043b\u0435 \u0432 \u0443\u0441\u0442\u0430\u0432\u043d\u043e\u043c (\u0430\u043a\u0446\u0438\u043e\u043d\u0435\u0440\u043d\u043e\u0439) \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438"),n.Tb(),n.Pb(26,"input",11),n.Tb(),n.Tb(),n.Tb(),n.Ub(27,"div",12),n.Ub(28,"div",13),n.Ub(29,"mat-form-field",5),n.Ub(30,"mat-label"),n.Dc(31,"\u0424\u0418\u041e \u0440\u0443\u043a\u043e\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044f"),n.Tb(),n.Pb(32,"input",6),n.Tb(),n.Tb(),n.Ub(33,"div",13),n.Ub(34,"mat-form-field",5),n.Ub(35,"mat-label"),n.Dc(36,"\u0418\u0418\u041d \u0440\u0443\u043a\u043e\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044f"),n.Tb(),n.Pb(37,"input",7),n.Tb(),n.Tb(),n.Tb(),n.Ub(38,"div",14),n.Ub(39,"div",15),n.Ub(40,"p"),n.Dc(41,"\u041e\u0431\u0441\u043b\u0443\u0436\u0438\u0432\u0430\u044e\u0449\u0438\u0435 \u0431\u0430\u043d\u043a\u0438, \u2116 \u0441\u0447\u0435\u0442\u043e\u0432"),n.Tb(),n.Tb(),n.Ub(42,"div",15),n.Sb(43,16),n.Bc(44,Po,16,1,"div",17),n.Rb(),n.Tb(),n.Ub(45,"div",15),n.Ub(46,"button",18),n.cc("click",(function(){return e.addBankAccount()})),n.Dc(47," \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c "),n.Tb(),n.Tb(),n.Tb(),n.Ub(48,"div",3),n.Ub(49,"div",4),n.Ub(50,"p"),n.Dc(51,"\u0420\u0430\u0437\u043c\u0435\u0440 \u0441\u0441\u0443\u0434\u043d\u043e\u0439 \u0437\u0430\u0434\u043e\u043b\u0436\u0435\u043d\u043d\u043e\u0441\u0442\u0438 \u0441 \u0443\u043a\u0430\u0437\u0430\u043d\u0438\u0435\u043c \u0431\u0430\u043d\u043a\u0430"),n.Tb(),n.Tb(),n.Ub(52,"div",15),n.Sb(53,19),n.Bc(54,Fo,16,1,"div",17),n.Rb(),n.Tb(),n.Ub(55,"div",15),n.Ub(56,"button",18),n.cc("click",(function(){return e.addDebt()})),n.Dc(57," \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c "),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Ub(58,"mat-dialog-actions",20),n.Bc(59,Ro,2,0,"button",21),n.Tb(),n.Tb()),2&t&&(n.mc("formGroup",e.form),n.Cb(2),n.Ec(e.title),n.Cb(13),n.mc("showMaskTyped",!0),n.Cb(2),n.mc("formGroup",e.address),n.Cb(10),n.mc("formGroup",e.head),n.Cb(10),n.mc("showMaskTyped",!0),n.Cb(7),n.mc("ngForOf",e.bankAccounts.controls),n.Cb(10),n.mc("ngForOf",e.debts.controls),n.Cb(5),n.mc("ngIf",!e.form.invalid))},directives:[U.v,U.p,U.i,u.i,u.f,Dt.b,Dt.f,Ct.b,U.b,U.o,U.g,m.a,U.s,U.c,y.k,T.b,u.d,y.l,U.j,zt.a,we.a],styles:[".form[_ngcontent-%COMP%]{width:550px}"]}),t})();function Bo(t,e){1&t&&(n.Ub(0,"th",17),n.Dc(1," \u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u0435\u0434\u043f\u0440\u0438\u044f\u0442\u0438\u044f, \u0430\u0434\u0440\u0435\u0441 "),n.Tb())}function $o(t,e){if(1&t&&(n.Ub(0,"td",18),n.Dc(1),n.Tb()),2&t){const t=e.$implicit;n.Cb(1),n.Ec(t.fullname)}}function No(t,e){1&t&&(n.Ub(0,"th",17),n.Dc(1,"\u0411\u0418\u041d"),n.Tb())}function zo(t,e){if(1&t&&(n.Ub(0,"td",18),n.Dc(1),n.Tb()),2&t){const t=e.$implicit;n.Cb(1),n.Ec(t.identifier)}}function Lo(t,e){1&t&&(n.Ub(0,"th",17),n.Dc(1," \u0420\u0443\u043a\u043e\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c "),n.Tb())}function Eo(t,e){if(1&t&&(n.Ub(0,"td",18),n.Dc(1),n.Tb()),2&t){const t=e.$implicit;n.Cb(1),n.Ec(t.head)}}function Mo(t,e){1&t&&(n.Ub(0,"th",17),n.Dc(1," \u041e\u0431\u0441\u043b\u0443\u0436\u0438\u0432\u0430\u044e\u0449\u0438\u0435 \u0431\u0430\u043d\u043a\u0438, \u2116 \u0441\u0447\u0435\u0442\u043e\u0432 "),n.Tb())}function Vo(t,e){if(1&t&&(n.Ub(0,"td",18),n.Dc(1),n.Tb()),2&t){const t=e.$implicit;n.Cb(1),n.Fc(" ",t.banks," ")}}function qo(t,e){1&t&&(n.Ub(0,"th",17),n.Dc(1," \u0414\u043e\u043b\u0435 \u0432 \u0443\u0441\u0442\u0430\u0432\u043d\u043e\u043c (\u0430\u043a\u0446\u0438\u043e\u043d\u0435\u0440\u043d\u043e\u0439) \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438 "),n.Tb())}function _o(t,e){if(1&t&&(n.Ub(0,"td",18),n.Dc(1),n.Tb()),2&t){const t=e.$implicit;n.Cb(1),n.Fc(" ",t.shareInCapital," ")}}function Ho(t,e){1&t&&(n.Ub(0,"th",17),n.Dc(1," \u0420\u0430\u0437\u043c\u0435\u0440 \u0441\u0441\u0443\u0434\u043d\u043e\u0439 \u0437\u0430\u0434\u043e\u043b\u0436\u0435\u043d\u043d\u043e\u0441\u0442\u0438 \u0441 \u0443\u043a\u0430\u0437\u0430\u043d\u0438\u0435\u043c \u0431\u0430\u043d\u043a\u0430 "),n.Tb())}function Yo(t,e){if(1&t&&(n.Ub(0,"td",18),n.Dc(1),n.Tb()),2&t){const t=e.$implicit;n.Cb(1),n.Fc(" ",t.debts," ")}}function Go(t,e){1&t&&(n.Ub(0,"th",19),n.Dc(1,"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f"),n.Tb())}function Jo(t,e){if(1&t){const t=n.Vb();n.Ub(0,"td",18),n.Ub(1,"button",20),n.cc("click",(function(){n.vc(t);const i=e.index;return n.gc().editAffilatedOrganisation(i)})),n.Ub(2,"mat-icon"),n.Dc(3,"edit"),n.Tb(),n.Tb(),n.Ub(4,"button",21),n.cc("click",(function(){n.vc(t);const i=e.index;return n.gc().removeAffilatedOrganisation(i)})),n.Ub(5,"mat-icon"),n.Dc(6,"delete"),n.Tb(),n.Tb(),n.Tb()}if(2&t){const t=n.gc();n.Cb(1),n.mc("disabled",t.isReadOnly),n.Cb(3),n.mc("disabled",t.isReadOnly)}}function Ko(t,e){1&t&&n.Pb(0,"tr",22)}function Wo(t,e){1&t&&n.Pb(0,"tr",23)}let Qo=(()=>{class t{constructor(t,e){this.store=t,this.dialogService=e,this.ngDestroyed$=new I.a,this.affilatedOrganizations=[],this.displayedColumns=["fullname","identifier","head","banks","shareInCapital","debts","actions"]}ngOnInit(){var t;this.store.select(t=>t.client.details.organization.affiliatedOrganizations).pipe(Object(C.a)(this.ngDestroyed$)).subscribe(t=>{this.affilatedOrganizations=t}),(t=this.store,t.pipe(Object(D.p)(t=>t.client.details.organization.affiliatedOrganizations),Object(O.a)(t=>{let e=[];return t&&t.forEach(t=>{let i="";t.bankAccounts.forEach((t,e)=>{i+=`${t.bic} (${t.number}) `});let n="";t.debts.forEach((t,e)=>{n+=t.debt+(null!==t.bic?` (${t.bic})`:"")+" "}),e.push({id:t.id,fullname:`${t.fullName}, ${t.address.register}`,identifier:t.identifier,shareInCapital:t.shareInCapital,banks:i.substring(0,i.length-1),debts:n.substring(0,n.length-1),head:`${t.head.fullName}, ${t.head.identifier}`})}),e}))).pipe(Object(C.a)(this.ngDestroyed$)).subscribe(t=>{this.dataSource=new be.k(t),this.dataSource.sort=this.sort})}ngOnDestroy(){this.ngDestroyed$.next(),this.ngDestroyed$.complete()}addAffilatedOrganisation(){this.dialogService.open(Ao)}editAffilatedOrganisation(t){this.dialogService.open(Ao,{data:{index:t,state:this.affilatedOrganizations[t]}})}removeAffilatedOrganisation(t){this.store.dispatch(Na(t))}}return t.\u0275fac=function(e){return new(e||t)(n.Ob(D.h),n.Ob(u.c))},t.\u0275cmp=n.Ib({type:t,selectors:[["app-affilated-companies-table"]],viewQuery:function(t,e){var i;1&t&&n.Jc(le.a,!0),2&t&&n.sc(i=n.dc())&&(e.sort=i.first)},inputs:{isReadOnly:"isReadOnly"},decls:32,vars:4,consts:[[1,"container"],[1,"row"],[1,"col"],["mat-table","","matSort","",1,"mat-elevation-z8","w-100",3,"dataSource"],["matColumnDef","fullname"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","identifier"],["matColumnDef","head"],["matColumnDef","banks"],["matColumnDef","shareInCapital"],["matColumnDef","debts"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-raised-button","","color","primary","aria-label","add accessory button",1,"my-3","px-3",3,"disabled","click"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-icon-button","","color","primary","matTooltip","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c","aria-label","edit icon button",1,"m-1",3,"disabled","click"],["mat-icon-button","","color","accent","matTooltip","\u0423\u0434\u0430\u043b\u0438\u0442\u044c","aria-label","delete icon button",1,"my-1","mx-2",3,"disabled","click"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(n.Ub(0,"div",0),n.Ub(1,"div",1),n.Ub(2,"div",2),n.Ub(3,"table",3),n.Sb(4,4),n.Bc(5,Bo,2,0,"th",5),n.Bc(6,$o,2,1,"td",6),n.Rb(),n.Sb(7,7),n.Bc(8,No,2,0,"th",5),n.Bc(9,zo,2,1,"td",6),n.Rb(),n.Sb(10,8),n.Bc(11,Lo,2,0,"th",5),n.Bc(12,Eo,2,1,"td",6),n.Rb(),n.Sb(13,9),n.Bc(14,Mo,2,0,"th",5),n.Bc(15,Vo,2,1,"td",6),n.Rb(),n.Sb(16,10),n.Bc(17,qo,2,0,"th",5),n.Bc(18,_o,2,1,"td",6),n.Rb(),n.Sb(19,11),n.Bc(20,Ho,2,0,"th",5),n.Bc(21,Yo,2,1,"td",6),n.Rb(),n.Sb(22,12),n.Bc(23,Go,2,0,"th",13),n.Bc(24,Jo,7,2,"td",6),n.Rb(),n.Bc(25,Ko,1,0,"tr",14),n.Bc(26,Wo,1,0,"tr",15),n.Tb(),n.Tb(),n.Tb(),n.Ub(27,"div",1),n.Ub(28,"div",2),n.Ub(29,"button",16),n.cc("click",(function(){return e.addAffilatedOrganisation()})),n.Ub(30,"mat-icon"),n.Dc(31,"add"),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Tb()),2&t&&(n.Cb(3),n.mc("dataSource",e.dataSource),n.Cb(22),n.mc("matHeaderRowDef",e.displayedColumns),n.Cb(1),n.mc("matRowDefColumns",e.displayedColumns),n.Cb(3),n.mc("disabled",e.isReadOnly))},directives:[be.j,le.a,be.c,be.e,be.b,be.g,be.i,T.b,we.a,be.d,le.b,be.a,zt.a,be.f,be.h],styles:[".mat-row[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{text-align:center;justify-content:center}.mat-column-actions[_ngcontent-%COMP%]{min-width:130px}"]}),t})();function Xo(t,e){1&t&&(n.Ub(0,"div",2),n.Pb(1,"mat-spinner",3),n.Tb()),2&t&&(n.Cb(1),n.mc("diameter",50))}function Zo(t,e){if(1&t){const t=n.Vb();n.Ub(0,"div",4),n.Ub(1,"mat-accordion"),n.Ub(2,"mat-expansion-panel",5),n.cc("opened",(function(){return n.vc(t),n.gc().setStep(0)})),n.Ub(3,"mat-expansion-panel-header"),n.Ub(4,"mat-panel-title"),n.Dc(5,"\u041e\u0431\u0449\u0438\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 *"),n.Tb(),n.Ub(6,"mat-panel-description"),n.Dc(7," \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u043e\u0431 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438 "),n.Tb(),n.Tb(),n.Ub(8,"div",6),n.Pb(9,"app-organisation-form",7),n.Tb(),n.Ub(10,"mat-action-row"),n.Ub(11,"button",8),n.cc("click",(function(){return n.vc(t),n.gc().nextStep()})),n.Dc(12,"\u0412\u043f\u0435\u0440\u0435\u0434"),n.Tb(),n.Tb(),n.Tb(),n.Ub(13,"mat-expansion-panel",5),n.cc("opened",(function(){return n.vc(t),n.gc().setStep(1)})),n.Ub(14,"mat-expansion-panel-header"),n.Ub(15,"mat-panel-title"),n.Dc(16,"\u0420\u0443\u043a\u043e\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c *"),n.Tb(),n.Ub(17,"mat-panel-description"),n.Dc(18," \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043b\u0438\u0447\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u0440\u0443\u043a\u043e\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044f "),n.Tb(),n.Tb(),n.Ub(19,"div",6),n.Pb(20,"app-person-form",9),n.Tb(),n.Ub(21,"mat-action-row"),n.Ub(22,"button",10),n.cc("click",(function(){return n.vc(t),n.gc().prevStep()})),n.Dc(23,"\u041d\u0430\u0437\u0430\u0434"),n.Tb(),n.Ub(24,"button",8),n.cc("click",(function(){return n.vc(t),n.gc().nextStep()})),n.Dc(25,"\u0412\u043f\u0435\u0440\u0435\u0434"),n.Tb(),n.Tb(),n.Tb(),n.Ub(26,"mat-expansion-panel",5),n.cc("opened",(function(){return n.vc(t),n.gc().setStep(2)})),n.Ub(27,"mat-expansion-panel-header"),n.Ub(28,"mat-panel-title"),n.Dc(29,"\u0411\u0443\u0445\u0433\u0430\u043b\u0442\u0435\u0440 (\u043e\u043f\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e)"),n.Tb(),n.Ub(30,"mat-panel-description"),n.Dc(31," \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043b\u0438\u0447\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u0431\u0443\u0445\u0433\u0430\u043b\u0442\u0435\u0440\u0430 "),n.Tb(),n.Tb(),n.Ub(32,"div",6),n.Pb(33,"app-person-form",9),n.Tb(),n.Ub(34,"mat-action-row"),n.Ub(35,"button",10),n.cc("click",(function(){return n.vc(t),n.gc().prevStep()})),n.Dc(36,"\u041d\u0430\u0437\u0430\u0434"),n.Tb(),n.Ub(37,"button",8),n.cc("click",(function(){return n.vc(t),n.gc().nextStep()})),n.Dc(38,"\u0412\u043f\u0435\u0440\u0435\u0434"),n.Tb(),n.Tb(),n.Tb(),n.Ub(39,"mat-expansion-panel",5),n.cc("opened",(function(){return n.vc(t),n.gc().setStep(3)})),n.Ub(40,"mat-expansion-panel-header"),n.Ub(41,"mat-panel-title"),n.Dc(42,"\u041a\u0440\u0435\u0434\u0438\u0442\u043d\u0430\u044f \u0438\u0441\u0442\u043e\u0440\u0438\u044f"),n.Tb(),n.Ub(43,"mat-panel-description"),n.Dc(44," \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u043e \u043a\u0440\u0435\u0434\u0438\u0442\u043d\u043e\u0439 \u0438\u0441\u0442\u043e\u0440\u0438\u0438 "),n.Tb(),n.Tb(),n.Ub(45,"div",6),n.Pb(46,"app-credit-history-table",7),n.Tb(),n.Ub(47,"mat-action-row"),n.Ub(48,"button",10),n.cc("click",(function(){return n.vc(t),n.gc().prevStep()})),n.Dc(49,"\u041d\u0430\u0437\u0430\u0434"),n.Tb(),n.Ub(50,"button",8),n.cc("click",(function(){return n.vc(t),n.gc().nextStep()})),n.Dc(51,"\u0412\u043f\u0435\u0440\u0435\u0434"),n.Tb(),n.Tb(),n.Tb(),n.Ub(52,"mat-expansion-panel",5),n.cc("opened",(function(){return n.vc(t),n.gc().setStep(4)})),n.Ub(53,"mat-expansion-panel-header"),n.Ub(54,"mat-panel-title"),n.Dc(55,"\u0410\u0444\u0444\u0438\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438"),n.Tb(),n.Ub(56,"mat-panel-description"),n.Dc(57," \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u043e\u0431 \u0430\u0444\u0444\u0438\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0445 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u044f\u0445 "),n.Tb(),n.Tb(),n.Ub(58,"div",6),n.Pb(59,"app-affilated-companies-table",7),n.Tb(),n.Ub(60,"mat-action-row"),n.Ub(61,"button",10),n.cc("click",(function(){return n.vc(t),n.gc().prevStep()})),n.Dc(62,"\u041d\u0430\u0437\u0430\u0434"),n.Tb(),n.Ub(63,"button",11),n.cc("click",(function(){return n.vc(t),n.gc().save()})),n.Dc(64),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Ub(65,"p",12),n.Ub(66,"b"),n.Dc(67,"*"),n.Tb(),n.Dc(68," - \u0431\u043b\u043e\u043a\u0438 \u0438 \u043f\u043e\u043b\u044f \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f"),n.Tb(),n.Tb()}if(2&t){const t=n.gc();n.Cb(2),n.mc("expanded",0===t.step),n.Cb(7),n.mc("isReadOnly",t.details.isReadOnly),n.Cb(4),n.mc("expanded",1===t.step),n.Cb(7),n.mc("isReadOnly",t.details.isReadOnly)("name",t.head)("initialState",t.details.head)("isExtended",!0),n.Cb(6),n.mc("expanded",2===t.step),n.Cb(7),n.mc("isReadOnly",t.details.isReadOnly)("name",t.booker)("initialState",t.details.booker)("isExtended",!1),n.Cb(6),n.mc("expanded",3===t.step),n.Cb(7),n.mc("isReadOnly",t.details.isReadOnly),n.Cb(6),n.mc("expanded",4===t.step),n.Cb(7),n.mc("isReadOnly",t.details.isReadOnly),n.Cb(4),n.mc("disabled",t.saving),n.Cb(1),n.Fc(" ",t.details.isReadOnly?"\u0414\u0430\u043b\u0435\u0435":"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"," ")}}let tc=(()=>{class t{constructor(t,e,i){this.store=t,this.applicationService=e,this.snackbar=i,this.ngDestroyed$=new I.a,this.head="head",this.booker="booker",this.beneficiary="beneficiary",this.step=-1,this.saving=!1,this.loading=!0,this.details=null}ngOnInit(){this.getDetails(),this.store.select(t=>t.client.details).pipe(Object(C.a)(this.ngDestroyed$)).subscribe(t=>{this.details=t})}ngOnDestroy(){this.store.dispatch(ka()),this.ngDestroyed$.next(),this.ngDestroyed$.complete()}getDetails(){this.loading=!0,this.applicationService.getClientDetails(this.loanApplicationId).then(t=>{t.succeed&&this.store.dispatch(wa(t.data))}).finally(()=>this.loading=!1)}save(){if(this.details.isReadOnly)this.openNextTab();else{if(null===this.details.head)return this.showErrorMessage("\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0432\u0441\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043f\u043e\u043b\u044f \u0434\u043b\u044f \u0440\u0443\u043a\u043e\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044f");this.saving=!0,this.applicationService.createClientDetails(this.loanApplicationId,this.details).then(()=>{this.openNextTab(),this.getDetails()}).catch(this.handleErrorResponse).finally(()=>{this.saving=!1})}}setStep(t){this.submitCurrentStepForm(),this.step=t}nextStep(){this.submitCurrentStepForm()&&this.step++}prevStep(){this.step--}submitCurrentStepForm(){if(this.details.isReadOnly)return!0;let t=!0;switch(this.step){case 0:t=this.organisationForm.onFormSubmit();break;case 1:const e=this.personForms.toArray().find(t=>t.name===this.head).onFormSubmit();t=!!e,t&&this.store.dispatch(ja(e));break;case 2:const i=this.personForms.toArray().find(t=>t.name===this.booker).onFormSubmit();i&&this.store.dispatch(Pa(i))}return t}handleErrorResponse(t){let e="\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435";t&&t.error&&t.error.Message&&(e=t.error.Message),this.showErrorMessage(e)}showErrorMessage(t){this.snackbar.open(t,"\u0417\u0430\u043a\u0440\u044b\u0442\u044c",{duration:5e3})}}return t.\u0275fac=function(e){return new(e||t)(n.Ob(D.h),n.Ob(Ut),n.Ob(vt.b))},t.\u0275cmp=n.Ib({type:t,selectors:[["app-okaps-client-details"]],viewQuery:function(t,e){var i;1&t&&(n.Jc(oo,!0),n.Jc(uo,!0)),2&t&&(n.sc(i=n.dc())&&(e.organisationForm=i.first),n.sc(i=n.dc())&&(e.personForms=i))},inputs:{loanApplicationId:"loanApplicationId",openNextTab:"openNextTab"},decls:2,vars:2,consts:[["class","spinner",4,"ngIf"],["class","headers-align p-3",4,"ngIf"],[1,"spinner"],["color","primary",3,"diameter"],[1,"headers-align","p-3"],["hideToggle","",3,"expanded","opened"],[1,"mt-3"],[3,"isReadOnly"],["mat-button","","color","primary",3,"click"],[3,"isReadOnly","name","initialState","isExtended"],["mat-button","",1,"grey",3,"click"],["mat-raised-button","","color","primary",3,"disabled","click"],[1,"p-3"]],template:function(t,e){1&t&&(n.Bc(0,Xo,2,1,"div",0),n.Bc(1,Zo,69,18,"div",1)),2&t&&(n.mc("ngIf",e.loading),n.Cb(1),n.mc("ngIf",!e.loading&&null!=e.details))},directives:[y.l,Mi.b,mo.a,mo.c,mo.f,mo.g,mo.e,oo,mo.d,T.b,uo,jo,Qo],styles:[".headers-align[_ngcontent-%COMP%]   .mat-expansion-panel-header-description[_ngcontent-%COMP%], .headers-align[_ngcontent-%COMP%]   .mat-expansion-panel-header-title[_ngcontent-%COMP%]{flex-basis:0}"]}),t})();const ec=Object(P.b)({name:"assets",initialState:{id:null,landActivities:[],floraActivities:[],livestockActivities:[],technicActivities:[]},reducers:{setAssets:(t,e)=>{t.id=e.payload.id,t.landActivities=e.payload.landActivities,t.floraActivities=e.payload.floraActivities,t.livestockActivities=e.payload.livestockActivities,t.technicActivities=e.payload.technicActivities},clearAssets:t=>{t.id=null,t.landActivities=[],t.floraActivities=[],t.livestockActivities=[],t.technicActivities=[]},addLandAssets:(t,e)=>{t.landActivities.push(Object.assign(Object.assign({},e.payload),{id:Object(J.a)()}))},editLandAssets:(t,e)=>{const i=t.landActivities.findIndex(t=>t.id===e.payload.id);-1!==i&&(t.landActivities=[...t.landActivities.slice(0,i),e.payload,...t.landActivities.slice(i+1)])},removeLandAssets:(t,e)=>{t.landActivities=t.landActivities.filter(t=>t.id!==e.payload)},addLiveStockAssets:(t,e)=>{t.livestockActivities.push(Object.assign(Object.assign({},e.payload),{id:Object(J.a)()}))},editLiveStockAssets:(t,e)=>{const i=t.livestockActivities.findIndex(t=>t.id===e.payload.id);-1!==i&&(t.livestockActivities=[...t.livestockActivities.slice(0,i),e.payload,...t.livestockActivities.slice(i+1)])},removeLiveStockAssets:(t,e)=>{t.livestockActivities=t.livestockActivities.filter(t=>t.id!==e.payload)},addFloraAssets:(t,e)=>{t.floraActivities.push(Object.assign(Object.assign({},e.payload),{id:Object(J.a)()}))},editFloraAssets:(t,e)=>{const i=t.floraActivities.findIndex(t=>t.id===e.payload.id);-1!==i&&(t.floraActivities=[...t.floraActivities.slice(0,i),e.payload,...t.floraActivities.slice(i+1)])},removeFloraAssets:(t,e)=>{t.floraActivities=t.floraActivities.filter(t=>t.id!==e.payload)},addTechnicAssets:(t,e)=>{t.technicActivities.push(Object.assign(Object.assign({},e.payload),{id:Object(J.a)()}))},editTechnicAssets:(t,e)=>{const i=t.technicActivities.findIndex(t=>t.id===e.payload.id);-1!==i&&(t.technicActivities=[...t.technicActivities.slice(0,i),e.payload,...t.technicActivities.slice(i+1)])},removeTechnicAssets:(t,e)=>{t.technicActivities=t.technicActivities.filter(t=>t.id!==e.payload)}}}),{setAssets:ic,clearAssets:nc,addLandAssets:ac,editLandAssets:oc,removeLandAssets:cc,addLiveStockAssets:sc,editLiveStockAssets:rc,removeLiveStockAssets:lc,addFloraAssets:bc,editFloraAssets:dc,removeFloraAssets:uc,addTechnicAssets:mc,editTechnicAssets:hc,removeTechnicAssets:pc}=ec.actions;var fc=ec.reducer;function gc(t,e){if(1&t&&(n.Ub(0,"mat-option",12),n.Dc(1),n.Tb()),2&t){const t=e.$implicit;n.mc("value",t.id),n.Cb(1),n.Fc(" ",t.name," ")}}function vc(t,e){if(1&t&&(n.Ub(0,"mat-option",12),n.Dc(1),n.Tb()),2&t){const t=e.$implicit;n.mc("value",t.id),n.Cb(1),n.Fc(" ",t.name," ")}}function Tc(t,e){1&t&&(n.Ub(0,"button",13),n.Dc(1," \u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c "),n.Tb())}let yc=(()=>{class t{constructor(t,e,i,n){this.formBuilder=t,this.store=e,this.dialogRef=i,this.data=n,this.initialState={id:null,landTypeId:null,landType:null,ownershipTypeId:null,ownershipType:null,square:0},this.landTypes=[],this.ownershipTypes=[],n.initialData&&(this.initialState=n.initialData),this.landTypes=n.landTypes,this.ownershipTypes=n.ownershipTypes}ngOnInit(){this.generateForm(),this.landTypeId.valueChanges.subscribe(t=>{this.landType.setValue(this.landTypes.find(e=>e.id===t).name)}),this.ownershipTypeId.valueChanges.subscribe(t=>{this.ownershipType.setValue(this.ownershipTypes.find(e=>e.id===t).name)})}get isNew(){return null===this.initialState.id}get title(){return this.isNew?"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0437\u0435\u043c\u0435\u043b\u044c\u043d\u043e\u0433\u043e \u0440\u0435\u0441\u0443\u0440\u0441\u0430":"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0437\u0435\u043c\u0435\u043b\u044c\u043d\u043e\u0433\u043e \u0440\u0435\u0441\u0443\u0440\u0441\u0430"}generateForm(){this.form=this.formBuilder.group({id:[this.initialState.id],landTypeId:[this.initialState.landTypeId,U.u.required],landType:[this.initialState.landType,U.u.required],ownershipTypeId:[this.initialState.ownershipTypeId,U.u.required],ownershipType:[this.initialState.ownershipType,U.u.required],square:[this.initialState.square,U.u.compose([U.u.required,U.u.min(1)])]})}get landTypeId(){return this.form.get("landTypeId")}get landType(){return this.form.get("landType")}get ownershipTypeId(){return this.form.get("ownershipTypeId")}get ownershipType(){return this.form.get("ownershipType")}get square(){return this.form.get("square")}onFormSubmit(){this.form.valid&&(this.store.dispatch(this.isNew?ac(this.form.value):oc(this.form.value)),this.dialogRef.close())}}return t.\u0275fac=function(e){return new(e||t)(n.Ob(U.d),n.Ob(D.h),n.Ob(u.h),n.Ob(u.a))},t.\u0275cmp=n.Ib({type:t,selectors:[["app-land-assets-dialog-form"]],decls:26,vars:5,consts:[[1,"form",3,"formGroup","ngSubmit"],["mat-dialog-title",""],[1,"mat-typography"],[1,"row"],[1,"col"],["appearance","outline"],["formControlName","landTypeId"],[3,"value",4,"ngFor","ngForOf"],["formControlName","ownershipTypeId"],["matInput","","formControlName","square","min","0","type","number"],["align","center"],["class","my-3","type","submit","color","primary","mat-raised-button","",4,"ngIf"],[3,"value"],["type","submit","color","primary","mat-raised-button","",1,"my-3"]],template:function(t,e){1&t&&(n.Ub(0,"form",0),n.cc("ngSubmit",(function(){return e.onFormSubmit()})),n.Ub(1,"h2",1),n.Dc(2),n.Tb(),n.Ub(3,"mat-dialog-content",2),n.Ub(4,"div",3),n.Ub(5,"div",4),n.Ub(6,"mat-form-field",5),n.Ub(7,"mat-label"),n.Dc(8,"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u0437\u0430\u043c\u0435\u043b\u044c\u043d\u044b\u0445 \u0443\u0433\u043e\u0434\u0438\u0438"),n.Tb(),n.Ub(9,"mat-select",6),n.Bc(10,gc,2,2,"mat-option",7),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Ub(11,"div",3),n.Ub(12,"div",4),n.Ub(13,"mat-form-field",5),n.Ub(14,"mat-label"),n.Dc(15,"\u0421\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u043e \u0432\u043b\u0430\u0434\u0435\u043d\u0438\u0438"),n.Tb(),n.Ub(16,"mat-select",8),n.Bc(17,vc,2,2,"mat-option",7),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Ub(18,"div",3),n.Ub(19,"div",4),n.Ub(20,"mat-form-field",5),n.Ub(21,"mat-label"),n.Dc(22,"\u041f\u043b\u043e\u0449\u0430\u0434\u044c, \u0433\u0430"),n.Tb(),n.Pb(23,"input",9),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Ub(24,"mat-dialog-actions",10),n.Bc(25,Tc,2,0,"button",11),n.Tb(),n.Tb()),2&t&&(n.mc("formGroup",e.form),n.Cb(2),n.Ec(e.title),n.Cb(8),n.mc("ngForOf",e.landTypes),n.Cb(7),n.mc("ngForOf",e.ownershipTypes),n.Cb(8),n.mc("ngIf",!e.form.invalid))},directives:[U.v,U.p,U.i,u.i,u.f,Dt.b,Dt.f,qt.a,U.o,U.g,y.k,Ct.b,U.b,U.s,u.d,y.l,_t.n,T.b],styles:[""]}),t})();function Uc(t,e){1&t&&(n.Ub(0,"th",13),n.Dc(1," \u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u0437\u0430\u043c\u0435\u043b\u044c\u043d\u044b\u0445 \u0443\u0433\u043e\u0434\u0438\u0439 "),n.Tb())}function Dc(t,e){if(1&t&&(n.Ub(0,"td",14),n.Dc(1),n.Tb()),2&t){const t=e.$implicit;n.Cb(1),n.Ec(t.landType)}}function Cc(t,e){1&t&&(n.Ub(0,"th",13),n.Dc(1,"\u041f\u043b\u043e\u0449\u0430\u0434\u044c, \u0433\u0430"),n.Tb())}function Oc(t,e){if(1&t&&(n.Ub(0,"td",14),n.Dc(1),n.hc(2,"amountConverter"),n.Tb()),2&t){const t=e.$implicit;n.Cb(1),n.Fc(" ",n.jc(2,1,t.square,"ru")," ")}}function Ic(t,e){1&t&&(n.Ub(0,"th",13),n.Dc(1," \u0421\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u043e \u0432\u043b\u0430\u0434\u0435\u043d\u0438\u0438 "),n.Tb())}function Sc(t,e){if(1&t&&(n.Ub(0,"td",14),n.Dc(1),n.Tb()),2&t){const t=e.$implicit;n.Cb(1),n.Fc(" ",t.ownershipType," ")}}function wc(t,e){1&t&&(n.Ub(0,"th",15),n.Dc(1,"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f"),n.Tb())}function kc(t,e){if(1&t){const t=n.Vb();n.Ub(0,"td",14),n.Ub(1,"button",16),n.cc("click",(function(){n.vc(t);const i=e.$implicit;return n.gc().editLandAssets(i.id)})),n.Ub(2,"mat-icon"),n.Dc(3,"edit"),n.Tb(),n.Tb(),n.Ub(4,"button",17),n.cc("click",(function(){n.vc(t);const i=e.$implicit;return n.gc().removeLandAssets(i.id)})),n.Ub(5,"mat-icon"),n.Dc(6,"delete"),n.Tb(),n.Tb(),n.Tb()}if(2&t){const t=n.gc();n.Cb(1),n.mc("disabled",t.isReadOnly),n.Cb(3),n.mc("disabled",t.isReadOnly)}}function xc(t,e){1&t&&n.Pb(0,"tr",18)}function jc(t,e){1&t&&n.Pb(0,"tr",19)}let Pc=(()=>{class t{constructor(t,e,i){this.store=t,this.dictionaryService=e,this.dialogService=i,this.ngDestroyed$=new I.a,this.landAssets=[],this.landTypes=[],this.ownershipTypes=[],this.displayedColumns=["landType","square","ownershipType","actions"]}ngOnInit(){this.store.select(t=>t.assets.landActivities).pipe(Object(C.a)(this.ngDestroyed$)).subscribe(t=>{this.landAssets=t,this.dataSource=new be.k(t)}),this.dictionaryService.getLandTypes().then(t=>{this.landTypes=t.data.list}),this.dictionaryService.getOwnershipTypes().then(t=>{this.ownershipTypes=t.data.list})}ngAfterViewInit(){this.dataSource.sort=this.sort}ngOnDestroy(){this.ngDestroyed$.next(),this.ngDestroyed$.complete()}get canAdd(){return this.landTypes.length>0&&this.ownershipTypes.length>0&&this.allowedLandTypes().length>0}allowedLandTypes(t=null){return this.landTypes.filter(e=>!this.landAssets.some(t=>t.landTypeId===e.id)||t&&e.id===t)}addLandAssets(){this.isReadOnly||this.dialogService.open(yc,{data:{initialData:null,landTypes:this.allowedLandTypes(),ownershipTypes:this.ownershipTypes}})}editLandAssets(t){if(this.isReadOnly)return;const e=this.landAssets.find(e=>e.id===t);this.dialogService.open(yc,{data:{initialData:e,landTypes:this.allowedLandTypes(e.landTypeId),ownershipTypes:this.ownershipTypes}})}removeLandAssets(t){this.isReadOnly||this.store.dispatch(cc(t))}}return t.\u0275fac=function(e){return new(e||t)(n.Ob(D.h),n.Ob(Lt),n.Ob(u.c))},t.\u0275cmp=n.Ib({type:t,selectors:[["app-land-assets-table"]],viewQuery:function(t,e){var i;1&t&&n.Jc(le.a,!0),2&t&&n.sc(i=n.dc())&&(e.sort=i.first)},inputs:{isReadOnly:"isReadOnly"},decls:22,vars:4,consts:[[1,"row"],[1,"col"],["mat-table","","matSort","",1,"mat-elevation-z8","w-100",3,"dataSource"],["matColumnDef","landType"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","square"],["matColumnDef","ownershipType"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-raised-button","","color","primary","aria-label","add accessory button",1,"my-3","px-3",3,"disabled","click"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-icon-button","","color","primary","matTooltip","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c","aria-label","edit icon button",1,"m-1",3,"disabled","click"],["mat-icon-button","","color","accent","matTooltip","\u0423\u0434\u0430\u043b\u0438\u0442\u044c","aria-label","delete icon button",1,"my-1","mx-2",3,"disabled","click"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(n.Ub(0,"div",0),n.Ub(1,"div",1),n.Ub(2,"table",2),n.Sb(3,3),n.Bc(4,Uc,2,0,"th",4),n.Bc(5,Dc,2,1,"td",5),n.Rb(),n.Sb(6,6),n.Bc(7,Cc,2,0,"th",4),n.Bc(8,Oc,3,4,"td",5),n.Rb(),n.Sb(9,7),n.Bc(10,Ic,2,0,"th",4),n.Bc(11,Sc,2,1,"td",5),n.Rb(),n.Sb(12,8),n.Bc(13,wc,2,0,"th",9),n.Bc(14,kc,7,2,"td",5),n.Rb(),n.Bc(15,xc,1,0,"tr",10),n.Bc(16,jc,1,0,"tr",11),n.Tb(),n.Tb(),n.Tb(),n.Ub(17,"div",0),n.Ub(18,"div",1),n.Ub(19,"button",12),n.cc("click",(function(){return e.addLandAssets()})),n.Ub(20,"mat-icon"),n.Dc(21,"add"),n.Tb(),n.Tb(),n.Tb(),n.Tb()),2&t&&(n.Cb(2),n.mc("dataSource",e.dataSource),n.Cb(13),n.mc("matHeaderRowDef",e.displayedColumns),n.Cb(1),n.mc("matRowDefColumns",e.displayedColumns),n.Cb(3),n.mc("disabled",!e.canAdd||e.isReadOnly))},directives:[be.j,le.a,be.c,be.e,be.b,be.g,be.i,T.b,we.a,be.d,le.b,be.a,zt.a,be.f,be.h],pipes:[ke],styles:[".mat-row[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{text-align:center;justify-content:center}.mat-column-actions[_ngcontent-%COMP%]{min-width:130px}"]}),t})();function Fc(t,e){if(1&t&&(n.Ub(0,"mat-option",16),n.Dc(1),n.Tb()),2&t){const t=e.$implicit;n.mc("value",t.id),n.Cb(1),n.Fc(" ",t.name," ")}}function Rc(t,e){if(1&t&&(n.Ub(0,"mat-option",16),n.Dc(1),n.Tb()),2&t){const t=e.$implicit;n.mc("value",t.id),n.Cb(1),n.Fc(" ",t.name," ")}}function Ac(t,e){1&t&&(n.Ub(0,"button",17),n.Dc(1," \u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c "),n.Tb())}let Bc=(()=>{class t{constructor(t,e,i,n){if(this.formBuilder=t,this.store=e,this.dialogRef=i,this.data=n,this.initialState={id:null,livestockTypeId:null,livestockType:null,count:0,liveWeight:0,slaughterWeight:0,livePrice:0,slaughterPrice:0},this.livestockTypes=[],this.parentlivestockTypes=[],this.childlivestockTypes=[],this.livestockTypes=n.livestockTypes,n.initialData){this.initialState=n.initialData,this.parentlivestockTypes=n.livestockTypes.filter(t=>null===t.parentId);const t=n.livestockTypes.find(t=>t.id===n.initialData.livestockTypeId);this.childlivestockTypes=n.livestockTypes.filter(e=>e.parentId===t.parentId)}else this.parentlivestockTypes=n.livestockTypes.filter(t=>null===t.parentId),this.childlivestockTypes=[]}ngOnInit(){this.generateForm(),this.parentlivestockTypeId.valueChanges.subscribe(t=>{const e=this.parentlivestockTypes.find(e=>e.id===t);this.parentlivestockType.setValue(e.name),this.childlivestockTypes=this.livestockTypes.filter(t=>t.parentId===e.id)}),this.livestockTypeId.valueChanges.subscribe(t=>{this.livestockType.setValue(this.livestockTypes.find(e=>e.id===t).name)})}get isNew(){return null===this.initialState.id}get title(){return this.isNew?"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0431\u0438\u043e\u043b\u043e\u0433\u0438\u0447\u0435\u0441\u043a\u043e\u0433\u043e \u0440\u0435\u0441\u0443\u0440\u0441\u0430":"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0431\u0438\u043e\u043b\u043e\u0433\u0438\u0447\u0435\u0441\u043a\u043e\u0433\u043e \u0440\u0435\u0441\u0443\u0440\u0441\u0430"}generateForm(){const t=this.childlivestockTypes.find(t=>t.id===this.initialState.livestockTypeId);this.form=this.formBuilder.group({id:[this.initialState.id],parentlivestockTypeId:[t?this.parentlivestockTypes.find(e=>e.id===t.parentId).id:null,U.u.required],parentlivestockType:[t?this.parentlivestockTypes.find(e=>e.id===t.parentId).name:null,U.u.required],livestockTypeId:[this.initialState.livestockTypeId,U.u.required],livestockType:[this.initialState.livestockType,U.u.required],count:[this.initialState.count,U.u.compose([U.u.required,U.u.min(1)])],liveWeight:[this.initialState.liveWeight,U.u.compose([U.u.required,U.u.min(0)])],slaughterWeight:[this.initialState.slaughterWeight,U.u.compose([U.u.required,U.u.min(0)])],livePrice:[this.initialState.livePrice,U.u.compose([U.u.required,U.u.min(0)])],slaughterPrice:[this.initialState.slaughterPrice,U.u.compose([U.u.required,U.u.min(0)])]})}get parentlivestockTypeId(){return this.form.get("parentlivestockTypeId")}get parentlivestockType(){return this.form.get("parentlivestockType")}get livestockTypeId(){return this.form.get("livestockTypeId")}get livestockType(){return this.form.get("livestockType")}get count(){return this.form.get("count")}get liveWeight(){return this.form.get("liveWeight")}get slaughterWeight(){return this.form.get("slaughterWeight")}get livePrice(){return this.form.get("livePrice")}get slaughterPrice(){return this.form.get("slaughterPrice")}onFormSubmit(){this.form.valid&&(this.store.dispatch(this.isNew?sc(this.form.value):rc(this.form.value)),this.dialogRef.close())}}return t.\u0275fac=function(e){return new(e||t)(n.Ob(U.d),n.Ob(D.h),n.Ob(u.h),n.Ob(u.a))},t.\u0275cmp=n.Ib({type:t,selectors:[["app-livestock-assets-dialog-form"]],decls:48,vars:5,consts:[[1,"form",3,"formGroup","ngSubmit"],["mat-dialog-title",""],[1,"mat-typography"],[1,"row"],[1,"col"],["appearance","outline"],["formControlName","parentlivestockTypeId"],[3,"value",4,"ngFor","ngForOf"],["formControlName","livestockTypeId"],["matInput","","formControlName","count","min","0","type","number"],["matInput","","formControlName","liveWeight","min","0","type","number"],["matInput","","formControlName","slaughterWeight","min","0","type","number"],["matInput","","formControlName","livePrice","min","0","type","number"],["matInput","","formControlName","slaughterPrice","min","0","type","number"],["align","center"],["class","my-3","type","submit","color","primary","mat-raised-button","",4,"ngIf"],[3,"value"],["type","submit","color","primary","mat-raised-button","",1,"my-3"]],template:function(t,e){1&t&&(n.Ub(0,"form",0),n.cc("ngSubmit",(function(){return e.onFormSubmit()})),n.Ub(1,"h2",1),n.Dc(2),n.Tb(),n.Ub(3,"mat-dialog-content",2),n.Ub(4,"div",3),n.Ub(5,"div",4),n.Ub(6,"mat-form-field",5),n.Ub(7,"mat-label"),n.Dc(8,"\u0412\u0438\u0434 \u0441\u043a\u043e\u0442\u0430"),n.Tb(),n.Ub(9,"mat-select",6),n.Bc(10,Fc,2,2,"mat-option",7),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Ub(11,"div",3),n.Ub(12,"div",4),n.Ub(13,"mat-form-field",5),n.Ub(14,"mat-label"),n.Dc(15,"\u041f\u043e\u0434\u0432\u0438\u0434 \u0441\u043a\u043e\u0442\u0430"),n.Tb(),n.Ub(16,"mat-select",8),n.Bc(17,Rc,2,2,"mat-option",7),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Ub(18,"div",3),n.Ub(19,"div",4),n.Ub(20,"mat-form-field",5),n.Ub(21,"mat-label"),n.Dc(22,"\u041e\u0431\u0449\u0435\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"),n.Tb(),n.Pb(23,"input",9),n.Tb(),n.Tb(),n.Tb(),n.Ub(24,"div",3),n.Ub(25,"div",4),n.Ub(26,"mat-form-field",5),n.Ub(27,"mat-label"),n.Dc(28,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0432 \u0436\u0438\u0432\u043e\u043c \u0432\u0435\u0441\u0435"),n.Tb(),n.Pb(29,"input",10),n.Tb(),n.Tb(),n.Ub(30,"div",4),n.Ub(31,"mat-form-field",5),n.Ub(32,"mat-label"),n.Dc(33,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0432 \u0443\u0431\u043e\u0439\u043d\u043e\u043c \u0432\u0435\u0441\u0435"),n.Tb(),n.Pb(34,"input",11),n.Tb(),n.Tb(),n.Tb(),n.Ub(35,"div",3),n.Ub(36,"div",4),n.Ub(37,"mat-form-field",5),n.Ub(38,"mat-label"),n.Dc(39,"\u0426\u0435\u043d\u0430 \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438 \u0432 \u0436\u0438\u0432\u043e\u043c \u0432\u0435\u0441\u0435"),n.Tb(),n.Pb(40,"input",12),n.Tb(),n.Tb(),n.Ub(41,"div",4),n.Ub(42,"mat-form-field",5),n.Ub(43,"mat-label"),n.Dc(44,"\u0426\u0435\u043d\u0430 \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438 \u0432 \u0443\u0431\u043e\u0439\u043d\u043e\u043c \u0432\u0435\u0441\u0435"),n.Tb(),n.Pb(45,"input",13),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Ub(46,"mat-dialog-actions",14),n.Bc(47,Ac,2,0,"button",15),n.Tb(),n.Tb()),2&t&&(n.mc("formGroup",e.form),n.Cb(2),n.Ec(e.title),n.Cb(8),n.mc("ngForOf",e.parentlivestockTypes),n.Cb(7),n.mc("ngForOf",e.childlivestockTypes),n.Cb(30),n.mc("ngIf",!e.form.invalid))},directives:[U.v,U.p,U.i,u.i,u.f,Dt.b,Dt.f,qt.a,U.o,U.g,y.k,Ct.b,U.b,U.s,u.d,y.l,_t.n,T.b],styles:[""]}),t})();function $c(t,e){1&t&&(n.Ub(0,"th",16),n.Dc(1,"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435"),n.Tb())}function Nc(t,e){if(1&t&&(n.Ub(0,"td",17),n.Dc(1),n.Tb()),2&t){const t=e.$implicit;n.Cb(1),n.Fc(" ",t.livestockType," ")}}function zc(t,e){1&t&&(n.Ub(0,"th",16),n.Dc(1,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"),n.Tb())}function Lc(t,e){if(1&t&&(n.Ub(0,"td",17),n.Dc(1),n.Tb()),2&t){const t=e.$implicit;n.Cb(1),n.Fc(" ",t.count," ")}}function Ec(t,e){1&t&&(n.Ub(0,"th",16),n.Dc(1," \u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0432 \u0436\u0438\u0432\u043e\u043c \u0432\u0435\u0441\u0435 "),n.Tb())}function Mc(t,e){if(1&t&&(n.Ub(0,"td",17),n.Dc(1),n.Tb()),2&t){const t=e.$implicit;n.Cb(1),n.Fc(" ",t.liveWeight," ")}}function Vc(t,e){1&t&&(n.Ub(0,"th",16),n.Dc(1," \u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0432 \u0443\u0431\u043e\u0439\u043d\u043e\u043c \u0432\u0435\u0441\u0435 "),n.Tb())}function qc(t,e){if(1&t&&(n.Ub(0,"td",17),n.Dc(1),n.Tb()),2&t){const t=e.$implicit;n.Cb(1),n.Fc(" ",t.slaughterWeight," ")}}function _c(t,e){1&t&&(n.Ub(0,"th",16),n.Dc(1," \u0426\u0435\u043d\u0430 \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438 \u0432 \u0436\u0438\u0432\u043e\u043c \u0432\u0435\u0441\u0435, \u0442\u0435\u043d\u0433\u0435 "),n.Tb())}function Hc(t,e){if(1&t&&(n.Ub(0,"td",17),n.Dc(1),n.Tb()),2&t){const t=e.$implicit;n.Cb(1),n.Fc(" ",t.livePrice," ")}}function Yc(t,e){1&t&&(n.Ub(0,"th",16),n.Dc(1," \u0426\u0435\u043d\u0430 \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438 \u0432 \u0443\u0431\u043e\u0439\u043d\u043e\u043c \u0432\u0435\u0441\u0435, \u0442\u0435\u043d\u0433\u0435 "),n.Tb())}function Gc(t,e){if(1&t&&(n.Ub(0,"td",17),n.Dc(1),n.Tb()),2&t){const t=e.$implicit;n.Cb(1),n.Fc(" ",t.slaughterPrice," ")}}function Jc(t,e){1&t&&(n.Ub(0,"th",18),n.Dc(1,"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f"),n.Tb())}function Kc(t,e){if(1&t){const t=n.Vb();n.Ub(0,"td",17),n.Ub(1,"button",19),n.cc("click",(function(){n.vc(t);const i=e.$implicit;return n.gc().editLiveStockAssets(i.id)})),n.Ub(2,"mat-icon"),n.Dc(3,"edit"),n.Tb(),n.Tb(),n.Ub(4,"button",20),n.cc("click",(function(){n.vc(t);const i=e.$implicit;return n.gc().removeLiveStockAssets(i.id)})),n.Ub(5,"mat-icon"),n.Dc(6,"delete"),n.Tb(),n.Tb(),n.Tb()}if(2&t){const t=n.gc();n.Cb(1),n.mc("disabled",t.isReadOnly),n.Cb(3),n.mc("disabled",t.isReadOnly)}}function Wc(t,e){1&t&&n.Pb(0,"tr",21)}function Qc(t,e){1&t&&n.Pb(0,"tr",22)}let Xc=(()=>{class t{constructor(t,e,i){this.store=t,this.dictionaryService=e,this.dialogService=i,this.ngDestroyed$=new I.a,this.livestockAssets=[],this.livestockTypes=[],this.displayedColumns=["livestockType","count","liveWeight","slaughterWeight","livePrice","slaughterPrice","actions"]}ngOnInit(){this.store.select(t=>t.assets.livestockActivities).pipe(Object(C.a)(this.ngDestroyed$)).subscribe(t=>{this.livestockAssets=t,this.dataSource=new be.k(t)}),this.dictionaryService.getLivestockTypes().then(t=>{this.livestockTypes=t.data.list})}ngAfterViewInit(){this.dataSource.sort=this.sort}ngOnDestroy(){this.ngDestroyed$.next(),this.ngDestroyed$.complete()}get canAdd(){return this.livestockTypes.length>0&&this.allowedLivestockTypes().length>0}allowedLivestockTypes(t=null){return this.livestockTypes.filter(e=>!this.livestockAssets.some(t=>t.livestockTypeId===e.id)||t&&e.id===t)}addLiveStockAssets(){this.isReadOnly||this.dialogService.open(Bc,{data:{initialData:null,livestockTypes:this.allowedLivestockTypes()}})}editLiveStockAssets(t){if(this.isReadOnly)return;const e=this.livestockAssets.find(e=>e.id===t);this.dialogService.open(Bc,{data:{initialData:e,livestockTypes:this.allowedLivestockTypes(e.livestockTypeId)}})}removeLiveStockAssets(t){this.isReadOnly||this.store.dispatch(lc(t))}}return t.\u0275fac=function(e){return new(e||t)(n.Ob(D.h),n.Ob(Lt),n.Ob(u.c))},t.\u0275cmp=n.Ib({type:t,selectors:[["app-livestock-assets-table"]],viewQuery:function(t,e){var i;1&t&&n.Jc(le.a,!0),2&t&&n.sc(i=n.dc())&&(e.sort=i.first)},inputs:{isReadOnly:"isReadOnly"},decls:31,vars:4,consts:[[1,"row"],[1,"col"],["mat-table","","matSort","",1,"mat-elevation-z8","w-100",3,"dataSource"],["matColumnDef","livestockType"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","count"],["matColumnDef","liveWeight"],["matColumnDef","slaughterWeight"],["matColumnDef","livePrice"],["matColumnDef","slaughterPrice"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-raised-button","","color","primary","aria-label","add accessory button",1,"my-3","px-3",3,"disabled","click"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-icon-button","","color","primary","matTooltip","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c","aria-label","edit icon button",1,"m-1",3,"disabled","click"],["mat-icon-button","","color","accent","matTooltip","\u0423\u0434\u0430\u043b\u0438\u0442\u044c","aria-label","delete icon button",1,"my-1","mx-2",3,"disabled","click"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(n.Ub(0,"div",0),n.Ub(1,"div",1),n.Ub(2,"table",2),n.Sb(3,3),n.Bc(4,$c,2,0,"th",4),n.Bc(5,Nc,2,1,"td",5),n.Rb(),n.Sb(6,6),n.Bc(7,zc,2,0,"th",4),n.Bc(8,Lc,2,1,"td",5),n.Rb(),n.Sb(9,7),n.Bc(10,Ec,2,0,"th",4),n.Bc(11,Mc,2,1,"td",5),n.Rb(),n.Sb(12,8),n.Bc(13,Vc,2,0,"th",4),n.Bc(14,qc,2,1,"td",5),n.Rb(),n.Sb(15,9),n.Bc(16,_c,2,0,"th",4),n.Bc(17,Hc,2,1,"td",5),n.Rb(),n.Sb(18,10),n.Bc(19,Yc,2,0,"th",4),n.Bc(20,Gc,2,1,"td",5),n.Rb(),n.Sb(21,11),n.Bc(22,Jc,2,0,"th",12),n.Bc(23,Kc,7,2,"td",5),n.Rb(),n.Bc(24,Wc,1,0,"tr",13),n.Bc(25,Qc,1,0,"tr",14),n.Tb(),n.Tb(),n.Tb(),n.Ub(26,"div",0),n.Ub(27,"div",1),n.Ub(28,"button",15),n.cc("click",(function(){return e.addLiveStockAssets()})),n.Ub(29,"mat-icon"),n.Dc(30,"add"),n.Tb(),n.Tb(),n.Tb(),n.Tb()),2&t&&(n.Cb(2),n.mc("dataSource",e.dataSource),n.Cb(22),n.mc("matHeaderRowDef",e.displayedColumns),n.Cb(1),n.mc("matRowDefColumns",e.displayedColumns),n.Cb(3),n.mc("disabled",!e.canAdd||e.isReadOnly))},directives:[be.j,le.a,be.c,be.e,be.b,be.g,be.i,T.b,we.a,be.d,le.b,be.a,zt.a,be.f,be.h],styles:[".mat-row[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{text-align:center;justify-content:center}.mat-column-actions[_ngcontent-%COMP%]{min-width:130px}"]}),t})();function Zc(t,e){if(1&t&&(n.Ub(0,"mat-option",17),n.Dc(1),n.Tb()),2&t){const t=e.$implicit;n.mc("value",t.id),n.Cb(1),n.Fc(" ",t.name," ")}}function ts(t,e){1&t&&(n.Ub(0,"button",18),n.Dc(1," \u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c "),n.Tb())}let es=(()=>{class t{constructor(t,e,i,n){this.formBuilder=t,this.store=e,this.dialogRef=i,this.data=n,this.initialState={id:null,cultureId:null,culture:null,plannedSquare:0,seedingRate:0,priceRealization:0,cost:0,productivityCurrentYear:0,productivityLastYear:0,productivityBeforeLastYear:0},this.cultures=[],n.initialData&&(this.initialState=n.initialData),this.cultures=n.cultures}ngOnInit(){this.generateForm(),this.cultureId.valueChanges.subscribe(t=>{this.culture.setValue(this.cultures.find(e=>e.id===t).name)})}get isNew(){return null===this.initialState.id}get title(){return this.isNew?"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0443\u0440\u043e\u0436\u0430\u0439\u043d\u043e\u0433\u043e \u0440\u0435\u0441\u0443\u0440\u0441\u0430":"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0443\u0440\u043e\u0436\u0430\u0439\u043d\u043e\u0433\u043e \u0440\u0435\u0441\u0443\u0440\u0441\u0430"}generateForm(){this.form=this.formBuilder.group({id:[this.initialState.id],cultureId:[this.initialState.cultureId,U.u.required],culture:[this.initialState.culture,U.u.required],plannedSquare:[this.initialState.plannedSquare,U.u.compose([U.u.required,U.u.min(1)])],seedingRate:[this.initialState.seedingRate,U.u.compose([U.u.required,U.u.min(1)])],priceRealization:[this.initialState.priceRealization,U.u.compose([U.u.required,U.u.min(1)])],cost:[this.initialState.cost,U.u.compose([U.u.required,U.u.min(1)])],productivityCurrentYear:[this.initialState.productivityCurrentYear],productivityLastYear:[this.initialState.productivityLastYear],productivityBeforeLastYear:[this.initialState.productivityBeforeLastYear]})}get cultureId(){return this.form.get("cultureId")}get culture(){return this.form.get("culture")}get plannedSquare(){return this.form.get("plannedSquare")}get seedingRate(){return this.form.get("seedingRate")}get priceRealization(){return this.form.get("priceRealization")}get cost(){return this.form.get("cost")}get productivity(){return this.form.get("productivity")}getYear(){return(new Date).getFullYear()-this.productivity.length}onFormSubmit(){this.form.valid&&(this.store.dispatch(this.isNew?bc(this.form.value):dc(this.form.value)),this.dialogRef.close())}}return t.\u0275fac=function(e){return new(e||t)(n.Ob(U.d),n.Ob(D.h),n.Ob(u.h),n.Ob(u.a))},t.\u0275cmp=n.Ib({type:t,selectors:[["app-flora-assets-dialog-form"]],decls:55,vars:4,consts:[[1,"form",3,"formGroup","ngSubmit"],["mat-dialog-title",""],[1,"mat-typography"],[1,"row"],[1,"col"],["appearance","outline"],["formControlName","cultureId"],[3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","plannedSquare","min","0","type","number"],["matInput","","formControlName","seedingRate","min","0","type","number"],["matInput","","formControlName","priceRealization","min","0","type","number"],["matInput","","formControlName","cost","min","0","type","number"],["matInput","","formControlName","productivityCurrentYear","min","0","type","number"],["matInput","","formControlName","productivityLastYear","min","0","type","number"],["matInput","","formControlName","productivityBeforeLastYear","min","0","type","number"],["align","center"],["class","my-3","type","submit","color","primary","mat-raised-button","",4,"ngIf"],[3,"value"],["type","submit","color","primary","mat-raised-button","",1,"my-3"]],template:function(t,e){1&t&&(n.Ub(0,"form",0),n.cc("ngSubmit",(function(){return e.onFormSubmit()})),n.Ub(1,"h2",1),n.Dc(2),n.Tb(),n.Ub(3,"mat-dialog-content",2),n.Ub(4,"div",3),n.Ub(5,"div",4),n.Ub(6,"mat-form-field",5),n.Ub(7,"mat-label"),n.Dc(8,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u0443\u043b\u044c\u0442\u0443\u0440\u044b"),n.Tb(),n.Ub(9,"mat-select",6),n.Bc(10,Zc,2,2,"mat-option",7),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Ub(11,"div",3),n.Ub(12,"div",4),n.Ub(13,"mat-form-field",5),n.Ub(14,"mat-label"),n.Dc(15,"\u041f\u043b\u0430\u043d\u0438\u0440\u0443\u0435\u043c\u0430\u044f \u043f\u043b\u043e\u0449\u0430\u0434\u044c \u043f\u043e\u0441\u0435\u0432\u043e\u0432, \u0433\u0430"),n.Tb(),n.Pb(16,"input",8),n.Tb(),n.Tb(),n.Tb(),n.Ub(17,"div",3),n.Ub(18,"div",4),n.Ub(19,"mat-form-field",5),n.Ub(20,"mat-label"),n.Dc(21,"\u041d\u043e\u0440\u043c\u0430 \u0432\u044b\u0441\u0435\u0432\u0430 (\u043a\u0433 \u043d\u0430 1 \u0433\u0430)"),n.Tb(),n.Pb(22,"input",9),n.Tb(),n.Tb(),n.Tb(),n.Ub(23,"div",3),n.Ub(24,"div",4),n.Ub(25,"mat-form-field",5),n.Ub(26,"mat-label"),n.Dc(27,"\u0426\u0435\u043d\u0430 \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438 (\u0437\u0430 1 \u0442\u043e\u043d\u043d\u0443)"),n.Tb(),n.Pb(28,"input",10),n.Tb(),n.Tb(),n.Tb(),n.Ub(29,"div",3),n.Ub(30,"div",4),n.Ub(31,"mat-form-field",5),n.Ub(32,"mat-label"),n.Dc(33,"\u0417\u0430\u0442\u0440\u0430\u0442\u044b"),n.Tb(),n.Pb(34,"input",11),n.Tb(),n.Tb(),n.Tb(),n.Ub(35,"div",3),n.Ub(36,"div",4),n.Ub(37,"mat-form-field",5),n.Ub(38,"mat-label"),n.Dc(39,"\u0423\u0440\u043e\u0436\u0430\u0439\u043d\u043e\u0441\u0442\u044c \u0437\u0430 \u0442\u0435\u043a\u0443\u0449\u0438\u0439 \u0433\u043e\u0434"),n.Tb(),n.Pb(40,"input",12),n.Tb(),n.Tb(),n.Tb(),n.Ub(41,"div",3),n.Ub(42,"div",4),n.Ub(43,"mat-form-field",5),n.Ub(44,"mat-label"),n.Dc(45,"\u0423\u0440\u043e\u0436\u0430\u0439\u043d\u043e\u0441\u0442\u044c 1 \u0433\u043e\u0434 \u043d\u0430\u0437\u0430\u0434"),n.Tb(),n.Pb(46,"input",13),n.Tb(),n.Tb(),n.Tb(),n.Ub(47,"div",3),n.Ub(48,"div",4),n.Ub(49,"mat-form-field",5),n.Ub(50,"mat-label"),n.Dc(51,"\u0423\u0440\u043e\u0436\u0430\u0439\u043d\u043e\u0441\u0442\u044c 2 \u0433\u043e\u0434\u0430 \u043d\u0430\u0437\u0430\u0434"),n.Tb(),n.Pb(52,"input",14),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Ub(53,"mat-dialog-actions",15),n.Bc(54,ts,2,0,"button",16),n.Tb(),n.Tb()),2&t&&(n.mc("formGroup",e.form),n.Cb(2),n.Ec(e.title),n.Cb(8),n.mc("ngForOf",e.cultures),n.Cb(44),n.mc("ngIf",!e.form.invalid))},directives:[U.v,U.p,U.i,u.i,u.f,Dt.b,Dt.f,qt.a,U.o,U.g,y.k,Ct.b,U.b,U.s,u.d,y.l,_t.n,T.b],styles:[".form[_ngcontent-%COMP%]{width:400px}"]}),t})();function is(t,e){1&t&&(n.Ub(0,"th",18),n.Dc(1," \u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u0443\u043b\u044c\u0442\u0443\u0440\u044b "),n.Tb())}function ns(t,e){if(1&t&&(n.Ub(0,"td",19),n.Dc(1),n.Tb()),2&t){const t=e.$implicit;n.Cb(1),n.Fc(" ",t.culture," ")}}function as(t,e){1&t&&(n.Ub(0,"th",18),n.Dc(1," \u041f\u043b\u0430\u043d\u0438\u0440\u0443\u0435\u043c\u0430\u044f \u043f\u043b\u043e\u0449\u0430\u0434\u044c \u043f\u043e\u0441\u0435\u0432\u043e\u0432, \u0433\u0430 "),n.Tb())}function os(t,e){if(1&t&&(n.Ub(0,"td",19),n.Dc(1),n.Tb()),2&t){const t=e.$implicit;n.Cb(1),n.Fc(" ",t.plannedSquare," ")}}function cs(t,e){1&t&&(n.Ub(0,"th",18),n.Dc(1," \u041d\u043e\u0440\u043c\u0430 \u0432\u044b\u0441\u0435\u0432\u0430 (\u043a\u0433 \u043d\u0430 1 \u0433\u0430) "),n.Tb())}function ss(t,e){if(1&t&&(n.Ub(0,"td",19),n.Dc(1),n.Tb()),2&t){const t=e.$implicit;n.Cb(1),n.Fc(" ",t.seedingRate," ")}}function rs(t,e){1&t&&(n.Ub(0,"th",18),n.Dc(1," \u0426\u0435\u043d\u0430 \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438 (\u0437\u0430 1 \u0442\u043e\u043d\u043d\u0443) "),n.Tb())}function ls(t,e){if(1&t&&(n.Ub(0,"td",19),n.Dc(1),n.Tb()),2&t){const t=e.$implicit;n.Cb(1),n.Fc(" ",t.priceRealization," ")}}function bs(t,e){1&t&&(n.Ub(0,"th",18),n.Dc(1,"\u0417\u0430\u0442\u0440\u0430\u0442\u044b"),n.Tb())}function ds(t,e){if(1&t&&(n.Ub(0,"td",19),n.Dc(1),n.Tb()),2&t){const t=e.$implicit;n.Cb(1),n.Fc(" ",t.cost," ")}}function us(t,e){1&t&&(n.Ub(0,"th",18),n.Dc(1," \u0423\u0440\u043e\u0436\u0430\u0439\u043d\u043e\u0441\u0442\u044c \u0437\u0430 \u0442\u0435\u043a\u0443\u0449\u0438\u0439 \u0433\u043e\u0434 "),n.Tb())}function ms(t,e){if(1&t&&(n.Ub(0,"td",19),n.Dc(1),n.Tb()),2&t){const t=e.$implicit;n.Cb(1),n.Fc(" ",t.productivityCurrentYear," ")}}function hs(t,e){1&t&&(n.Ub(0,"th",18),n.Dc(1," \u0423\u0440\u043e\u0436\u0430\u0439\u043d\u043e\u0441\u0442\u044c 1 \u0433\u043e\u0434 \u043d\u0430\u0437\u0430\u0434 "),n.Tb())}function ps(t,e){if(1&t&&(n.Ub(0,"td",19),n.Dc(1),n.Tb()),2&t){const t=e.$implicit;n.Cb(1),n.Fc(" ",t.productivityLastYear," ")}}function fs(t,e){1&t&&(n.Ub(0,"th",18),n.Dc(1," \u0423\u0440\u043e\u0436\u0430\u0439\u043d\u043e\u0441\u0442\u044c 2 \u0433\u043e\u0434\u0430 \u043d\u0430\u0437\u0430\u0434 "),n.Tb())}function gs(t,e){if(1&t&&(n.Ub(0,"td",19),n.Dc(1),n.Tb()),2&t){const t=e.$implicit;n.Cb(1),n.Fc(" ",t.productivityBeforeLastYear," ")}}function vs(t,e){1&t&&(n.Ub(0,"th",20),n.Dc(1,"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f"),n.Tb())}function Ts(t,e){if(1&t){const t=n.Vb();n.Ub(0,"td",19),n.Ub(1,"button",21),n.cc("click",(function(){n.vc(t);const i=e.$implicit;return n.gc().editFloraAssets(i.id)})),n.Ub(2,"mat-icon"),n.Dc(3,"edit"),n.Tb(),n.Tb(),n.Ub(4,"button",22),n.cc("click",(function(){n.vc(t);const i=e.$implicit;return n.gc().removeFloraAssets(i.id)})),n.Ub(5,"mat-icon"),n.Dc(6,"delete"),n.Tb(),n.Tb(),n.Tb()}if(2&t){const t=n.gc();n.Cb(1),n.mc("disabled",t.isReadOnly),n.Cb(3),n.mc("disabled",t.isReadOnly)}}function ys(t,e){1&t&&n.Pb(0,"tr",23)}function Us(t,e){1&t&&n.Pb(0,"tr",24)}let Ds=(()=>{class t{constructor(t,e,i){this.store=t,this.dictionaryService=e,this.dialogService=i,this.ngDestroyed$=new I.a,this.floraAssets=[],this.cultures=[],this.displayedColumns=["culture","plannedSquare","seedingRate","priceRealization","cost","productivityCurrentYear","productivityLastYear","productivityBeforeLastYear","actions"]}ngOnInit(){this.store.select(t=>t.assets.floraActivities).pipe(Object(C.a)(this.ngDestroyed$)).subscribe(t=>{this.floraAssets=t,this.dataSource=new be.k(t)}),this.dictionaryService.getFloraCultures().then(t=>{this.cultures=t.data.list})}ngAfterViewInit(){this.dataSource.sort=this.sort}ngOnDestroy(){this.ngDestroyed$.next(),this.ngDestroyed$.complete()}get canAdd(){return this.cultures.length>0&&this.allowedCultures().length>0}allowedCultures(t=null){return this.cultures.filter(e=>!this.floraAssets.some(t=>t.cultureId===e.id)||t&&e.id===t)}addFloraAssets(){this.isReadOnly||this.dialogService.open(es,{data:{initialData:null,cultures:this.allowedCultures()}})}editFloraAssets(t){if(this.isReadOnly)return;const e=this.floraAssets.find(e=>e.id===t);this.dialogService.open(es,{data:{initialData:e,cultures:this.allowedCultures(e.cultureId)}})}removeFloraAssets(t){this.isReadOnly||this.store.dispatch(uc(t))}}return t.\u0275fac=function(e){return new(e||t)(n.Ob(D.h),n.Ob(Lt),n.Ob(u.c))},t.\u0275cmp=n.Ib({type:t,selectors:[["app-flora-assets-table"]],viewQuery:function(t,e){var i;1&t&&n.Jc(le.a,!0),2&t&&n.sc(i=n.dc())&&(e.sort=i.first)},inputs:{isReadOnly:"isReadOnly"},decls:37,vars:4,consts:[[1,"row"],[1,"col"],["mat-table","","matSort","",1,"mat-elevation-z8","w-100",3,"dataSource"],["matColumnDef","culture"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","plannedSquare"],["matColumnDef","seedingRate"],["matColumnDef","priceRealization"],["matColumnDef","cost"],["matColumnDef","productivityCurrentYear"],["matColumnDef","productivityLastYear"],["matColumnDef","productivityBeforeLastYear"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-raised-button","","color","primary","aria-label","add accessory button",1,"my-3","px-3",3,"disabled","click"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-icon-button","","color","primary","matTooltip","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c","aria-label","edit icon button",1,"m-1",3,"disabled","click"],["mat-icon-button","","color","accent","matTooltip","\u0423\u0434\u0430\u043b\u0438\u0442\u044c","aria-label","delete icon button",1,"my-1","mx-2",3,"disabled","click"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(n.Ub(0,"div",0),n.Ub(1,"div",1),n.Ub(2,"table",2),n.Sb(3,3),n.Bc(4,is,2,0,"th",4),n.Bc(5,ns,2,1,"td",5),n.Rb(),n.Sb(6,6),n.Bc(7,as,2,0,"th",4),n.Bc(8,os,2,1,"td",5),n.Rb(),n.Sb(9,7),n.Bc(10,cs,2,0,"th",4),n.Bc(11,ss,2,1,"td",5),n.Rb(),n.Sb(12,8),n.Bc(13,rs,2,0,"th",4),n.Bc(14,ls,2,1,"td",5),n.Rb(),n.Sb(15,9),n.Bc(16,bs,2,0,"th",4),n.Bc(17,ds,2,1,"td",5),n.Rb(),n.Sb(18,10),n.Bc(19,us,2,0,"th",4),n.Bc(20,ms,2,1,"td",5),n.Rb(),n.Sb(21,11),n.Bc(22,hs,2,0,"th",4),n.Bc(23,ps,2,1,"td",5),n.Rb(),n.Sb(24,12),n.Bc(25,fs,2,0,"th",4),n.Bc(26,gs,2,1,"td",5),n.Rb(),n.Sb(27,13),n.Bc(28,vs,2,0,"th",14),n.Bc(29,Ts,7,2,"td",5),n.Rb(),n.Bc(30,ys,1,0,"tr",15),n.Bc(31,Us,1,0,"tr",16),n.Tb(),n.Tb(),n.Tb(),n.Ub(32,"div",0),n.Ub(33,"div",1),n.Ub(34,"button",17),n.cc("click",(function(){return e.addFloraAssets()})),n.Ub(35,"mat-icon"),n.Dc(36,"add"),n.Tb(),n.Tb(),n.Tb(),n.Tb()),2&t&&(n.Cb(2),n.mc("dataSource",e.dataSource),n.Cb(28),n.mc("matHeaderRowDef",e.displayedColumns),n.Cb(1),n.mc("matRowDefColumns",e.displayedColumns),n.Cb(3),n.mc("disabled",!e.canAdd||e.isReadOnly))},directives:[be.j,le.a,be.c,be.e,be.b,be.g,be.i,T.b,we.a,be.d,le.b,be.a,zt.a,be.f,be.h],styles:[".mat-row[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{text-align:center;justify-content:center}.mat-column-actions[_ngcontent-%COMP%]{min-width:130px}"]}),t})();function Cs(t,e){1&t&&(n.Ub(0,"div",16),n.Ub(1,"div",4),n.Ub(2,"mat-form-field",5),n.Ub(3,"mat-label"),n.Dc(4,"\u041a\u043e\u043c\u0443 \u0438 \u0437\u0430 \u0447\u0442\u043e \u0437\u0430\u043b\u043e\u0436\u0435\u043d\u043e"),n.Tb(),n.Pb(5,"textarea",17),n.Tb(),n.Tb(),n.Tb())}function Os(t,e){1&t&&(n.Ub(0,"button",18),n.Dc(1," \u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c "),n.Tb())}let Is=(()=>{class t{constructor(t,e,i,n){this.formBuilder=t,this.store=e,this.dialogRef=i,this.data=n,this.initialState={id:null,fullname:null,dateIssue:null,count:0,countOfCorrect:0,isPledged:!1,pledgeDescription:null},n.initialData&&(this.initialState=n.initialData)}ngOnInit(){this.generateForm()}get isNew(){return null===this.initialState.id}get title(){return this.isNew?"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0433\u043e \u0440\u0435\u0441\u0443\u0440\u0441\u0430":"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0433\u043e \u0440\u0435\u0441\u0443\u0440\u0441\u0430"}generateForm(){this.form=this.formBuilder.group({id:[this.initialState.id],fullname:[this.initialState.fullname,U.u.required],dateIssue:[this.initialState.dateIssue,U.u.required],count:[this.initialState.count,U.u.compose([U.u.required,U.u.min(1)])],countOfCorrect:[this.initialState.countOfCorrect,U.u.compose([U.u.required,U.u.min(0)])],isPledged:[this.initialState.isPledged,U.u.required],pledgeDescription:[this.initialState.pledgeDescription]})}get fullname(){return this.form.get("fullname")}get dateIssue(){return this.form.get("dateIssue")}get count(){return this.form.get("count")}get countOfCorrect(){return this.form.get("countOfCorrect")}get isPledged(){return this.form.get("isPledged")}get pledgeDescription(){return this.form.get("pledgeDescription")}onFormSubmit(){this.form.valid&&(this.store.dispatch(this.isNew?mc(this.form.value):hc(this.form.value)),this.dialogRef.close())}}return t.\u0275fac=function(e){return new(e||t)(n.Ob(U.d),n.Ob(D.h),n.Ob(u.h),n.Ob(u.a))},t.\u0275cmp=n.Ib({type:t,selectors:[["app-technic-assets-dialog-form"]],decls:37,vars:6,consts:[[1,"form",3,"formGroup","ngSubmit"],["mat-dialog-title",""],[1,"mat-typography"],[1,"row"],[1,"col"],["appearance","outline"],["matInput","","formControlName","fullname"],["matInput","","formControlName","dateIssue",3,"matDatepicker"],["matSuffix","",3,"for"],["dateIssue",""],["matInput","","formControlName","count","min","0","type","number"],["matInput","","formControlName","countOfCorrect","min","0","type","number"],["formControlName","isPledged"],["class","row mt-3",4,"ngIf"],["align","center"],["class","my-3","type","submit","color","primary","mat-raised-button","",4,"ngIf"],[1,"row","mt-3"],["matInput","","formControlName","pledgeDescription"],["type","submit","color","primary","mat-raised-button","",1,"my-3"]],template:function(t,e){if(1&t&&(n.Ub(0,"form",0),n.cc("ngSubmit",(function(){return e.onFormSubmit()})),n.Ub(1,"h2",1),n.Dc(2),n.Tb(),n.Ub(3,"mat-dialog-content",2),n.Ub(4,"div",3),n.Ub(5,"div",4),n.Ub(6,"mat-form-field",5),n.Ub(7,"mat-label"),n.Dc(8,"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435"),n.Tb(),n.Pb(9,"input",6),n.Tb(),n.Tb(),n.Tb(),n.Ub(10,"div",3),n.Ub(11,"div",4),n.Ub(12,"mat-form-field",5),n.Ub(13,"mat-label"),n.Dc(14,"\u0413\u043e\u0434 \u0432\u044b\u043f\u0443\u0441\u043a\u0430"),n.Tb(),n.Pb(15,"input",7),n.Pb(16,"mat-datepicker-toggle",8),n.Pb(17,"mat-datepicker",null,9),n.Tb(),n.Tb(),n.Tb(),n.Ub(19,"div",3),n.Ub(20,"div",4),n.Ub(21,"mat-form-field",5),n.Ub(22,"mat-label"),n.Dc(23,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"),n.Tb(),n.Pb(24,"input",10),n.Tb(),n.Tb(),n.Ub(25,"div",4),n.Ub(26,"mat-form-field",5),n.Ub(27,"mat-label"),n.Dc(28,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0432 \u0438\u0441\u043f\u0440\u0430\u0432\u043d\u043e\u043c \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0438"),n.Tb(),n.Pb(29,"input",11),n.Tb(),n.Tb(),n.Tb(),n.Ub(30,"div",3),n.Ub(31,"div",4),n.Ub(32,"mat-checkbox",12),n.Dc(33,"\u041e\u0431\u0440\u0435\u043c\u0435\u043d\u0435\u043d\u0438\u044f"),n.Tb(),n.Tb(),n.Tb(),n.Bc(34,Cs,6,0,"div",13),n.Tb(),n.Ub(35,"mat-dialog-actions",14),n.Bc(36,Os,2,0,"button",15),n.Tb(),n.Tb()),2&t){const t=n.tc(18);n.mc("formGroup",e.form),n.Cb(2),n.Ec(e.title),n.Cb(13),n.mc("matDatepicker",t),n.Cb(1),n.mc("for",t),n.Cb(18),n.mc("ngIf",e.isPledged.value),n.Cb(2),n.mc("ngIf",!e.form.invalid)}},directives:[U.v,U.p,U.i,u.i,u.f,Dt.b,Dt.f,Ct.b,U.b,U.o,U.g,Ea.b,Ea.d,Dt.g,Ea.a,U.s,Ze.a,y.l,u.d,T.b],styles:[""]}),t})();function Ss(t,e){1&t&&(n.Ub(0,"th",16),n.Dc(1," \u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u0441\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0439 \u0442\u0435\u0445\u043d\u0438\u043a\u0438 (\u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u044f), \u0437\u0434\u0430\u043d\u0438\u044f, \u0441\u043e\u043e\u0440\u0443\u0436\u0435\u043d\u0438\u044f, \u0430\u0432\u0442\u043e\u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u0430 \u0438 \u0442.\u0434. \u0438\u043c\u0435\u044e\u0449\u0438\u0445\u0441\u044f \u0432 \u043d\u0430\u043b\u0438\u0447\u0438\u0438 "),n.Tb())}function ws(t,e){if(1&t&&(n.Ub(0,"td",17),n.Dc(1),n.Tb()),2&t){const t=e.$implicit;n.Cb(1),n.Fc(" ",t.fullname," ")}}function ks(t,e){1&t&&(n.Ub(0,"th",16),n.Dc(1,"\u0413\u043e\u0434 \u0432\u044b\u043f\u0443\u0441\u043a\u0430"),n.Tb())}function xs(t,e){if(1&t&&(n.Ub(0,"td",17),n.Dc(1),n.hc(2,"date"),n.Tb()),2&t){const t=e.$implicit;n.Cb(1),n.Fc(" ",n.jc(2,1,t.dateIssue,"dd.MM.yyyy")," ")}}function js(t,e){1&t&&(n.Ub(0,"th",16),n.Dc(1,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"),n.Tb())}function Ps(t,e){if(1&t&&(n.Ub(0,"td",17),n.Dc(1),n.Tb()),2&t){const t=e.$implicit;n.Cb(1),n.Fc(" ",t.count," ")}}function Fs(t,e){1&t&&(n.Ub(0,"th",16),n.Dc(1," \u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0432 \u0438\u0441\u043f\u0440\u0430\u0432\u043d\u043e\u043c \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0438 "),n.Tb())}function Rs(t,e){if(1&t&&(n.Ub(0,"td",17),n.Dc(1),n.Tb()),2&t){const t=e.$implicit;n.Cb(1),n.Fc(" ",t.countOfCorrect," ")}}function As(t,e){1&t&&(n.Ub(0,"th",16),n.Dc(1,"\u041e\u0431\u0440\u0435\u043c\u0435\u043d\u0435\u043d\u0438\u044f"),n.Tb())}function Bs(t,e){if(1&t&&(n.Ub(0,"td",17),n.Dc(1),n.Tb()),2&t){const t=e.$implicit;n.Cb(1),n.Fc(" ",t.isPledged?"\u0414\u0430":"\u041d\u0435\u0442"," ")}}function $s(t,e){1&t&&(n.Ub(0,"th",16),n.Dc(1," \u041a\u043e\u043c\u0443 \u0438 \u0437\u0430 \u0447\u0442\u043e \u0437\u0430\u043b\u043e\u0436\u0435\u043d\u043e "),n.Tb())}function Ns(t,e){if(1&t&&(n.Ub(0,"td",17),n.Dc(1),n.Tb()),2&t){const t=e.$implicit;n.Cb(1),n.Fc(" ",t.pledgeDescription," ")}}function zs(t,e){1&t&&(n.Ub(0,"th",18),n.Dc(1,"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f"),n.Tb())}function Ls(t,e){if(1&t){const t=n.Vb();n.Ub(0,"td",17),n.Ub(1,"button",19),n.cc("click",(function(){n.vc(t);const i=e.$implicit;return n.gc().editTechnicAssets(i.id)})),n.Ub(2,"mat-icon"),n.Dc(3,"edit"),n.Tb(),n.Tb(),n.Ub(4,"button",20),n.cc("click",(function(){n.vc(t);const i=e.$implicit;return n.gc().removeTechnicAssets(i.id)})),n.Ub(5,"mat-icon"),n.Dc(6,"delete"),n.Tb(),n.Tb(),n.Tb()}if(2&t){const t=n.gc();n.Cb(1),n.mc("disabled",t.isReadOnly),n.Cb(3),n.mc("disabled",t.isReadOnly)}}function Es(t,e){1&t&&n.Pb(0,"tr",21)}function Ms(t,e){1&t&&n.Pb(0,"tr",22)}let Vs=(()=>{class t{constructor(t,e){this.store=t,this.dialogService=e,this.ngDestroyed$=new I.a,this.technicAssets=[],this.displayedColumns=["fullname","dateIssue","count","countOfCorrect","isPledged","pledgeDescription","actions"]}ngOnInit(){this.store.select(t=>t.assets.technicActivities).pipe(Object(C.a)(this.ngDestroyed$)).subscribe(t=>{this.technicAssets=t,this.dataSource=new be.k(t)})}ngAfterViewInit(){this.dataSource.sort=this.sort}ngOnDestroy(){this.ngDestroyed$.next(),this.ngDestroyed$.complete()}addTechnicAssets(){this.isReadOnly||this.dialogService.open(Is,{data:{initialData:null}})}editTechnicAssets(t){this.isReadOnly||this.dialogService.open(Is,{data:{initialData:this.technicAssets.find(e=>e.id===t)}})}removeTechnicAssets(t){this.isReadOnly||this.store.dispatch(pc(t))}}return t.\u0275fac=function(e){return new(e||t)(n.Ob(D.h),n.Ob(u.c))},t.\u0275cmp=n.Ib({type:t,selectors:[["app-technic-assets-table"]],viewQuery:function(t,e){var i;1&t&&n.Jc(le.a,!0),2&t&&n.sc(i=n.dc())&&(e.sort=i.first)},inputs:{isReadOnly:"isReadOnly"},decls:31,vars:4,consts:[[1,"row"],[1,"col"],["mat-table","","matSort","",1,"mat-elevation-z8","w-100",3,"dataSource"],["matColumnDef","fullname"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","dateIssue"],["matColumnDef","count"],["matColumnDef","countOfCorrect"],["matColumnDef","isPledged"],["matColumnDef","pledgeDescription"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-raised-button","","color","primary","aria-label","add accessory button",1,"my-3","px-3",3,"disabled","click"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-icon-button","","color","primary","matTooltip","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c","aria-label","edit icon button",1,"m-1",3,"disabled","click"],["mat-icon-button","","color","accent","matTooltip","\u0423\u0434\u0430\u043b\u0438\u0442\u044c","aria-label","delete icon button",1,"my-1","mx-2",3,"disabled","click"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(n.Ub(0,"div",0),n.Ub(1,"div",1),n.Ub(2,"table",2),n.Sb(3,3),n.Bc(4,Ss,2,0,"th",4),n.Bc(5,ws,2,1,"td",5),n.Rb(),n.Sb(6,6),n.Bc(7,ks,2,0,"th",4),n.Bc(8,xs,3,4,"td",5),n.Rb(),n.Sb(9,7),n.Bc(10,js,2,0,"th",4),n.Bc(11,Ps,2,1,"td",5),n.Rb(),n.Sb(12,8),n.Bc(13,Fs,2,0,"th",4),n.Bc(14,Rs,2,1,"td",5),n.Rb(),n.Sb(15,9),n.Bc(16,As,2,0,"th",4),n.Bc(17,Bs,2,1,"td",5),n.Rb(),n.Sb(18,10),n.Bc(19,$s,2,0,"th",4),n.Bc(20,Ns,2,1,"td",5),n.Rb(),n.Sb(21,11),n.Bc(22,zs,2,0,"th",12),n.Bc(23,Ls,7,2,"td",5),n.Rb(),n.Bc(24,Es,1,0,"tr",13),n.Bc(25,Ms,1,0,"tr",14),n.Tb(),n.Tb(),n.Tb(),n.Ub(26,"div",0),n.Ub(27,"div",1),n.Ub(28,"button",15),n.cc("click",(function(){return e.addTechnicAssets()})),n.Ub(29,"mat-icon"),n.Dc(30,"add"),n.Tb(),n.Tb(),n.Tb(),n.Tb()),2&t&&(n.Cb(2),n.mc("dataSource",e.dataSource),n.Cb(22),n.mc("matHeaderRowDef",e.displayedColumns),n.Cb(1),n.mc("matRowDefColumns",e.displayedColumns),n.Cb(3),n.mc("disabled",e.isReadOnly))},directives:[be.j,le.a,be.c,be.e,be.b,be.g,be.i,T.b,we.a,be.d,le.b,be.a,zt.a,be.f,be.h],pipes:[y.e],styles:[".mat-row[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{text-align:center;justify-content:center}.mat-column-actions[_ngcontent-%COMP%]{min-width:130px}"]}),t})();function qs(t,e){1&t&&(n.Ub(0,"div",2),n.Pb(1,"mat-spinner",3),n.Tb()),2&t&&(n.Cb(1),n.mc("diameter",50))}function _s(t,e){if(1&t&&n.Pb(0,"app-land-assets-table",15),2&t){const t=n.gc(2);n.mc("isReadOnly",t.isReadOnly)}}function Hs(t,e){if(1&t&&n.Pb(0,"app-livestock-assets-table",15),2&t){const t=n.gc(2);n.mc("isReadOnly",t.isReadOnly)}}function Ys(t,e){if(1&t&&n.Pb(0,"app-flora-assets-table",15),2&t){const t=n.gc(2);n.mc("isReadOnly",t.isReadOnly)}}function Gs(t,e){if(1&t&&n.Pb(0,"app-technic-assets-table",15),2&t){const t=n.gc(2);n.mc("isReadOnly",t.isReadOnly)}}function Js(t,e){if(1&t){const t=n.Vb();n.Ub(0,"mat-card",4),n.Ub(1,"section",5),n.Ub(2,"article"),n.Ub(3,"div",6),n.Ub(4,"div",7),n.Ub(5,"h3",8),n.Dc(6," \u0417\u0435\u043c\u0435\u043b\u044c\u043d\u044b\u0435 \u0440\u0435\u0441\u0443\u0440\u0441\u044b (\u0440\u0430\u0441\u0442\u0435\u043d\u0438\u0432\u043e\u0434\u0441\u0442\u0432\u043e, \u043f\u0430\u0441\u0442\u0431\u0438\u0449\u0430) "),n.Tb(),n.Ub(7,"p"),n.Dc(8,"\u0418\u043c\u0435\u044e\u0442\u0441\u044f \u043b\u0438 \u0443 \u0412\u0430\u0441 \u0437\u0430\u043c\u0435\u043b\u044c\u043d\u044b\u0435 \u0440\u0435\u0441\u0443\u0440\u0441\u044b (\u0441\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0441\u0442\u044c, \u0430\u0440\u0435\u043d\u0434\u0430)?"),n.Tb(),n.Tb(),n.Ub(9,"div",9),n.Ub(10,"mat-radio-group",10),n.cc("ngModelChange",(function(e){return n.vc(t),n.gc().hasLandAssets=e})),n.Ub(11,"mat-radio-button",11),n.Dc(12," \u0414\u0430 "),n.Tb(),n.Ub(13,"mat-radio-button",11),n.Dc(14," \u041d\u0435\u0442 "),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Bc(15,_s,1,1,"app-land-assets-table",12),n.Tb(),n.Ub(16,"article"),n.Ub(17,"div",6),n.Ub(18,"div",7),n.Ub(19,"h3",8),n.Dc(20,"\u0411\u0438\u043e\u043b\u043e\u0433\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0430\u043a\u0442\u0438\u0432\u044b (\u0436\u0438\u0432\u043e\u0442\u043d\u043e\u0432\u043e\u0434\u0441\u0442\u0432\u043e)"),n.Tb(),n.Ub(21,"p"),n.Dc(22,"\u0418\u043c\u0435\u044e\u0442\u0441\u044f \u043b\u0438 \u0443 \u0412\u0430\u0441 \u0431\u0438\u043e\u043b\u043e\u0433\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0430\u043a\u0442\u0438\u0432\u044b \u0432 \u0444\u043e\u0440\u043c\u0435 \u0436\u0438\u0432\u043e\u0442\u043d\u043e\u0432\u043e\u0434\u0441\u0442\u0432\u0430?"),n.Tb(),n.Tb(),n.Ub(23,"div",9),n.Ub(24,"mat-radio-group",10),n.cc("ngModelChange",(function(e){return n.vc(t),n.gc().hasLiveStockAssets=e})),n.Ub(25,"mat-radio-button",11),n.Dc(26," \u0414\u0430 "),n.Tb(),n.Ub(27,"mat-radio-button",11),n.Dc(28," \u041d\u0435\u0442 "),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Bc(29,Hs,1,1,"app-livestock-assets-table",12),n.Tb(),n.Ub(30,"article"),n.Ub(31,"div",6),n.Ub(32,"div",7),n.Ub(33,"h3",8),n.Dc(34,"\u0423\u0440\u043e\u0436\u0430\u0439\u043d\u043e\u0441\u0442\u044c (\u0420\u0430\u0441\u0442\u0435\u043d\u0438\u0435\u0432\u043e\u0434\u0441\u0442\u0432\u043e)"),n.Tb(),n.Ub(35,"p"),n.Dc(36,"\u0418\u043c\u0435\u044e\u0442\u0441\u044f \u043b\u0438 \u0443 \u0412\u0430\u0441 \u0434\u043e\u0445\u043e\u0434\u044b \u0438 \u0440\u0430\u0441\u0445\u043e\u0434\u044b \u043e\u0442 \u0440\u0430\u0441\u0442\u0435\u043d\u0438\u0435\u0432\u043e\u0434\u0441\u0442\u0432\u0430?"),n.Tb(),n.Tb(),n.Ub(37,"div",9),n.Ub(38,"mat-radio-group",10),n.cc("ngModelChange",(function(e){return n.vc(t),n.gc().hasFloraAssets=e})),n.Ub(39,"mat-radio-button",11),n.Dc(40," \u0414\u0430 "),n.Tb(),n.Ub(41,"mat-radio-button",11),n.Dc(42," \u041d\u0435\u0442 "),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Bc(43,Ys,1,1,"app-flora-assets-table",12),n.Tb(),n.Ub(44,"article"),n.Ub(45,"div",6),n.Ub(46,"div",7),n.Ub(47,"h3",8),n.Dc(48,"\u041f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0435 \u043c\u043e\u0449\u043d\u043e\u0441\u0442\u0438 \u0432 \u043d\u0430\u043b\u0438\u0447\u0438\u0435"),n.Tb(),n.Ub(49,"p"),n.Dc(50," \u0418\u043c\u0435\u044e\u0442\u0441\u044f \u043b\u0438 \u0443 \u0412\u0430\u0441 \u0432 \u043d\u0430\u043b\u0438\u0447\u0438\u0435 \u0441\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0435 \u0442\u0435\u0445\u043d\u0438\u043a\u0430 (\u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435), \u0437\u0434\u0430\u043d\u0438\u044f, \u0441\u043e\u043e\u0440\u0443\u0436\u0435\u043d\u0438\u044f, \u0430\u0432\u0442\u043e\u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442 \u0438 \u0442. \u0434.? "),n.Tb(),n.Tb(),n.Ub(51,"div",9),n.Ub(52,"mat-radio-group",10),n.cc("ngModelChange",(function(e){return n.vc(t),n.gc().hasTechnicAssets=e})),n.Ub(53,"mat-radio-button",11),n.Dc(54," \u0414\u0430 "),n.Tb(),n.Ub(55,"mat-radio-button",11),n.Dc(56," \u041d\u0435\u0442 "),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Bc(57,Gs,1,1,"app-technic-assets-table",12),n.Tb(),n.Ub(58,"div",6),n.Ub(59,"div",13),n.Ub(60,"button",14),n.cc("click",(function(){return n.vc(t),n.gc().save()})),n.Dc(61),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Tb()}if(2&t){const t=n.gc();n.Cb(10),n.mc("ngModel",t.hasLandAssets)("disabled",t.isReadOnly),n.Cb(1),n.mc("value",!0),n.Cb(2),n.mc("value",!1),n.Cb(2),n.mc("ngIf",t.hasLandAssets),n.Cb(9),n.mc("ngModel",t.hasLiveStockAssets)("disabled",t.isReadOnly),n.Cb(1),n.mc("value",!0),n.Cb(2),n.mc("value",!1),n.Cb(2),n.mc("ngIf",t.hasLiveStockAssets),n.Cb(9),n.mc("ngModel",t.hasFloraAssets)("disabled",t.isReadOnly),n.Cb(1),n.mc("value",!0),n.Cb(2),n.mc("value",!1),n.Cb(2),n.mc("ngIf",t.hasFloraAssets),n.Cb(9),n.mc("ngModel",t.hasTechnicAssets)("disabled",t.isReadOnly),n.Cb(1),n.mc("value",!0),n.Cb(2),n.mc("value",!1),n.Cb(2),n.mc("ngIf",t.hasTechnicAssets),n.Cb(3),n.mc("disabled",t.saving),n.Cb(1),n.Fc(" ",t.isReadOnly?"\u0414\u0430\u043b\u0435\u0435":"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"," ")}}let Ks=(()=>{class t{constructor(t,e){this.store=t,this.applicationService=e,this.ngDestroyed$=new I.a,this.isReadOnly=!0,this.saving=!1,this.loading=!0}ngOnInit(){this.getAssets(),this.store.select(t=>t.client.details.isReadOnly).pipe(Object(C.a)(this.ngDestroyed$)).subscribe(t=>{this.isReadOnly=t}),this.store.select(t=>t.assets).pipe(Object(C.a)(this.ngDestroyed$)).subscribe(t=>{this.assets=t})}ngOnDestroy(){this.store.dispatch(nc()),this.ngDestroyed$.next(),this.ngDestroyed$.complete()}getAssets(){this.loading=!0,this.applicationService.getAssets(this.loanApplicationId).then(t=>{this.store.dispatch(ic(t.data))}).finally(()=>{this.loading=!1,this.hasLandAssets=this.assets.landActivities.length>0,this.hasLiveStockAssets=this.assets.livestockActivities.length>0,this.hasFloraAssets=this.assets.floraActivities.length>0,this.hasTechnicAssets=this.assets.technicActivities.length>0})}save(){this.isReadOnly?this.openNextTab():(this.saving=!0,this.applicationService.addOrUpdateAssets(this.loanApplicationId,{id:this.assets.id,landActivities:this.hasLandAssets?this.assets.landActivities:[],livestockActivities:this.hasLiveStockAssets?this.assets.livestockActivities:[],floraActivities:this.hasFloraAssets?this.assets.floraActivities:[],technicActivities:this.hasTechnicAssets?this.assets.technicActivities:[]}).then(()=>{this.openNextTab(),this.getAssets()}).finally(()=>this.saving=!1))}}return t.\u0275fac=function(e){return new(e||t)(n.Ob(D.h),n.Ob(Ut))},t.\u0275cmp=n.Ib({type:t,selectors:[["app-okaps-client-assets"]],inputs:{loanApplicationId:"loanApplicationId",openNextTab:"openNextTab"},decls:2,vars:2,consts:[["class","spinner",4,"ngIf"],["class","m-3",4,"ngIf"],[1,"spinner"],["color","primary",3,"diameter"],[1,"m-3"],[1,"container"],[1,"row"],[1,"col-11"],[1,"uppercase"],[1,"col-1"],["aria-labelledby","radio-group-label",1,"radio-group",3,"ngModel","disabled","ngModelChange"],[1,"radio-button",3,"value"],[3,"isReadOnly",4,"ngIf"],[1,"col"],["mat-raised-button","","color","primary",1,"float-right",3,"disabled","click"],[3,"isReadOnly"]],template:function(t,e){1&t&&(n.Bc(0,qs,2,1,"div",0),n.Bc(1,Js,62,22,"mat-card",1)),2&t&&(n.mc("ngIf",e.loading),n.Cb(1),n.mc("ngIf",!e.loading))},directives:[y.l,Mi.b,l.a,b.b,U.o,U.r,b.a,T.b,Pc,Xc,Ds,Vs],styles:[".radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:15px 0}.radio-button[_ngcontent-%COMP%]{margin:5px}"]}),t})();const Ws=Object(P.b)({name:"clientExtraDetails",initialState:{id:null,isReadOnly:!1,flOwners:[],ulOwners:[],licenses:[],vatCertificate:null},reducers:{setClientExtraDetails:(t,e)=>{t.id=e.payload.id,t.isReadOnly=e.payload.isReadOnly,t.flOwners=e.payload.flOwners,t.ulOwners=e.payload.ulOwners,t.licenses=e.payload.licenses,t.vatCertificate=e.payload.vatCertificate},clearClientExtraDetails:t=>{t.id=null,t.isReadOnly=!1,t.flOwners=[],t.ulOwners=[],t.licenses=[],t.vatCertificate=null},addUlOwner:(t,e)=>{t.ulOwners.push(e.payload)},editUlOwner:(t,e)=>{-1!==e.payload.index&&(t.ulOwners=[...t.ulOwners.slice(0,e.payload.index),e.payload.data,...t.ulOwners.slice(e.payload.index+1)])},removeUlOwner:(t,e)=>{t.ulOwners.splice(e.payload,1)},addFlOwner:(t,e)=>{t.flOwners.push(e.payload)},editFlOwner:(t,e)=>{-1!==e.payload.index&&(t.flOwners=[...t.flOwners.slice(0,e.payload.index),e.payload.data,...t.flOwners.slice(e.payload.index+1)])},removeFlOwner:(t,e)=>{t.flOwners.splice(e.payload,1)},addLicense:(t,e)=>{t.licenses.push(e.payload)},editLicense:(t,e)=>{-1!==e.payload.index&&(t.licenses=[...t.licenses.slice(0,e.payload.index),e.payload.data,...t.licenses.slice(e.payload.index+1)])},removeLicense:(t,e)=>{t.licenses.splice(e.payload,1)},addCertificate:(t,e)=>{t.vatCertificate=e.payload},editCertificate:(t,e)=>{t.vatCertificate.number=e.payload.number,t.vatCertificate.issuer=e.payload.issuer,t.vatCertificate.dateIssue=e.payload.dateIssue},removeCertificate:t=>{t.vatCertificate=null}}}),{setClientExtraDetails:Qs,clearClientExtraDetails:Xs,addUlOwner:Zs,editUlOwner:tr,removeUlOwner:er,addFlOwner:ir,editFlOwner:nr,removeFlOwner:ar,addLicense:or,editLicense:cr,removeLicense:sr,addCertificate:rr,editCertificate:lr,removeCertificate:br}=Ws.actions;var dr=Ws.reducer;function ur(t,e){if(1&t){const t=n.Vb();n.Ub(0,"div"),n.Ub(1,"div",16),n.Ub(2,"div",17),n.Ub(3,"mat-form-field",5),n.Ub(4,"mat-label"),n.Dc(5,"\u0411\u0418\u041a"),n.Tb(),n.Pb(6,"input",18),n.Tb(),n.Tb(),n.Ub(7,"div",17),n.Ub(8,"mat-form-field",5),n.Ub(9,"mat-label"),n.Dc(10,"\u2116 \u0441\u0447\u0435\u0442\u0430"),n.Tb(),n.Pb(11,"input",19),n.Tb(),n.Tb(),n.Ub(12,"div",20),n.Ub(13,"button",21),n.cc("click",(function(){n.vc(t);const i=e.index;return n.gc().removeBankAccount(i)})),n.Ub(14,"mat-icon"),n.Dc(15,"delete"),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Tb()}if(2&t){const t=e.index;n.Cb(1),n.mc("formGroupName",t)}}function mr(t,e){1&t&&(n.Ub(0,"button",22),n.Dc(1," \u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c "),n.Tb())}let hr=(()=>{class t{constructor(t,e,i,n){this.formBuilder=t,this.store=e,this.dialogRef=i,this.data=n,this.index=void 0,this.initialState={id:null,fullName:null,rate:0,bankAccounts:[]},n.initialData&&(this.initialState=n.initialData,this.index=n.index)}ngOnInit(){this.generateForm()}get isNew(){return void 0===this.index}get title(){return this.isNew?"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u0438\u043a\u0430":"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0441\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u0438\u043a\u0430"}generateForm(){this.form=this.formBuilder.group({id:[this.initialState.id],fullName:[this.initialState.fullName,U.u.required],rate:[this.initialState.rate,U.u.compose([U.u.required,U.u.min(1),U.u.max(100)])],bankAccounts:this.formBuilder.array([],U.u.required)}),this.initialState.bankAccounts.forEach(t=>this.addBankAccount(t))}get fullName(){return this.form.get("fullName")}get rate(){return this.form.get("rate")}get bankAccounts(){return this.form.get("bankAccounts")}addBankAccount(t){this.bankAccounts.push(new U.h({id:new U.e(null==t?void 0:t.id),bic:new U.e(null==t?void 0:t.bic,U.u.required),number:new U.e(null==t?void 0:t.number,U.u.required)}))}removeBankAccount(t){this.bankAccounts.removeAt(t)}onFormSubmit(){this.form.valid&&(this.store.dispatch(this.isNew?Zs(this.form.value):tr({index:this.index,data:this.form.value})),this.dialogRef.close())}}return t.\u0275fac=function(e){return new(e||t)(n.Ob(U.d),n.Ob(D.h),n.Ob(u.h),n.Ob(u.a))},t.\u0275cmp=n.Ib({type:t,selectors:[["app-juridical-owners-dialog-form"]],decls:27,vars:4,consts:[[1,"form",3,"formGroup","ngSubmit"],["mat-dialog-title",""],[1,"mat-typography"],[1,"row"],[1,"col-8"],["appearance","outline"],["matInput","","formControlName","fullName"],[1,"col-4"],["matInput","","formControlName","rate","min","1","max","100","type","number"],[1,"row","mb-4"],[1,"col-12"],["formArrayName","bankAccounts"],[4,"ngFor","ngForOf"],["mat-stroked-button","","color","primary",3,"click"],["align","center"],["class","my-3","type","submit","color","primary","mat-raised-button","",4,"ngIf"],[1,"row",3,"formGroupName"],[1,"col-5"],["matInput","","formControlName","bic"],["matInput","","formControlName","number"],[1,"col-2"],["mat-icon-button","","color","accent","matTooltip","\u0423\u0434\u0430\u043b\u0438\u0442\u044c","aria-label","delete icon button",1,"my-1","mx-2",3,"click"],["type","submit","color","primary","mat-raised-button","",1,"my-3"]],template:function(t,e){1&t&&(n.Ub(0,"form",0),n.cc("ngSubmit",(function(){return e.onFormSubmit()})),n.Ub(1,"h2",1),n.Dc(2),n.Tb(),n.Ub(3,"mat-dialog-content",2),n.Ub(4,"div",3),n.Ub(5,"div",4),n.Ub(6,"mat-form-field",5),n.Ub(7,"mat-label"),n.Dc(8,"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u042e\u041b/\u0424\u0418\u041e \u0424\u041b"),n.Tb(),n.Pb(9,"input",6),n.Tb(),n.Tb(),n.Ub(10,"div",7),n.Ub(11,"mat-form-field",5),n.Ub(12,"mat-label"),n.Dc(13,"\u041f\u0440\u043e\u0446\u0435\u043d\u0442\u043e\u0432 \u0430\u043a\u0446\u0438\u0438"),n.Tb(),n.Pb(14,"input",8),n.Tb(),n.Tb(),n.Tb(),n.Ub(15,"div",9),n.Ub(16,"div",10),n.Ub(17,"p"),n.Dc(18,"\u0420\u0435\u043a\u0432\u0438\u0437\u0438\u0442\u044b"),n.Tb(),n.Tb(),n.Ub(19,"div",10),n.Sb(20,11),n.Bc(21,ur,16,1,"div",12),n.Rb(),n.Tb(),n.Ub(22,"div",10),n.Ub(23,"button",13),n.cc("click",(function(){return e.addBankAccount()})),n.Dc(24," \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c "),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Ub(25,"mat-dialog-actions",14),n.Bc(26,mr,2,0,"button",15),n.Tb(),n.Tb()),2&t&&(n.mc("formGroup",e.form),n.Cb(2),n.Ec(e.title),n.Cb(19),n.mc("ngForOf",e.bankAccounts.controls),n.Cb(5),n.mc("ngIf",!e.form.invalid))},directives:[U.v,U.p,U.i,u.i,u.f,Dt.b,Dt.f,Ct.b,U.b,U.o,U.g,U.s,U.c,y.k,T.b,u.d,y.l,U.j,zt.a,we.a],styles:[""]}),t})();function pr(t,e){1&t&&(n.Ub(0,"th",13),n.Dc(1," \u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u042e\u041b/\u0424\u0418\u041e \u0424\u041b "),n.Tb())}function fr(t,e){if(1&t&&(n.Ub(0,"td",14),n.Dc(1),n.Tb()),2&t){const t=e.$implicit;n.Cb(1),n.Fc(" ",t.fullname," ")}}function gr(t,e){1&t&&(n.Ub(0,"th",13),n.Dc(1,"% \u0430\u043a\u0446\u0438\u0438"),n.Tb())}function vr(t,e){if(1&t&&(n.Ub(0,"td",14),n.Dc(1),n.Tb()),2&t){const t=e.$implicit;n.Cb(1),n.Fc(" ",t.rate," ")}}function Tr(t,e){1&t&&(n.Ub(0,"th",13),n.Dc(1,"\u0420\u0435\u043a\u0432\u0438\u0437\u0438\u0442\u044b"),n.Tb())}function yr(t,e){if(1&t&&(n.Ub(0,"td",14),n.Dc(1),n.Tb()),2&t){const t=e.$implicit;n.Cb(1),n.Fc(" ",t.requisites," ")}}function Ur(t,e){1&t&&(n.Ub(0,"th",15),n.Dc(1,"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f"),n.Tb())}function Dr(t,e){if(1&t){const t=n.Vb();n.Ub(0,"td",14),n.Ub(1,"button",16),n.cc("click",(function(){n.vc(t);const i=e.index;return n.gc().editOwner(i)})),n.Ub(2,"mat-icon"),n.Dc(3,"edit"),n.Tb(),n.Tb(),n.Ub(4,"button",17),n.cc("click",(function(){n.vc(t);const i=e.index;return n.gc().removeOwner(i)})),n.Ub(5,"mat-icon"),n.Dc(6,"delete"),n.Tb(),n.Tb(),n.Tb()}if(2&t){const t=n.gc();n.Cb(1),n.mc("disabled",t.isReadOnly),n.Cb(3),n.mc("disabled",t.isReadOnly)}}function Cr(t,e){1&t&&n.Pb(0,"tr",18)}function Or(t,e){1&t&&n.Pb(0,"tr",19)}let Ir=(()=>{class t{constructor(t,e){this.store=t,this.dialogService=e,this.ngDestroyed$=new I.a,this.owners=[],this.displayedColumns=["fullname","rate","requisites","actions"]}ngOnInit(){this.store.select(t=>t.clientExtraDetails.ulOwners).pipe(Object(C.a)(this.ngDestroyed$)).subscribe(t=>{this.owners=t,this.dataSource=new be.k(t.map(t=>({id:t.id,fullname:t.fullName,rate:t.rate,requisites:t.bankAccounts.map(t=>`\u0411\u0418\u041a: ${t.bic}, \u0421\u0447\u0435\u0442: ${t.number}`).join("; ")})))})}ngAfterViewInit(){this.dataSource.sort=this.sort}ngOnDestroy(){this.ngDestroyed$.next(),this.ngDestroyed$.complete()}addOwner(){this.isReadOnly||this.dialogService.open(hr,{data:{initialData:null}})}editOwner(t){this.isReadOnly||this.dialogService.open(hr,{data:{initialData:this.owners[t],index:t}})}removeOwner(t){this.isReadOnly||this.store.dispatch(er(t))}}return t.\u0275fac=function(e){return new(e||t)(n.Ob(D.h),n.Ob(u.c))},t.\u0275cmp=n.Ib({type:t,selectors:[["app-juridical-owners-table"]],viewQuery:function(t,e){var i;1&t&&n.Jc(le.a,!0),2&t&&n.sc(i=n.dc())&&(e.sort=i.first)},inputs:{isReadOnly:"isReadOnly"},decls:24,vars:4,consts:[[1,"row"],[1,"col"],["mat-table","","matSort","",1,"mat-elevation-z8","w-100",3,"dataSource"],["matColumnDef","fullname"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","rate"],["matColumnDef","requisites"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-raised-button","","color","primary","aria-label","add accessory button",1,"my-3","px-3",3,"disabled","click"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-icon-button","","color","primary","matTooltip","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c","aria-label","edit icon button",1,"m-1",3,"disabled","click"],["mat-icon-button","","color","accent","matTooltip","\u0423\u0434\u0430\u043b\u0438\u0442\u044c","aria-label","delete icon button",1,"my-1","mx-2",3,"disabled","click"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(n.Ub(0,"div",0),n.Ub(1,"div",1),n.Ub(2,"table",2),n.Sb(3,3),n.Bc(4,pr,2,0,"th",4),n.Bc(5,fr,2,1,"td",5),n.Rb(),n.Sb(6,6),n.Bc(7,gr,2,0,"th",4),n.Bc(8,vr,2,1,"td",5),n.Rb(),n.Sb(9,7),n.Bc(10,Tr,2,0,"th",4),n.Bc(11,yr,2,1,"td",5),n.Rb(),n.Sb(12,8),n.Bc(13,Ur,2,0,"th",9),n.Bc(14,Dr,7,2,"td",5),n.Rb(),n.Bc(15,Cr,1,0,"tr",10),n.Bc(16,Or,1,0,"tr",11),n.Tb(),n.Ub(17,"p"),n.Dc(18," *\u0434\u043b\u044f \u0430\u043a\u0446\u0438\u043e\u043d\u0435\u0440\u043d\u043e\u0433\u043e \u043e\u0431\u0449\u0435\u0441\u0442\u0432\u0430 \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u044e\u0442\u0441\u044f \u0441\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u0438\u043a\u0438 10 \u0438 \u0431\u043e\u043b\u0435\u0435 \u043f\u0440\u043e\u0446\u0435\u043d\u0442\u043e\u0432 \u0430\u043a\u0446\u0438\u0439 "),n.Tb(),n.Tb(),n.Tb(),n.Ub(19,"div",0),n.Ub(20,"div",1),n.Ub(21,"button",12),n.cc("click",(function(){return e.addOwner()})),n.Ub(22,"mat-icon"),n.Dc(23,"add"),n.Tb(),n.Tb(),n.Tb(),n.Tb()),2&t&&(n.Cb(2),n.mc("dataSource",e.dataSource),n.Cb(13),n.mc("matHeaderRowDef",e.displayedColumns),n.Cb(1),n.mc("matRowDefColumns",e.displayedColumns),n.Cb(5),n.mc("disabled",e.isReadOnly))},directives:[be.j,le.a,be.c,be.e,be.b,be.g,be.i,T.b,we.a,be.d,le.b,be.a,zt.a,be.f,be.h],styles:[""]}),t})();function Sr(t,e){1&t&&(n.Ub(0,"button",19),n.Dc(1," \u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c "),n.Tb())}let wr=(()=>{class t{constructor(t,e,i,n){this.formBuilder=t,this.store=e,this.dialogRef=i,this.data=n,this.index=void 0,this.initialState={id:null,personId:null,fullName:null,identificationDocument:{id:null,number:null,issuer:null,dateIssue:null},address:{id:null,fact:null,register:null}},n.initialData&&(this.initialState=n.initialData,this.index=n.index)}ngOnInit(){this.generateForm()}get isNew(){return void 0===this.index}get title(){return this.isNew?"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u0438\u043a\u0430":"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0441\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u0438\u043a\u0430"}generateForm(){this.form=this.formBuilder.group({id:[this.initialState.id],personId:[this.initialState.personId],fullName:[this.initialState.fullName,U.u.required],identificationDocument:this.formBuilder.group({id:[this.initialState.identificationDocument.id],number:[this.initialState.identificationDocument.number,U.u.required],issuer:[this.initialState.identificationDocument.issuer,U.u.required],dateIssue:[this.initialState.identificationDocument.dateIssue,U.u.required]}),address:this.formBuilder.group({id:[this.initialState.address.id],fact:[this.initialState.address.fact,U.u.required],register:[this.initialState.address.register]})})}get fullname(){return this.form.get("fullName")}get identificationDocument(){return this.form.get("identificationDocument")}get address(){return this.form.get("address")}onFormSubmit(){this.form.valid&&(this.store.dispatch(this.isNew?ir(this.form.value):nr({index:this.index,data:this.form.value})),this.dialogRef.close())}}return t.\u0275fac=function(e){return new(e||t)(n.Ob(U.d),n.Ob(D.h),n.Ob(u.h),n.Ob(u.a))},t.\u0275cmp=n.Ib({type:t,selectors:[["app-physical-owners-dialog-form"]],decls:37,vars:5,consts:[[1,"form",3,"formGroup","ngSubmit"],["mat-dialog-title",""],[1,"mat-typography"],[1,"row"],[1,"col"],["appearance","outline"],["matInput","","formControlName","fullName"],["formGroupName","identificationDocument",1,"row"],[1,"col-4"],["matInput","","formControlName","number"],["matInput","","formControlName","issuer"],["appearance","outline",1,"example-form-field"],["matInput","","formControlName","dateIssue",3,"matDatepicker"],["matSuffix","",3,"for"],["documentIssueDate",""],["formGroupName","address",1,"row"],["matInput","","formControlName","fact"],["align","center"],["class","my-3","type","submit","color","primary","mat-raised-button","",4,"ngIf"],["type","submit","color","primary","mat-raised-button","",1,"my-3"]],template:function(t,e){if(1&t&&(n.Ub(0,"form",0),n.cc("ngSubmit",(function(){return e.onFormSubmit()})),n.Ub(1,"h2",1),n.Dc(2),n.Tb(),n.Ub(3,"mat-dialog-content",2),n.Ub(4,"div",3),n.Ub(5,"div",4),n.Ub(6,"mat-form-field",5),n.Ub(7,"mat-label"),n.Dc(8,"\u0424.\u0418.\u041e. \u0447\u043b\u0435\u043d\u0430 \u041a\u0425/\u0424\u0425/\u0418\u041f"),n.Tb(),n.Pb(9,"input",6),n.Tb(),n.Tb(),n.Tb(),n.Ub(10,"div",7),n.Ub(11,"div",8),n.Ub(12,"mat-form-field",5),n.Ub(13,"mat-label"),n.Dc(14,"\u041d\u043e\u043c\u0435\u0440 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430"),n.Tb(),n.Pb(15,"input",9),n.Tb(),n.Tb(),n.Ub(16,"div",8),n.Ub(17,"mat-form-field",5),n.Ub(18,"mat-label"),n.Dc(19,"\u041a\u0435\u043c \u0432\u044b\u0434\u0430\u043d\u043e"),n.Tb(),n.Pb(20,"input",10),n.Tb(),n.Tb(),n.Ub(21,"div",8),n.Ub(22,"mat-form-field",11),n.Ub(23,"mat-label"),n.Dc(24,"\u0414\u0430\u0442\u0430 \u0432\u044b\u0434\u0430\u0447\u0438"),n.Tb(),n.Pb(25,"input",12),n.Pb(26,"mat-datepicker-toggle",13),n.Pb(27,"mat-datepicker",null,14),n.Tb(),n.Tb(),n.Tb(),n.Ub(29,"div",15),n.Ub(30,"div",4),n.Ub(31,"mat-form-field",5),n.Ub(32,"mat-label"),n.Dc(33,"\u0424\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u0430\u0434\u0440\u0435\u0441"),n.Tb(),n.Pb(34,"input",16),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Ub(35,"mat-dialog-actions",17),n.Bc(36,Sr,2,0,"button",18),n.Tb(),n.Tb()),2&t){const t=n.tc(28);n.mc("formGroup",e.form),n.Cb(2),n.Ec(e.title),n.Cb(23),n.mc("matDatepicker",t),n.Cb(1),n.mc("for",t),n.Cb(10),n.mc("ngIf",!e.form.invalid)}},directives:[U.v,U.p,U.i,u.i,u.f,Dt.b,Dt.f,Ct.b,U.b,U.o,U.g,U.j,Ea.b,Ea.d,Dt.g,Ea.a,u.d,y.l,T.b],styles:[""]}),t})();function kr(t,e){1&t&&(n.Ub(0,"th",13),n.Dc(1," \u0424.\u0418.\u041e. \u0447\u043b\u0435\u043d\u0430 \u041a\u0425/\u0424\u0425/\u0418\u041f "),n.Tb())}function xr(t,e){if(1&t&&(n.Ub(0,"td",14),n.Dc(1),n.Tb()),2&t){const t=e.$implicit;n.Cb(1),n.Fc(" ",t.fullname," ")}}function jr(t,e){1&t&&(n.Ub(0,"th",13),n.Dc(1," \u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442, \u0443\u0434\u043e\u0441\u0442\u043e\u0432\u0435\u0440\u044f\u044e\u0449\u0438\u0439 \u043b\u0438\u0447\u043d\u043e\u0441\u0442\u044c (\u2116 \u0438 \u0434\u0430\u0442\u0430 \u0432\u044b\u0434\u0430\u0447\u0438) "),n.Tb())}function Pr(t,e){if(1&t&&(n.Ub(0,"td",14),n.Dc(1),n.Tb()),2&t){const t=e.$implicit;n.Cb(1),n.Fc(" ",t.identificationDocument," ")}}function Fr(t,e){1&t&&(n.Ub(0,"th",13),n.Dc(1," \u041c\u0435\u0441\u0442\u043e \u0436\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430 (\u0444\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0435) "),n.Tb())}function Rr(t,e){if(1&t&&(n.Ub(0,"td",14),n.Dc(1),n.Tb()),2&t){const t=e.$implicit;n.Cb(1),n.Fc(" ",t.address," ")}}function Ar(t,e){1&t&&(n.Ub(0,"th",15),n.Dc(1,"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f"),n.Tb())}function Br(t,e){if(1&t){const t=n.Vb();n.Ub(0,"td",14),n.Ub(1,"button",16),n.cc("click",(function(){n.vc(t);const i=e.index;return n.gc().editOwner(i)})),n.Ub(2,"mat-icon"),n.Dc(3,"edit"),n.Tb(),n.Tb(),n.Ub(4,"button",17),n.cc("click",(function(){n.vc(t);const i=e.index;return n.gc().removeOwner(i)})),n.Ub(5,"mat-icon"),n.Dc(6,"delete"),n.Tb(),n.Tb(),n.Tb()}if(2&t){const t=n.gc();n.Cb(1),n.mc("disabled",t.isReadOnly),n.Cb(3),n.mc("disabled",t.isReadOnly)}}function $r(t,e){1&t&&n.Pb(0,"tr",18)}function Nr(t,e){1&t&&n.Pb(0,"tr",19)}let zr=(()=>{class t{constructor(t,e){this.store=t,this.dialogService=e,this.ngDestroyed$=new I.a,this.owners=[],this.displayedColumns=["fullname","identificationDocument","address","actions"]}ngOnInit(){this.store.select(t=>t.clientExtraDetails.flOwners).pipe(Object(C.a)(this.ngDestroyed$)).subscribe(t=>{this.owners=t,this.dataSource=new be.k(t.map(t=>({id:t.id,fullname:t.fullName,identificationDocument:`\u2116 ${t.identificationDocument.number}, ${t.identificationDocument.issuer}, ${new Date(t.identificationDocument.dateIssue).toISOString().split("T")[0]}`,address:t.address.fact})))})}ngAfterViewInit(){this.dataSource.sort=this.sort}ngOnDestroy(){this.ngDestroyed$.next(),this.ngDestroyed$.complete()}addOwner(){this.isReadOnly||this.dialogService.open(wr,{data:{initialData:null}})}editOwner(t){this.isReadOnly||this.dialogService.open(wr,{data:{initialData:this.owners[t],index:t}})}removeOwner(t){this.isReadOnly||this.store.dispatch(ar(t))}}return t.\u0275fac=function(e){return new(e||t)(n.Ob(D.h),n.Ob(u.c))},t.\u0275cmp=n.Ib({type:t,selectors:[["app-physical-owners-table"]],viewQuery:function(t,e){var i;1&t&&n.Jc(le.a,!0),2&t&&n.sc(i=n.dc())&&(e.sort=i.first)},inputs:{isReadOnly:"isReadOnly"},decls:22,vars:4,consts:[[1,"row"],[1,"col"],["mat-table","","matSort","",1,"mat-elevation-z8","w-100",3,"dataSource"],["matColumnDef","fullname"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","identificationDocument"],["matColumnDef","address"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-raised-button","","color","primary","aria-label","add accessory button",1,"my-3","px-3",3,"disabled","click"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-icon-button","","color","primary","matTooltip","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c","aria-label","edit icon button",1,"m-1",3,"disabled","click"],["mat-icon-button","","color","accent","matTooltip","\u0423\u0434\u0430\u043b\u0438\u0442\u044c","aria-label","delete icon button",1,"my-1","mx-2",3,"disabled","click"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(n.Ub(0,"div",0),n.Ub(1,"div",1),n.Ub(2,"table",2),n.Sb(3,3),n.Bc(4,kr,2,0,"th",4),n.Bc(5,xr,2,1,"td",5),n.Rb(),n.Sb(6,6),n.Bc(7,jr,2,0,"th",4),n.Bc(8,Pr,2,1,"td",5),n.Rb(),n.Sb(9,7),n.Bc(10,Fr,2,0,"th",4),n.Bc(11,Rr,2,1,"td",5),n.Rb(),n.Sb(12,8),n.Bc(13,Ar,2,0,"th",9),n.Bc(14,Br,7,2,"td",5),n.Rb(),n.Bc(15,$r,1,0,"tr",10),n.Bc(16,Nr,1,0,"tr",11),n.Tb(),n.Tb(),n.Tb(),n.Ub(17,"div",0),n.Ub(18,"div",1),n.Ub(19,"button",12),n.cc("click",(function(){return e.addOwner()})),n.Ub(20,"mat-icon"),n.Dc(21,"add"),n.Tb(),n.Tb(),n.Tb(),n.Tb()),2&t&&(n.Cb(2),n.mc("dataSource",e.dataSource),n.Cb(13),n.mc("matHeaderRowDef",e.displayedColumns),n.Cb(1),n.mc("matRowDefColumns",e.displayedColumns),n.Cb(3),n.mc("disabled",e.isReadOnly))},directives:[be.j,le.a,be.c,be.e,be.b,be.g,be.i,T.b,we.a,be.d,le.b,be.a,zt.a,be.f,be.h],styles:[""]}),t})();function Lr(t,e){1&t&&(n.Ub(0,"button",17),n.Dc(1," \u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c "),n.Tb())}let Er=(()=>{class t{constructor(t,e,i,n){this.formBuilder=t,this.store=e,this.dialogRef=i,this.data=n,this.index=void 0,this.initialState={id:null,document:{id:null,number:null,issuer:null,dateIssue:null},essence:null},n.initialData&&(this.initialState=n.initialData,this.index=n.index)}ngOnInit(){this.generateForm()}get isNew(){return void 0===this.index}get title(){return this.isNew?"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043b\u0438\u0446\u0435\u043d\u0437\u0438\u044e":"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043b\u0438\u0446\u0435\u043d\u0437\u0438\u0438"}generateForm(){this.form=this.formBuilder.group({id:[this.initialState.id],document:this.formBuilder.group({id:[this.initialState.document.id],number:[this.initialState.document.number,U.u.required],issuer:[this.initialState.document.issuer,U.u.required],dateIssue:[this.initialState.document.dateIssue,U.u.required]}),essence:[this.initialState.essence,U.u.compose([U.u.required,U.u.maxLength(200)])]})}get document(){return this.form.get("document")}get essence(){return this.form.get("essence")}onFormSubmit(){this.form.valid&&(this.store.dispatch(this.isNew?or(this.form.value):cr({index:this.index,data:this.form.value})),this.dialogRef.close())}}return t.\u0275fac=function(e){return new(e||t)(n.Ob(U.d),n.Ob(D.h),n.Ob(u.h),n.Ob(u.a))},t.\u0275cmp=n.Ib({type:t,selectors:[["app-licenses-dialog-form"]],decls:31,vars:5,consts:[[1,"form",3,"formGroup","ngSubmit"],["mat-dialog-title",""],[1,"mat-typography"],["formGroupName","document",1,"row"],[1,"col-4"],["appearance","outline"],["matInput","","formControlName","number"],["matInput","","formControlName","issuer"],["appearance","outline",1,"example-form-field"],["matInput","","formControlName","dateIssue",3,"matDatepicker"],["matSuffix","",3,"for"],["documentIssueDate",""],[1,"row"],[1,"col"],["matInput","","formControlName","essence"],["align","center"],["class","my-3","type","submit","color","primary","mat-raised-button","",4,"ngIf"],["type","submit","color","primary","mat-raised-button","",1,"my-3"]],template:function(t,e){if(1&t&&(n.Ub(0,"form",0),n.cc("ngSubmit",(function(){return e.onFormSubmit()})),n.Ub(1,"h2",1),n.Dc(2),n.Tb(),n.Ub(3,"mat-dialog-content",2),n.Ub(4,"div",3),n.Ub(5,"div",4),n.Ub(6,"mat-form-field",5),n.Ub(7,"mat-label"),n.Dc(8,"\u041d\u043e\u043c\u0435\u0440 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430"),n.Tb(),n.Pb(9,"input",6),n.Tb(),n.Tb(),n.Ub(10,"div",4),n.Ub(11,"mat-form-field",5),n.Ub(12,"mat-label"),n.Dc(13,"\u041a\u0435\u043c \u0432\u044b\u0434\u0430\u043d\u043e"),n.Tb(),n.Pb(14,"input",7),n.Tb(),n.Tb(),n.Ub(15,"div",4),n.Ub(16,"mat-form-field",8),n.Ub(17,"mat-label"),n.Dc(18,"\u0414\u0430\u0442\u0430 \u0432\u044b\u0434\u0430\u0447\u0438"),n.Tb(),n.Pb(19,"input",9),n.Pb(20,"mat-datepicker-toggle",10),n.Pb(21,"mat-datepicker",null,11),n.Tb(),n.Tb(),n.Tb(),n.Ub(23,"div",12),n.Ub(24,"div",13),n.Ub(25,"mat-form-field",5),n.Ub(26,"mat-label"),n.Dc(27,"\u0421\u0443\u0442\u044c \u043b\u0438\u0446\u0435\u043d\u0437\u0438\u0438 (\u043d\u0430 \u0447\u0442\u043e \u0432\u044b\u0434\u0430\u043d\u0430)"),n.Tb(),n.Pb(28,"input",14),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Ub(29,"mat-dialog-actions",15),n.Bc(30,Lr,2,0,"button",16),n.Tb(),n.Tb()),2&t){const t=n.tc(22);n.mc("formGroup",e.form),n.Cb(2),n.Ec(e.title),n.Cb(17),n.mc("matDatepicker",t),n.Cb(1),n.mc("for",t),n.Cb(10),n.mc("ngIf",!e.form.invalid)}},directives:[U.v,U.p,U.i,u.i,u.f,U.j,Dt.b,Dt.f,Ct.b,U.b,U.o,U.g,Ea.b,Ea.d,Dt.g,Ea.a,u.d,y.l,T.b],styles:[""]}),t})();function Mr(t,e){1&t&&(n.Ub(0,"th",13),n.Dc(1," \u2116 \u0438 \u0434\u0430\u0442\u0430 \u0432\u044b\u0434\u0430\u0447\u0438 \u043b\u0438\u0446\u0435\u043d\u0437\u0438\u0438 "),n.Tb())}function Vr(t,e){if(1&t&&(n.Ub(0,"td",14),n.Dc(1),n.Tb()),2&t){const t=e.$implicit;n.Cb(1),n.Fc(" ",t.numberAndIssueDate," ")}}function qr(t,e){1&t&&(n.Ub(0,"th",13),n.Dc(1," \u041e\u0440\u0433\u0430\u043d, \u0432\u044b\u0434\u0430\u0432\u0448\u0438\u0439 \u043b\u0438\u0446\u0435\u043d\u0437\u0438\u044e "),n.Tb())}function _r(t,e){if(1&t&&(n.Ub(0,"td",14),n.Dc(1),n.Tb()),2&t){const t=e.$implicit;n.Cb(1),n.Fc(" ",t.issuer," ")}}function Hr(t,e){1&t&&(n.Ub(0,"th",13),n.Dc(1," \u0421\u0443\u0442\u044c \u043b\u0438\u0446\u0435\u043d\u0437\u0438\u0438 (\u043d\u0430 \u0447\u0442\u043e \u0432\u044b\u0434\u0430\u043d\u0430) "),n.Tb())}function Yr(t,e){if(1&t&&(n.Ub(0,"td",14),n.Dc(1),n.Tb()),2&t){const t=e.$implicit;n.Cb(1),n.Fc(" ",t.essence," ")}}function Gr(t,e){1&t&&(n.Ub(0,"th",15),n.Dc(1,"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f"),n.Tb())}function Jr(t,e){if(1&t){const t=n.Vb();n.Ub(0,"td",14),n.Ub(1,"button",16),n.cc("click",(function(){n.vc(t);const i=e.index;return n.gc().editLicense(i)})),n.Ub(2,"mat-icon"),n.Dc(3,"edit"),n.Tb(),n.Tb(),n.Ub(4,"button",17),n.cc("click",(function(){n.vc(t);const i=e.index;return n.gc().removeLicense(i)})),n.Ub(5,"mat-icon"),n.Dc(6,"delete"),n.Tb(),n.Tb(),n.Tb()}if(2&t){const t=n.gc();n.Cb(1),n.mc("disabled",t.isReadOnly),n.Cb(3),n.mc("disabled",t.isReadOnly)}}function Kr(t,e){1&t&&n.Pb(0,"tr",18)}function Wr(t,e){1&t&&n.Pb(0,"tr",19)}let Qr=(()=>{class t{constructor(t,e){this.store=t,this.dialogService=e,this.ngDestroyed$=new I.a,this.licenses=[],this.displayedColumns=["numberAndIssueDate","issuer","essence","actions"]}ngOnInit(){this.store.select(t=>t.clientExtraDetails.licenses).pipe(Object(C.a)(this.ngDestroyed$)).subscribe(t=>{this.licenses=t,this.dataSource=new be.k(t.map(t=>({id:t.id,numberAndIssueDate:`${t.document.number}, ${new Date(t.document.dateIssue).toISOString().split("T")[0]}`,issuer:t.document.issuer,essence:t.essence})))})}ngAfterViewInit(){this.dataSource.sort=this.sort}ngOnDestroy(){this.ngDestroyed$.next(),this.ngDestroyed$.complete()}addLicense(){this.isReadOnly||this.dialogService.open(Er,{data:{initialData:null}})}editLicense(t){this.isReadOnly||this.dialogService.open(Er,{data:{initialData:this.licenses[t],index:t}})}removeLicense(t){this.isReadOnly||this.store.dispatch(sr(t))}}return t.\u0275fac=function(e){return new(e||t)(n.Ob(D.h),n.Ob(u.c))},t.\u0275cmp=n.Ib({type:t,selectors:[["app-licenses-table"]],viewQuery:function(t,e){var i;1&t&&n.Jc(le.a,!0),2&t&&n.sc(i=n.dc())&&(e.sort=i.first)},inputs:{isReadOnly:"isReadOnly"},decls:22,vars:4,consts:[[1,"row"],[1,"col"],["mat-table","","matSort","",1,"mat-elevation-z8","w-100",3,"dataSource"],["matColumnDef","numberAndIssueDate"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","issuer"],["matColumnDef","essence"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-raised-button","","color","primary","aria-label","add accessory button",1,"my-3","px-3",3,"disabled","click"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-icon-button","","color","primary","matTooltip","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c","aria-label","edit icon button",1,"m-1",3,"disabled","click"],["mat-icon-button","","color","accent","matTooltip","\u0423\u0434\u0430\u043b\u0438\u0442\u044c","aria-label","delete icon button",1,"my-1","mx-2",3,"disabled","click"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(n.Ub(0,"div",0),n.Ub(1,"div",1),n.Ub(2,"table",2),n.Sb(3,3),n.Bc(4,Mr,2,0,"th",4),n.Bc(5,Vr,2,1,"td",5),n.Rb(),n.Sb(6,6),n.Bc(7,qr,2,0,"th",4),n.Bc(8,_r,2,1,"td",5),n.Rb(),n.Sb(9,7),n.Bc(10,Hr,2,0,"th",4),n.Bc(11,Yr,2,1,"td",5),n.Rb(),n.Sb(12,8),n.Bc(13,Gr,2,0,"th",9),n.Bc(14,Jr,7,2,"td",5),n.Rb(),n.Bc(15,Kr,1,0,"tr",10),n.Bc(16,Wr,1,0,"tr",11),n.Tb(),n.Tb(),n.Tb(),n.Ub(17,"div",0),n.Ub(18,"div",1),n.Ub(19,"button",12),n.cc("click",(function(){return e.addLicense()})),n.Ub(20,"mat-icon"),n.Dc(21,"add"),n.Tb(),n.Tb(),n.Tb(),n.Tb()),2&t&&(n.Cb(2),n.mc("dataSource",e.dataSource),n.Cb(13),n.mc("matHeaderRowDef",e.displayedColumns),n.Cb(1),n.mc("matRowDefColumns",e.displayedColumns),n.Cb(3),n.mc("disabled",e.isReadOnly))},directives:[be.j,le.a,be.c,be.e,be.b,be.g,be.i,T.b,we.a,be.d,le.b,be.a,zt.a,be.f,be.h],styles:[""]}),t})();function Xr(t,e){1&t&&(n.Ub(0,"button",14),n.Dc(1," \u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c "),n.Tb())}let Zr=(()=>{class t{constructor(t,e,i,n){this.formBuilder=t,this.store=e,this.dialogRef=i,this.data=n,this.initialState={id:null,number:null,issuer:null,dateIssue:null},n.initialData&&(this.initialState=n.initialData)}ngOnInit(){this.generateForm()}get isNew(){return null===this.initialState.id}get title(){return this.isNew?"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442 \u041d\u0414\u0421":"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u0430 \u041d\u0414\u0421"}generateForm(){this.form=this.formBuilder.group({id:[this.initialState.id],number:[this.initialState.number,U.u.required],dateIssue:[this.initialState.dateIssue,U.u.required],issuer:[this.initialState.issuer,U.u.required]})}get number(){return this.form.get("number")}get dateIssue(){return this.form.get("dateIssue")}get issuer(){return this.form.get("issuer")}onFormSubmit(){this.form.valid&&(this.store.dispatch(this.isNew?rr(this.form.value):lr(this.form.value)),this.dialogRef.close())}}return t.\u0275fac=function(e){return new(e||t)(n.Ob(U.d),n.Ob(D.h),n.Ob(u.h),n.Ob(u.a))},t.\u0275cmp=n.Ib({type:t,selectors:[["app-vat-certificate-dialog-form"]],decls:25,vars:5,consts:[[1,"form",3,"formGroup","ngSubmit"],["mat-dialog-title",""],[1,"mat-typography"],[1,"row"],[1,"col-4"],["appearance","outline"],["matInput","","formControlName","number"],["matInput","","formControlName","issuer"],["appearance","outline",1,"example-form-field"],["matInput","","formControlName","dateIssue",3,"matDatepicker"],["matSuffix","",3,"for"],["documentIssueDate",""],["align","center"],["class","my-3","type","submit","color","primary","mat-raised-button","",4,"ngIf"],["type","submit","color","primary","mat-raised-button","",1,"my-3"]],template:function(t,e){if(1&t&&(n.Ub(0,"form",0),n.cc("ngSubmit",(function(){return e.onFormSubmit()})),n.Ub(1,"h2",1),n.Dc(2),n.Tb(),n.Ub(3,"mat-dialog-content",2),n.Ub(4,"div",3),n.Ub(5,"div",4),n.Ub(6,"mat-form-field",5),n.Ub(7,"mat-label"),n.Dc(8,"\u041d\u043e\u043c\u0435\u0440 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430"),n.Tb(),n.Pb(9,"input",6),n.Tb(),n.Tb(),n.Ub(10,"div",4),n.Ub(11,"mat-form-field",5),n.Ub(12,"mat-label"),n.Dc(13,"\u041a\u0435\u043c \u0432\u044b\u0434\u0430\u043d\u043e"),n.Tb(),n.Pb(14,"input",7),n.Tb(),n.Tb(),n.Ub(15,"div",4),n.Ub(16,"mat-form-field",8),n.Ub(17,"mat-label"),n.Dc(18,"\u0414\u0430\u0442\u0430 \u0432\u044b\u0434\u0430\u0447\u0438"),n.Tb(),n.Pb(19,"input",9),n.Pb(20,"mat-datepicker-toggle",10),n.Pb(21,"mat-datepicker",null,11),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Ub(23,"mat-dialog-actions",12),n.Bc(24,Xr,2,0,"button",13),n.Tb(),n.Tb()),2&t){const t=n.tc(22);n.mc("formGroup",e.form),n.Cb(2),n.Ec(e.title),n.Cb(17),n.mc("matDatepicker",t),n.Cb(1),n.mc("for",t),n.Cb(4),n.mc("ngIf",!e.form.invalid)}},directives:[U.v,U.p,U.i,u.i,u.f,Dt.b,Dt.f,Ct.b,U.b,U.o,U.g,Ea.b,Ea.d,Dt.g,Ea.a,u.d,y.l,T.b],styles:[""]}),t})();function tl(t,e){1&t&&(n.Ub(0,"th",12),n.Dc(1," \u2116 \u0438 \u0434\u0430\u0442\u0430 \u0432\u044b\u0434\u0430\u0447\u0438 \u043b\u0438\u0446\u0435\u043d\u0437\u0438\u0438 "),n.Tb())}function el(t,e){if(1&t&&(n.Ub(0,"td",13),n.Dc(1),n.Tb()),2&t){const t=e.$implicit;n.Cb(1),n.Fc(" ",t.numberAndIssueDate," ")}}function il(t,e){1&t&&(n.Ub(0,"th",12),n.Dc(1," \u041e\u0440\u0433\u0430\u043d, \u0432\u044b\u0434\u0430\u0432\u0448\u0438\u0439 \u043b\u0438\u0446\u0435\u043d\u0437\u0438\u044e "),n.Tb())}function nl(t,e){if(1&t&&(n.Ub(0,"td",13),n.Dc(1),n.Tb()),2&t){const t=e.$implicit;n.Cb(1),n.Fc(" ",t.issuer," ")}}function al(t,e){1&t&&(n.Ub(0,"th",14),n.Dc(1,"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f"),n.Tb())}function ol(t,e){if(1&t){const t=n.Vb();n.Ub(0,"td",13),n.Ub(1,"button",15),n.cc("click",(function(){return n.vc(t),n.gc().editCertificate()})),n.Ub(2,"mat-icon"),n.Dc(3,"edit"),n.Tb(),n.Tb(),n.Ub(4,"button",16),n.cc("click",(function(){return n.vc(t),n.gc().removeCertificate()})),n.Ub(5,"mat-icon"),n.Dc(6,"delete"),n.Tb(),n.Tb(),n.Tb()}if(2&t){const t=n.gc();n.Cb(1),n.mc("disabled",t.isReadOnly),n.Cb(3),n.mc("disabled",t.isReadOnly)}}function cl(t,e){1&t&&n.Pb(0,"tr",17)}function sl(t,e){1&t&&n.Pb(0,"tr",18)}let rl=(()=>{class t{constructor(t,e){this.store=t,this.dialogService=e,this.ngDestroyed$=new I.a,this.certificate=null,this.displayedColumns=["numberAndIssueDate","issuer","actions"]}ngOnInit(){this.store.select(t=>t.clientExtraDetails.vatCertificate).pipe(Object(C.a)(this.ngDestroyed$)).subscribe(t=>{this.certificate=t;const e=[];null!==this.certificate&&e.push({numberAndIssueDate:`${this.certificate.number}, ${new Date(this.certificate.dateIssue).toISOString().split("T")[0]}`,issuer:this.certificate.issuer}),this.dataSource=new be.k(e)})}ngAfterViewInit(){this.dataSource.sort=this.sort}ngOnDestroy(){this.ngDestroyed$.next(),this.ngDestroyed$.complete()}addCertificate(){this.isReadOnly||this.dialogService.open(Zr,{data:{initialData:null}})}editCertificate(){this.isReadOnly||this.dialogService.open(Zr,{data:{initialData:this.certificate}})}removeCertificate(){this.isReadOnly||this.store.dispatch(br())}}return t.\u0275fac=function(e){return new(e||t)(n.Ob(D.h),n.Ob(u.c))},t.\u0275cmp=n.Ib({type:t,selectors:[["app-vat-certificate-table"]],viewQuery:function(t,e){var i;1&t&&n.Jc(le.a,!0),2&t&&n.sc(i=n.dc())&&(e.sort=i.first)},inputs:{isReadOnly:"isReadOnly"},decls:19,vars:4,consts:[[1,"row"],[1,"col"],["mat-table","","matSort","",1,"mat-elevation-z8","w-100",3,"dataSource"],["matColumnDef","numberAndIssueDate"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","issuer"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-raised-button","","color","primary","aria-label","add accessory button",1,"my-3","px-3",3,"disabled","click"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-icon-button","","color","primary","matTooltip","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c","aria-label","edit icon button",1,"m-1",3,"disabled","click"],["mat-icon-button","","color","accent","matTooltip","\u0423\u0434\u0430\u043b\u0438\u0442\u044c","aria-label","delete icon button",1,"my-1","mx-2",3,"disabled","click"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(n.Ub(0,"div",0),n.Ub(1,"div",1),n.Ub(2,"table",2),n.Sb(3,3),n.Bc(4,tl,2,0,"th",4),n.Bc(5,el,2,1,"td",5),n.Rb(),n.Sb(6,6),n.Bc(7,il,2,0,"th",4),n.Bc(8,nl,2,1,"td",5),n.Rb(),n.Sb(9,7),n.Bc(10,al,2,0,"th",8),n.Bc(11,ol,7,2,"td",5),n.Rb(),n.Bc(12,cl,1,0,"tr",9),n.Bc(13,sl,1,0,"tr",10),n.Tb(),n.Tb(),n.Tb(),n.Ub(14,"div",0),n.Ub(15,"div",1),n.Ub(16,"button",11),n.cc("click",(function(){return e.addCertificate()})),n.Ub(17,"mat-icon"),n.Dc(18,"add"),n.Tb(),n.Tb(),n.Tb(),n.Tb()),2&t&&(n.Cb(2),n.mc("dataSource",e.dataSource),n.Cb(10),n.mc("matHeaderRowDef",e.displayedColumns),n.Cb(1),n.mc("matRowDefColumns",e.displayedColumns),n.Cb(3),n.mc("disabled",e.isReadOnly||null!==e.certificate))},directives:[be.j,le.a,be.c,be.e,be.b,be.g,be.i,T.b,we.a,be.d,le.b,be.a,zt.a,be.f,be.h],styles:[""]}),t})();function ll(t,e){1&t&&(n.Ub(0,"div",2),n.Pb(1,"mat-spinner",3),n.Tb()),2&t&&(n.Cb(1),n.mc("diameter",50))}function bl(t,e){if(1&t&&n.Pb(0,"app-juridical-owners-table",16),2&t){const t=n.gc(2);n.mc("isReadOnly",t.isReadOnly)}}function dl(t,e){if(1&t&&n.Pb(0,"app-physical-owners-table",16),2&t){const t=n.gc(2);n.mc("isReadOnly",t.isReadOnly)}}function ul(t,e){if(1&t&&n.Pb(0,"app-licenses-table",16),2&t){const t=n.gc(2);n.mc("isReadOnly",t.isReadOnly)}}function ml(t,e){1&t&&(n.Ub(0,"p"),n.Dc(1,"\u0414\u0415\u042f\u0422\u0415\u041b\u042c\u041d\u041e\u0421\u0422\u042c \u041d\u0415 \u041b\u0418\u0426\u0415\u041d\u0417\u0418\u0420\u0423\u0415\u0422\u0421\u042f"),n.Tb())}function hl(t,e){if(1&t&&n.Pb(0,"app-vat-certificate-table",16),2&t){const t=n.gc(2);n.mc("isReadOnly",t.isReadOnly)}}function pl(t,e){1&t&&(n.Ub(0,"p"),n.Dc(1,"\u041d\u0415 \u042f\u0412\u041b\u042f\u0415\u0422\u0421\u042f \u041f\u041b\u0410\u0422\u0415\u041b\u042c\u0429\u0418\u041a\u041e\u041c \u041d\u0414\u0421"),n.Tb())}function fl(t,e){if(1&t){const t=n.Vb();n.Ub(0,"mat-card",4),n.Ub(1,"section",5),n.Ub(2,"article"),n.Ub(3,"div",6),n.Ub(4,"div",7),n.Ub(5,"h3",8),n.Dc(6,"\u0421\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u0438\u043a\u0438"),n.Tb(),n.Ub(7,"p"),n.Dc(8,"\u0412\u044b \u044f\u0432\u043b\u044f\u0435\u0442\u0435\u0441\u044c \u044e\u0440\u0438\u0434\u0438\u0447\u0435\u0441\u043a\u0438\u043c \u043b\u0438\u0446\u043e\u043c?"),n.Tb(),n.Tb(),n.Ub(9,"div",9),n.Ub(10,"mat-radio-group",10),n.cc("ngModelChange",(function(e){return n.vc(t),n.gc().isJuridical=e})),n.Ub(11,"mat-radio-button",11),n.Dc(12," \u0414\u0430 "),n.Tb(),n.Ub(13,"mat-radio-button",11),n.Dc(14," \u041d\u0435\u0442 "),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Bc(15,bl,1,1,"app-juridical-owners-table",12),n.Bc(16,dl,1,1,"app-physical-owners-table",12),n.Tb(),n.Ub(17,"article"),n.Ub(18,"div",6),n.Ub(19,"div",7),n.Ub(20,"h3",8),n.Dc(21,"\u041b\u0438\u0446\u0435\u043d\u0437\u0438\u0439"),n.Tb(),n.Ub(22,"p"),n.Dc(23,"\u0412\u0430\u0448\u0430 \u0434\u0435\u044f\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0438\u0442\u044c \u043b\u0438\u0446\u0435\u043d\u0437\u0438\u0440\u0443\u0435\u0442\u0441\u044f?"),n.Tb(),n.Tb(),n.Ub(24,"div",9),n.Ub(25,"mat-radio-group",10),n.cc("ngModelChange",(function(e){return n.vc(t),n.gc().hasLicenses=e})),n.Ub(26,"mat-radio-button",11),n.Dc(27," \u0414\u0430 "),n.Tb(),n.Ub(28,"mat-radio-button",11),n.Dc(29," \u041d\u0435\u0442 "),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Bc(30,ul,1,1,"app-licenses-table",12),n.Bc(31,ml,2,0,"p",13),n.Tb(),n.Ub(32,"article"),n.Ub(33,"div",6),n.Ub(34,"div",7),n.Ub(35,"h3",8),n.Dc(36,"\u0421\u0432\u0438\u0434\u0435\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e \u041d\u0414\u0421"),n.Tb(),n.Ub(37,"p"),n.Dc(38,"\u0412\u044b \u043f\u043b\u0430\u0442\u0435\u043b\u044c\u0449\u0438\u043a \u041d\u0414\u0421?"),n.Tb(),n.Tb(),n.Ub(39,"div",9),n.Ub(40,"mat-radio-group",10),n.cc("ngModelChange",(function(e){return n.vc(t),n.gc().hasVatCertificate=e})),n.Ub(41,"mat-radio-button",11),n.Dc(42," \u0414\u0430 "),n.Tb(),n.Ub(43,"mat-radio-button",11),n.Dc(44," \u041d\u0435\u0442 "),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Bc(45,hl,1,1,"app-vat-certificate-table",12),n.Bc(46,pl,2,0,"p",13),n.Tb(),n.Ub(47,"div",6),n.Ub(48,"div",14),n.Ub(49,"button",15),n.cc("click",(function(){return n.vc(t),n.gc().save()})),n.Dc(50),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Tb()}if(2&t){const t=n.gc();n.Cb(10),n.mc("ngModel",t.isJuridical)("disabled",t.isReadOnly),n.Cb(1),n.mc("value",!0),n.Cb(2),n.mc("value",!1),n.Cb(2),n.mc("ngIf",t.isJuridical),n.Cb(1),n.mc("ngIf",!t.isJuridical),n.Cb(9),n.mc("ngModel",t.hasLicenses)("disabled",t.isReadOnly),n.Cb(1),n.mc("value",!0),n.Cb(2),n.mc("value",!1),n.Cb(2),n.mc("ngIf",t.hasLicenses),n.Cb(1),n.mc("ngIf",!t.hasLicenses),n.Cb(9),n.mc("ngModel",t.hasVatCertificate)("disabled",t.isReadOnly),n.Cb(1),n.mc("value",!0),n.Cb(2),n.mc("value",!1),n.Cb(2),n.mc("ngIf",t.hasVatCertificate),n.Cb(1),n.mc("ngIf",!t.hasVatCertificate),n.Cb(3),n.mc("disabled",t.saving),n.Cb(1),n.Fc(" ",t.isReadOnly?"\u0414\u0430\u043b\u0435\u0435":"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"," ")}}let gl=(()=>{class t{constructor(t,e){this.store=t,this.applicationService=e,this.ngDestroyed$=new I.a,this.isReadOnly=!0,this.isJuridical=!0,this.hasLicenses=!0,this.hasVatCertificate=!0,this.saving=!1,this.loading=!1}ngOnInit(){this.getClientExtraDetails(),this.store.select(t=>t.clientExtraDetails.isReadOnly).pipe(Object(C.a)(this.ngDestroyed$)).subscribe(t=>{this.isReadOnly=t}),this.store.select(t=>t.clientExtraDetails).pipe(Object(C.a)(this.ngDestroyed$)).subscribe(t=>{this.clientExtraDetails=t})}ngOnDestroy(){this.store.dispatch(Xs()),this.ngDestroyed$.next(),this.ngDestroyed$.complete()}getClientExtraDetails(){this.loading=!0,this.applicationService.getClientExtraDetails(this.loanApplicationId).then(t=>{this.store.dispatch(Qs(t.data))}).finally(()=>{var t;this.loading=!1,this.isJuridical=(null===(t=this.clientExtraDetails.ulOwners)||void 0===t?void 0:t.length)>0,this.hasLicenses=this.clientExtraDetails.licenses.length>0,this.hasVatCertificate=null!==this.clientExtraDetails.vatCertificate})}save(){this.isReadOnly?this.openNextTab():(this.saving=!0,this.applicationService.addOrUpdateClientExtraDetails(this.loanApplicationId,{id:this.clientExtraDetails.id,isReadOnly:this.clientExtraDetails.isReadOnly,flOwners:this.isJuridical?[]:this.clientExtraDetails.flOwners,ulOwners:this.isJuridical?this.clientExtraDetails.ulOwners:[],licenses:this.hasLicenses?this.clientExtraDetails.licenses:[],vatCertificate:this.hasVatCertificate?this.clientExtraDetails.vatCertificate:null}).then(()=>{this.openNextTab(),this.getClientExtraDetails()}).finally(()=>this.saving=!1))}}return t.\u0275fac=function(e){return new(e||t)(n.Ob(D.h),n.Ob(Ut))},t.\u0275cmp=n.Ib({type:t,selectors:[["app-okaps-client-extra-details"]],inputs:{loanApplicationId:"loanApplicationId",openNextTab:"openNextTab"},decls:2,vars:2,consts:[["class","spinner",4,"ngIf"],["class","m-3",4,"ngIf"],[1,"spinner"],["color","primary",3,"diameter"],[1,"m-3"],[1,"container"],[1,"row"],[1,"col-11"],[1,"uppercase"],[1,"col-1"],["aria-labelledby","radio-group-label",1,"radio-group",3,"ngModel","disabled","ngModelChange"],[1,"radio-button",3,"value"],[3,"isReadOnly",4,"ngIf"],[4,"ngIf"],[1,"col"],["mat-raised-button","","color","primary",1,"float-right",3,"disabled","click"],[3,"isReadOnly"]],template:function(t,e){1&t&&(n.Bc(0,ll,2,1,"div",0),n.Bc(1,fl,51,20,"mat-card",1)),2&t&&(n.mc("ngIf",e.loading),n.Cb(1),n.mc("ngIf",!e.loading))},directives:[y.l,Mi.b,l.a,b.b,U.o,U.r,b.a,T.b,Ir,zr,Qr,rl],styles:[".radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:15px 0}.radio-button[_ngcontent-%COMP%]{margin:5px}"]}),t})();var vl=i("aXPi"),Tl=i("Ns5P");let yl=(()=>{class t{constructor(t,e){this.http=t,this.snackbar=e,this.baseUrl=a.a.sharedUrl+"/Files"}showErrorMessage(t){let e="\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u0432\u043e \u0432\u0440\u0435\u043c\u044f \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u0444\u0430\u0439\u043b\u0430(\u043e\u0432)";t&&t.error&&t.error.Message&&(e=t.error.Message),this.snackbar.open(e,"\u0417\u0430\u043a\u0440\u044b\u0442\u044c",{duration:5e3})}uploadFiles(t){return Object(Tt.a)(this,void 0,void 0,(function*(){try{const e=new FormData;return e.append("entityId",t.entityId),e.append("entityType",t.entityType.toString()),Array.from(t.files).forEach(t=>{e.append("files",t)}),yield this.http.post(""+this.baseUrl,e).toPromise()}catch(e){this.showErrorMessage(e)}}))}getAttachmentFiles(t){return Object(Tt.a)(this,void 0,void 0,(function*(){const e=(new yt.e).set("entityId",t.entityId).set("entityType",t.entityType.toString());try{return yield this.http.get(""+this.baseUrl,{params:e}).toPromise()}catch(i){this.showErrorMessage(i)}}))}deleteFile(t){return Object(Tt.a)(this,void 0,void 0,(function*(){try{return yield this.http.delete(`${this.baseUrl}/${t}`).toPromise()}catch(e){this.showErrorMessage(e)}}))}getULFiles(t){return Object(Tt.a)(this,void 0,void 0,(function*(){try{return yield this.http.get(`${this.baseUrl}/ul/${t}`).toPromise()}catch(e){this.showErrorMessage(e)}}))}getFLFiles(t){return Object(Tt.a)(this,void 0,void 0,(function*(){try{return yield this.http.get(`${this.baseUrl}/fl/${t}`).toPromise()}catch(e){this.showErrorMessage(e)}}))}}return t.\u0275fac=function(e){return new(e||t)(n.Yb(yt.b),n.Yb(vt.b))},t.\u0275prov=n.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Ul=["attachmentFilesInput"];function Dl(t,e){if(1&t&&(n.Ub(0,"mat-list-item"),n.Ub(1,"mat-icon",4),n.Dc(2,"file_download"),n.Tb(),n.Ub(3,"div",6),n.Ub(4,"a",21),n.Dc(5),n.Tb(),n.Tb(),n.Tb()),2&t){const t=e.$implicit,i=n.gc();n.Cb(4),n.mc("href",i.fileServerRootUrl+"/"+t.url,n.wc),n.Cb(1),n.Ec(t.filename)}}function Cl(t,e){if(1&t&&(n.Ub(0,"mat-list-item"),n.Ub(1,"mat-icon",4),n.Dc(2,"file_download"),n.Tb(),n.Ub(3,"div",6),n.Ub(4,"a",21),n.Dc(5),n.Tb(),n.Tb(),n.Tb()),2&t){const t=e.$implicit,i=n.gc();n.Cb(4),n.mc("href",i.fileServerRootUrl+"/"+t.url,n.wc),n.Cb(1),n.Ec(t.filename)}}function Ol(t,e){if(1&t){const t=n.Vb();n.Ub(0,"mat-list-item"),n.Ub(1,"mat-icon",4),n.Dc(2,"file_download"),n.Tb(),n.Ub(3,"div",6),n.Ub(4,"a",21),n.Dc(5),n.Tb(),n.Ub(6,"button",22),n.cc("click",(function(){n.vc(t);const i=e.$implicit;return n.gc().onFileDelete(i.id)})),n.Ub(7,"mat-icon"),n.Dc(8,"delete"),n.Tb(),n.Tb(),n.Tb(),n.Tb()}if(2&t){const t=e.$implicit,i=n.gc();n.Cb(4),n.mc("href",i.fileServerRootUrl+"/"+t.url,n.wc),n.Cb(1),n.Ec(t.filename),n.Cb(1),n.mc("disabled",i.loading||i.isReadOnly)}}function Il(t,e){1&t&&n.Pb(0,"mat-progress-bar",23)}let Sl=(()=>{class t extends vl.a{constructor(t,e,i,n,a){super(t),this.store=e,this.fileService=i,this.applicationService=n,this.router=a,this.isReadOnly=!1,this.ulFiles=[],this.flFiles=[],this.loading=!1,this.signing=!1,this.attachmentFiles=[],this.ncaLayerSubscription=null}ngOnInit(){this.store.select(t=>t.client.details.isReadOnly).subscribe(t=>{this.isReadOnly=null!=t&&t}),this.fileService.getULFiles(this.loanApplicationId).then(t=>this.ulFiles=t.data),this.fileService.getFLFiles(this.loanApplicationId).then(t=>this.flFiles=t.data),this.getAttachmentFiles()}get questionaireFormUrl(){return`${a.a.sharedUrl}/loanapplication/${this.loanApplicationId}/details/file`}get applicationFormUrl(){return`${a.a.sharedUrl}/loanapplication/${this.loanApplicationId}/file`}get fileServerRootUrl(){return a.a.fileServer}getAttachmentFiles(){this.fileService.getAttachmentFiles({entityId:this.loanApplicationId,entityType:Tl.a.Personality}).then(t=>this.attachmentFiles=t.data)}uploadButtonClick(){this.isReadOnly||this.attachmentFilesInput.nativeElement.click()}onFileInputChange(t){if(this.isReadOnly)return;const e={entityId:this.loanApplicationId,entityType:Tl.a.Personality,files:t};this.loading=!0,this.fileService.uploadFiles(e).then(()=>{this.getAttachmentFiles()}).finally(()=>{this.attachmentFilesInput.nativeElement.value="",this.loading=!1})}onFileDelete(t){this.isReadOnly||(this.loading=!0,this.fileService.deleteFile(t).then(()=>{this.getAttachmentFiles()}).finally(()=>{this.loading=!1}))}signAndStartProcess(){if(this.isReadOnly)return;const t=document.getElementById("application").innerHTML;null!==this.ncaLayerSubscription&&this.ncaLayerSubscription.unsubscribe(),this.ncaLayerSubscription=this.openLayer$(()=>this.signXml(t)).pipe(Object(O.a)(t=>{const{code:e,responseObject:i}=t;"200"===e&&(this.signing=!0,this.applicationService.signAndStartProcess(this.loanApplicationId,i).then(()=>{this.router.navigate(["/products"])}).finally(()=>this.signing=!1))})).subscribe()}}return t.\u0275fac=function(e){return new(e||t)(n.Ob(n.s),n.Ob(D.h),n.Ob(yl),n.Ob(Ut),n.Ob(h.c))},t.\u0275cmp=n.Ib({type:t,selectors:[["app-okaps-application-sign"]],viewQuery:function(t,e){var i;1&t&&n.Jc(Ul,!0),2&t&&n.sc(i=n.dc())&&(e.attachmentFilesInput=i.first)},inputs:{loanApplicationId:"loanApplicationId"},features:[n.zb],decls:162,vars:8,consts:[[1,"m-3"],[1,"container"],[1,"row","my-3"],[1,"col","d-flex","align-items-center","justify-content-center"],["mat-list-icon",""],["color","primary","target","_blank",1,"link","ml-3",3,"href"],["mat-line",""],[1,"row"],[1,"col"],[1,"mat-subheading-1"],[4,"ngFor","ngForOf"],["mode","indeterminate","class","my-3",4,"ngIf"],[1,"row","mt-3"],["mat-raised-button","","color","primary",3,"disabled","click"],["type","file","id","attachmentFilesInput","multiple","",1,"d-none",3,"change"],["attachmentFilesInput",""],["mat-raised-button","","color","primary",1,"float-right",3,"disabled","click"],["id","application",1,"d-none"],[1,"header-container"],[2,"text-decoration","underline"],[1,"pl-sm-3","pl-1"],["target","_blank",1,"link",3,"href"],["mat-icon-button","","color","accent","matTooltip","\u0423\u0434\u0430\u043b\u0438\u0442\u044c","aria-label","delete icon button",1,"mx-4",3,"disabled","click"],["mode","indeterminate",1,"my-3"]],template:function(t,e){1&t&&(n.Ub(0,"mat-card",0),n.Ub(1,"div",1),n.Ub(2,"div",2),n.Ub(3,"div",3),n.Ub(4,"mat-icon",4),n.Dc(5,"file_download"),n.Tb(),n.Ub(6,"a",5),n.Dc(7,"\u0424\u043e\u0440\u043c\u0430 \u0430\u043d\u043a\u0435\u0442\u044b"),n.Tb(),n.Tb(),n.Ub(8,"div",3),n.Ub(9,"mat-icon",4),n.Dc(10,"file_download"),n.Tb(),n.Ub(11,"div",6),n.Ub(12,"a",5),n.Dc(13,"\u0424\u043e\u0440\u043c\u0430 \u0437\u0430\u044f\u0432\u043a\u0438"),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Ub(14,"div",7),n.Ub(15,"div",8),n.Ub(16,"mat-list"),n.Ub(17,"div",9),n.Dc(18,"\u041f\u0435\u0440\u0435\u0447\u0435\u043d\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432 \u0434\u043b\u044f \u042e\u041b"),n.Tb(),n.Bc(19,Dl,6,2,"mat-list-item",10),n.Tb(),n.Tb(),n.Ub(20,"div",8),n.Ub(21,"mat-list"),n.Ub(22,"div",9),n.Dc(23," \u041f\u0435\u0440\u0435\u0447\u0435\u043d\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432 \u0434\u043b\u044f \u0418\u041f, \u041a\u0425, \u0424\u0425, \u041a\u0424\u0425 "),n.Tb(),n.Bc(24,Cl,6,2,"mat-list-item",10),n.Tb(),n.Tb(),n.Tb(),n.Ub(25,"div",2),n.Ub(26,"div",8),n.Ub(27,"mat-list"),n.Ub(28,"div",9),n.Dc(29,"\u041f\u0440\u0438\u043a\u0440\u0435\u043f\u043b\u0435\u043d\u043d\u044b\u0435 \u0444\u0430\u0439\u043b\u044b (\u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b)"),n.Tb(),n.Bc(30,Ol,9,3,"mat-list-item",10),n.Tb(),n.Bc(31,Il,1,0,"mat-progress-bar",11),n.Tb(),n.Tb(),n.Ub(32,"div",12),n.Ub(33,"div",8),n.Ub(34,"button",13),n.cc("click",(function(){return e.uploadButtonClick()})),n.Dc(35," \u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c "),n.Tb(),n.Ub(36,"input",14,15),n.cc("change",(function(t){return e.onFileInputChange(t.target.files)})),n.Tb(),n.Tb(),n.Ub(38,"div",8),n.Ub(39,"button",16),n.cc("click",(function(){return e.signAndStartProcess()})),n.Dc(40," \u041f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c "),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Ub(41,"section",17),n.Ub(42,"div"),n.Ub(43,"div",18),n.Ub(44,"h3"),n.Dc(45,"\u0417\u0430\u044f\u0432\u043b\u0435\u043d\u0438\u0435"),n.Tb(),n.Tb(),n.Ub(46,"p"),n.Dc(47," \u041d\u0430\u0441\u0442\u043e\u044f\u0449\u0438\u043c \u043f\u0440\u043e\u0448\u0443 \u0410\u041e \xab\u041a\u0430\u0437\u0410\u0433\u0440\u043e\u0424\u0438\u043d\u0430\u043d\u0441\xbb (\u0434\u0430\u043b\u0435\u0435 \u2013 \u041e\u0431\u0449\u0435\u0441\u0442\u0432\u043e) \u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0441\u0442\u0438 \u0441\u0431\u043e\u0440 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u0434\u043b\u044f \u0440\u0430\u0441\u0441\u043c\u043e\u0442\u0440\u0435\u043d\u0438\u044f \u043c\u043e\u0435\u0439 \u0437\u0430\u044f\u0432\u043a\u0438 \u043d\u0430 \u0444\u0438\u043d\u0430\u043d\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0432 \u041e\u0431\u0449\u0435\u0441\u0442\u0432\u0435. "),n.Tb(),n.Ub(48,"p"),n.Dc(49," \u041d\u0430\u0441\u0442\u043e\u044f\u0449\u0438\u043c \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0430\u044e \u0438 \u0433\u0430\u0440\u0430\u043d\u0442\u0438\u0440\u0443\u044e, \u0447\u0442\u043e \u043e\u0437\u043d\u0430\u043a\u043e\u043c\u043b\u0435\u043d \u0441 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u0435\u043c \u043d\u0430\u0441\u0442\u043e\u044f\u0449\u0435\u0433\u043e \u0417\u0430\u044f\u0432\u043b\u0435\u043d\u0438\u044f, \u0443\u0441\u043b\u043e\u0432\u0438\u044f\u043c\u0438 \u0444\u0438\u043d\u0430\u043d\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0438 \u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u044f\u043c\u0438 \u041e\u0431\u0449\u0435\u0441\u0442\u0432\u0430. \u043f\u043e\u043b\u043d\u043e\u0441\u0442\u044c\u044e \u043f\u043e\u043d\u0438\u043c\u0430\u044e \u0438 \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u044e \u0438\u0445 \u0438 \u0434\u0430\u044e \u043d\u0438\u0436\u0435\u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0435 \u0441\u043e\u0433\u043b\u0430\u0441\u0438\u0435. "),n.Tb(),n.Ub(50,"div",18),n.Ub(51,"h3"),n.Dc(52,"\u0421\u043e\u0433\u043b\u0430\u0441\u0438\u0435"),n.Tb(),n.Tb(),n.Ub(53,"p"),n.Dc(54," \u041d\u0430\u0441\u0442\u043e\u044f\u0449\u0438\u043c \u042f, \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u044e \u0441\u0432\u043e\u0435 \u0441\u043e\u0433\u043b\u0430\u0441\u0438\u0435 \u0430\u043a\u0446\u0438\u043e\u043d\u0435\u0440\u043d\u043e\u043c\u0443 \u043e\u0431\u0449\u0435\u0441\u0442\u0432\u0443 \xab\u041d\u0430\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0439 \u0443\u043f\u0440\u0430\u0432\u043b\u044f\u044e\u0449\u0438\u0439 \u0445\u043e\u043b\u0434\u0438\u043d\u0433 '\u041a\u0430\u0437\u0410\u0433\u0440\u043e\xbb \u0438 /\u0438\u043b\u0438 \u043b\u044e\u0431\u043e\u0439 \u0435\u0433\u043e \u0434\u043e\u0447\u0435\u0440\u043d\u0435\u0439 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438, \u0432 \u0442\u043e\u043c \u0447\u0438\u0441\u043b\u0435 \u0410\u041e \xab\u041a\u0430\u0437\u0410\u0433\u0440\u043e\u0424\u0438\u043d\u0430\u043d\u0441\xbb (\u0434\u0430\u043b\u0435\u0435 \u2013 \u041a\u043e\u043c\u043f\u0430\u043d\u0438\u044f) \u0438 \u043b\u0438\u0446\u0430\u043c, \u0441\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u043c, \u043a\u0430\u043a \u0432 \u043d\u0430\u0441\u0442\u043e\u044f\u0449\u0435\u0435 \u0432\u0440\u0435\u043c\u044f, \u0442\u0430\u043a \u0438 \u0432 \u0431\u0443\u0434\u0443\u0449\u0435\u043c, \u0441 \u041a\u043e\u043c\u043f\u0430\u043d\u0438\u0435\u0439 \u043e\u0431\u0441\u0442\u043e\u044f\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430\u043c\u0438 \u0438\u043b\u0438 \u043f\u0440\u0430\u0432\u043e\u043e\u0442\u043d\u043e\u0448\u0435\u043d\u0438\u044f\u043c\u0438, \u0430 \u0442\u0430\u043a\u0436\u0435 \u043b\u0438\u0446\u0430\u043c, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0438\u043c\u0435\u044e\u0442 \u0438/\u0438\u043b\u0438 \u043c\u043e\u0433\u0443\u0442 \u0438\u043c\u0435\u0442\u044c \u043e\u0442\u043d\u043e\u0448\u0435\u043d\u0438\u044f \u043a \u0437\u0430\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044e \u0438/\u0438\u043b\u0438 \u0438\u0441\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044e \u0438/\u0438\u043b\u0438 \u0442\u0435\u0445\u043d\u0438\u0447\u0435\u0441\u043a\u043e\u043c\u0443 \u043e\u0431\u0441\u043b\u0443\u0436\u0438\u0432\u0430\u043d\u0438\u044e \u043b\u044e\u0431\u044b\u0445 \u0441\u0434\u0435\u043b\u043e\u043a/\u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0439, \u0437\u0430\u043a\u043b\u044e\u0447\u0435\u043d\u043d\u044b\u0445 (\u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0431\u0443\u0434\u0443\u0442 \u0437\u0430\u043a\u043b\u044e\u0447\u0435\u043d\u044b) \u043c\u0435\u0436\u0434\u0443 \u043c\u043d\u043e\u0439 \u0438 \u041a\u043e\u043c\u043f\u0430\u043d\u0438\u0435\u0439, \u043d\u0430 \u0441\u0431\u043e\u0440, \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0443, \u0440\u0430\u0441\u043f\u0440\u043e\u0441\u0442\u0440\u0430\u043d\u0435\u043d\u0438\u0435, \u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435 \u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435, \u043b\u044e\u0431\u044b\u043c \u0434\u043e\u043f\u0443\u0441\u043a\u0430\u0435\u043c\u044b\u043c \u0437\u0430\u043a\u043e\u043d\u043e\u0434\u0430\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e\u043c \u0420\u0435\u0441\u043f\u0443\u0431\u043b\u0438\u043a\u0438 \u041a\u0430\u0437\u0430\u0445\u0441\u0442\u0430\u043d \u0441\u043f\u043e\u0441\u043e\u0431\u043e\u043c \u043c\u043e\u0438\u0445 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445 \u0438 \u0441\u0432\u0435\u0434\u0435\u043d\u0438\u0439 \u043e \u043c\u043e\u0438\u0445 \u0431\u043b\u0438\u0437\u043a\u0438\u0445 \u0440\u043e\u0434\u0441\u0442\u0432\u0435\u043d\u043d\u0438\u043a\u0430\u0445, \u043d\u0430 \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043e\u0431\u043e \u043c\u043d\u0435 \u0432 \u043a\u0440\u0435\u0434\u0438\u0442\u043d\u044b\u0435 \u0431\u044e\u0440\u043e \u0438 \u0432\u044b\u0434\u0430\u0447\u0443 \u043a\u0440\u0435\u0434\u0438\u0442\u043d\u043e\u0433\u043e \u043e\u0442\u0447\u0435\u0442\u0430 \u0438\u0437 \u043a\u0440\u0435\u0434\u0438\u0442\u043d\u044b\u0445 \u0431\u044e\u0440\u043e (\u0432\u043a\u043b\u044e\u0447\u0430\u044f \u0434\u0430\u043d\u043d\u044b\u0435, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043f\u043e\u0441\u0442\u0443\u043f\u044f\u0442 \u0432 \u0431\u0443\u0434\u0443\u0449\u0435\u043c), \u043d\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u0438 \u0440\u0430\u0441\u043a\u0440\u044b\u0442\u0438\u0435 \u0441\u0432\u0435\u0434\u0435\u043d\u0438\u0439 \u043e \u0432\u044b\u0434\u0430\u043d\u043d\u044b\u0445 \u043a\u0440\u0435\u0434\u0438\u0442\u0430\u0445 \u0438 \u0432\u0441\u0435\u0445 \u0441\u0432\u0435\u0434\u0435\u043d\u0438\u0439 \u043e\u0431 \u0438\u0445 \u0438\u0441\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0438/\u043d\u0435\u0438\u0441\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0438 \u0434\u043b\u044f \u0446\u0435\u043b\u0435\u0439 \u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u044f, \u0440\u0430\u0441\u0441\u043c\u043e\u0442\u0440\u0435\u043d\u0438\u044f \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438 \u0438 \u043e\u043a\u0430\u0437\u0430\u043d\u0438\u044f \u041a\u043e\u043c\u043f\u0430\u043d\u0438\u0435\u0439 \u0443\u0441\u043b\u0443\u0433, \u0432 \u0442\u043e\u043c \u0447\u0438\u0441\u043b\u0435 \u043f\u0435\u0440\u0435\u0447\u0435\u043d\u044c \u043a\u043e\u0442\u043e\u0440\u044b\u0445 \u043e\u0442\u0440\u0430\u0436\u0435\u043d \u0432 \u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0438 \u043a \u043d\u0430\u0441\u0442\u043e\u044f\u0449\u0435\u043c\u0443 \u0441\u043e\u0433\u043b\u0430\u0441\u0438\u044e, \u0431\u0438\u043e\u043c\u0435\u0442\u0440\u0438\u0447\u0435\u0441\u043a\u0438\u0445 \u0438/\u0438\u043b\u0438 \u0438\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445/\u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438, \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u043d\u044b\u0445 \u0438 \u043f\u0435\u0440\u0435\u0434\u0430\u043d\u043d\u044b\u0445 \u043d\u0430 \u0442\u0435\u043a\u0443\u0449\u0438\u0439 \u043c\u043e\u043c\u0435\u043d\u0442 \u0438 \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043c\u043e\u0433\u0443\u0442 \u0431\u044b\u0442\u044c \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u044b \u0438 \u043f\u0435\u0440\u0435\u0434\u0430\u043d\u044b \u0432 \u0431\u0443\u0434\u0443\u0449\u0435\u043c, \u0438\u0437 \u0432\u0441\u0435\u0445/\u0432\u043e \u0432\u0441\u0435 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u044b\u0445(-\u044b\u0435) \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a\u043e\u0432(-\u0438), \u0432 \u0442\u043e\u043c \u0447\u0438\u0441\u043b\u0435 \u043b\u044e\u0431\u044b\u0445(-\u0435) \u0431\u0430\u0437(-\u044b) \u0434\u0430\u043d\u043d\u044b\u0445, \u0432 \u0442\u043e\u043c \u0447\u0438\u0441\u043b\u0435 \u0433\u043e\u0441\u0443\u0434\u0430\u0440\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0445(-\u0435)/\u043d\u0435\u0433\u043e\u0441\u0443\u0434\u0430\u0440\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0445(-\u044b\u0435), \u043a\u0440\u0435\u0434\u0438\u0442\u043d\u044b\u0445(-\u044b\u0435) \u0431\u044e\u0440\u043e, \u041d\u0410\u041e \xab\u0413\u043e\u0441\u0443\u0434\u0430\u0440\u0441\u0442\u0432\u0435\u043d\u043d\u0430\u044f \u043a\u043e\u0440\u043f\u043e\u0440\u0430\u0446\u0438\u044f \xab\u041f\u0440\u0430\u0432\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430 \u0434\u043b\u044f \u0433\u0440\u0430\u0436\u0434\u0430\u043d\xbb, \u0434\u043e\u0447\u0435\u0440\u043d\u0438\u0445(-\u0438\u0435) \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0439(-\u0438\u0438) \u0430\u043a\u0446\u0438\u043e\u043d\u0435\u0440\u043d\u043e\u0433\u043e \u043e\u0431\u0449\u0435\u0441\u0442\u0432\u0430 \xab\u041d\u0430\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0439 \u0443\u043f\u0440\u0430\u0432\u043b\u044f\u044e\u0449\u0438\u0439 \u0445\u043e\u043b\u0434\u0438\u043d\u0433 \xab\u041a\u0430\u0437\u0410\u0433\u0440\u043e\xbb , \u0432 \u0442\u043e\u043c \u0447\u0438\u0441\u043b\u0435 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0449\u0438\u0445 \u043d\u0430\u043b\u043e\u0433\u043e\u0432\u0443\u044e, \u0431\u0430\u043d\u043a\u043e\u0432\u0441\u043a\u0443\u044e \u0442\u0430\u0439\u043d\u0443, \u0442\u0430\u0439\u043d\u0443 \u043f\u0435\u043d\u0441\u0438\u043e\u043d\u043d\u044b\u0445 \u043d\u0430\u043a\u043e\u043f\u043b\u0435\u043d\u0438\u0439, \u0438 \u0438\u043d\u0443\u044e \u043e\u0445\u0440\u0430\u043d\u044f\u0435\u043c\u0443\u044e \u0437\u0430\u043a\u043e\u043d\u043e\u043c \u0442\u0430\u0439\u043d\u0443, \u0442\u043e \u0435\u0441\u0442\u044c \u0432\u0441\u0435\u0445 \u0441\u0432\u0435\u0434\u0435\u043d\u0438\u0439, \u043e\u0442\u043d\u043e\u0441\u044f\u0449\u0438\u0445\u0441\u044f \u043a\u043e \u043c\u043d\u0435 \u0438 \u043c\u043e\u0438\u043c \u0431\u043b\u0438\u0437\u043a\u0438\u043c \u0440\u043e\u0434\u0441\u0442\u0432\u0435\u043d\u043d\u0438\u043a\u0430\u043c, \u0437\u0430\u0444\u0438\u043a\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0445 \u043d\u0430 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u043c, \u0431\u0443\u043c\u0430\u0436\u043d\u043e\u043c \u0438 (\u0438\u043b\u0438) \u0438\u043d\u043e\u043c \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u044c\u043d\u043e\u043c \u043d\u043e\u0441\u0438\u0442\u0435\u043b\u0435, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0431\u0443\u0434\u0443\u0442 \u0438\u043b\u0438 \u0441\u0442\u0430\u043b\u0438 \u0438\u0437\u0432\u0435\u0441\u0442\u043d\u044b \u041a\u043e\u043c\u043f\u0430\u043d\u0438\u0438 \u0432 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0435 \u0435\u0451 \u0434\u0435\u044f\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u0438/\u0438\u043b\u0438 \u0432 \u0440\u0430\u043c\u043a\u0430\u0445 \u0433\u0440\u0430\u0436\u0434\u0430\u043d\u0441\u043a\u043e-\u043f\u0440\u0430\u0432\u043e\u0432\u044b\u0445 \u0438 \u0438\u043d\u044b\u0445 \u043e\u0442\u043d\u043e\u0448\u0435\u043d\u0438\u0439 \u0441 \u043a\u043e\u043d\u0442\u0440\u0430\u0433\u0435\u043d\u0442\u0430\u043c\u0438 \u0432 \u0440\u0430\u043c\u043a\u0430\u0445 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0435\u0433\u043e \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u0430, \u0432\u043a\u043b\u044e\u0447\u0430\u044f \u0441\u043e\u0433\u043b\u0430\u0441\u0438\u044f: "),n.Tb(),n.Ub(55,"ul"),n.Ub(56,"li"),n.Dc(57," \u041a\u043e\u043c\u043f\u0430\u043d\u0438\u0438 - \u043d\u0430 \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438, \u0441\u0432\u0435\u0434\u0435\u043d\u0438\u0439 \u043e \u0432\u044b\u0434\u0430\u043d\u043d\u043e\u043c \u043a\u0440\u0435\u0434\u0438\u0442\u0435/\u043c\u0438\u043a\u0440\u043e\u043a\u0440\u0435\u0434\u0438\u0442\u0435 \u0438 \u0432\u0441\u0435\u0445 \u0441\u0432\u0435\u0434\u0435\u043d\u0438\u0439 \u043e\u0431 \u0438\u0441\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0438/\u043d\u0435\u0438\u0441\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0438 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u0441\u0442\u0432 \u043f\u043e \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u0443 \u043e \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u0438 \u043a\u0440\u0435\u0434\u0438\u0442\u0430/\u043c\u0438\u043a\u0440\u043e\u043a\u0440\u0435\u0434\u0438\u0442\u0430 \u0432 \u0433\u043e\u0441\u0443\u0434\u0430\u0440\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0435 (\u0432 \u0442\u043e\u043c \u0447\u0438\u0441\u043b\u0435 \u043f\u0440\u0430\u0432\u043e\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435) /\u043d\u0435\u0433\u043e\u0441\u0443\u0434\u0430\u0440\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0435 \u043e\u0440\u0433\u0430\u043d\u044b, \u0441\u0440\u0435\u0434\u0441\u0442\u0432\u0430 \u043c\u0430\u0441\u0441\u043e\u0432\u043e\u0439 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438, \u0430 \u0442\u0430\u043a\u0436\u0435 \u0430\u043a\u0446\u0438\u043e\u043d\u0435\u0440\u043d\u043e\u0435 \u043e\u0431\u0449\u0435\u0441\u0442\u0432\u043e \xab\u041d\u0430\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0439 \u0443\u043f\u0440\u0430\u0432\u043b\u044f\u044e\u0449\u0438\u0439 \u0445\u043e\u043b\u0434\u0438\u043d\u0433 \xab\u041a\u0430\u0437\u0410\u0433\u0440\u043e\xbb \u0438 \u0435\u0433\u043e \u0434\u043e\u0447\u0435\u0440\u043d\u0438\u0435 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438; "),n.Tb(),n.Ub(58,"li"),n.Dc(59," \u041a\u043e\u043c\u043f\u0430\u043d\u0438\u0438 \u2013 \u043d\u0430 \u0441\u0431\u043e\u0440, \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0443 \u043c\u043e\u0438\u0445 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0445, \u0431\u0438\u043e\u043c\u0435\u0442\u0440\u0438\u0447\u0435\u0441\u043a\u0438\u0445 \u0438/\u0438\u043b\u0438 \u0438\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445 (\u0434\u0430\u043b\u0435\u0435 \u2013 \u0434\u0430\u043d\u043d\u044b\u0435), \u043d\u0430 \u043f\u0435\u0440\u0435\u0434\u0430\u0447\u0443 \u0434\u0430\u043d\u043d\u044b\u0445 \u0432 \u043a\u0440\u0435\u0434\u0438\u0442\u043d\u043e\u0435 \u0431\u044e\u0440\u043e, \u043d\u0430 \u043f\u0435\u0440\u0435\u0434\u0430\u0447\u0443 \u043a\u0440\u0435\u0434\u0438\u0442\u043d\u044b\u043c \u0431\u044e\u0440\u043e \u043c\u043e\u0438\u0445 \u0434\u0430\u043d\u043d\u044b\u0445 \u0431\u0435\u0437 \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u044f \u044e\u0440\u0438\u0434\u0438\u0447\u0435\u0441\u043a\u043e\u043c\u0443 \u043b\u0438\u0446\u0443, \u043e\u0441\u0443\u0449\u0435\u0441\u0442\u0432\u043b\u044f\u044e\u0449\u0435\u043c\u0443 \u0434\u0435\u044f\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u043f\u043e \u043f\u0440\u0438\u0432\u043b\u0435\u0447\u0435\u043d\u0438\u044e \u043f\u0435\u043d\u0441\u0438\u043e\u043d\u043d\u044b\u0445 \u0432\u0437\u043d\u043e\u0441\u043e\u0432 \u0438 \u043f\u0435\u043d\u0441\u0438\u043e\u043d\u043d\u044b\u043c \u0432\u044b\u043f\u043b\u0430\u0442\u0430\u043c; "),n.Tb(),n.Ub(60,"li"),n.Dc(61," \u044e\u0440\u0438\u0434\u0438\u0447\u0435\u0441\u043a\u043e\u043c\u0443 \u043b\u0438\u0446\u0443, \u043e\u0441\u0443\u0449\u0435\u0441\u0442\u0432\u043b\u044f\u044e\u0449\u0435\u043c\u0443 \u0434\u0435\u044f\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u043f\u043e \u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044e \u0434\u0430\u043d\u043d\u044b\u0445 \u043e \u043f\u0435\u043d\u0441\u0438\u043e\u043d\u043d\u044b\u0445 \u0432\u0437\u043d\u043e\u0441\u0430\u0445 \u0438 \u043f\u0435\u043d\u0441\u0438\u043e\u043d\u043d\u044b\u043c \u0432\u044b\u043f\u043b\u0430\u0442\u0430\u043c \u2013 \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0442\u044c \u0438\u043c\u0435\u044e\u0449\u0443\u044e\u0441\u044f \u0438 \u043f\u043e\u0441\u0442\u0443\u043f\u0430\u044e\u0449\u0443\u044e \u043e\u0431\u043e \u043c\u043d\u0435 \u0432 \u0431\u0443\u0434\u0443\u0449\u0435\u043c \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043a\u0440\u0435\u0434\u0438\u0442\u043d\u043e\u043c\u0443 \u0431\u044e\u0440\u043e, \u0430 \u0442\u0430\u043a\u0436\u0435 \u043d\u0430 \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043a\u0440\u0435\u0434\u0438\u0442\u043d\u044b\u043c \u0431\u044e\u0440\u043e \u0432\u044b\u0448\u0435\u0443\u043a\u0430\u0437\u0430\u043d\u043d\u043e\u0439 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u041a\u043e\u043c\u043f\u0430\u043d\u0438\u0438; "),n.Tb(),n.Ub(62,"li"),n.Dc(63," \u044e\u0440\u0438\u0434\u0438\u0447\u0435\u0441\u043a\u043e\u043c\u0443 \u043b\u0438\u0446\u0443, \u043e\u0441\u0443\u0449\u0435\u0441\u0442\u0432\u043b\u044f\u044e\u0449\u0435\u043c\u0443 \u0434\u0435\u044f\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u043f\u043e \u0432\u044b\u043f\u043b\u0430\u0442\u0435 \u043f\u0435\u043d\u0441\u0438\u0439 \u0438 \u043f\u043e\u0441\u043e\u0431\u0438\u0439 \u2013 \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0442\u044c \u0438\u043c\u0435\u044e\u0449\u0443\u044e\u0441\u044f \u0438 \u043f\u043e\u0441\u0442\u0443\u043f\u0430\u044e\u0449\u0443\u044e \u043e\u0431\u043e \u043c\u043d\u0435 \u0432 \u0431\u0443\u0434\u0443\u0449\u0435\u043c \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u041a\u043e\u043c\u043f\u0430\u043d\u0438\u0438; "),n.Tb(),n.Ub(64,"li"),n.Dc(65," \u041a\u043e\u043c\u043f\u0430\u043d\u0438\u0438 \u2013 \u043d\u0430 \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043e\u0431\u043e \u043c\u043d\u0435, \u043a\u0430\u043a \u043e \u0441\u0443\u0431\u044a\u0435\u043a\u0442\u0435 \u043a\u0440\u0435\u0434\u0438\u0442\u043d\u043e\u0439 \u0438\u0441\u0442\u043e\u0440\u0438\u0438, \u0432\u043e \u0432\u0441\u0435 \u043a\u0440\u0435\u0434\u0438\u0442\u043d\u044b\u0435 \u0431\u044e\u0440\u043e, \u0441 \u043a\u043e\u0442\u043e\u0440\u044b\u043c\u0438 \u041a\u043e\u043c\u043f\u0430\u043d\u0438\u0435\u0439 \u0437\u0430\u043a\u043b\u044e\u0447\u0435\u043d\u044b \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u044b \u043e \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u0438 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438, \u0430 \u0442\u0430\u043a\u0436\u0435 \u0442\u0430\u043a\u0438\u043c \u043a\u0440\u0435\u0434\u0438\u0442\u043d\u044b\u043c \u0431\u044e\u0440\u043e \u043d\u0430 \u0432\u044b\u0434\u0430\u0447\u0443 \u043a\u0440\u0435\u0434\u0438\u0442\u043d\u043e\u0433\u043e \u043e\u0442\u0447\u0435\u0442\u0430 \u043e\u0431\u043e \u043c\u043d\u0435, \u0432\u043a\u043b\u044e\u0447\u0430\u044e\u0449\u0435\u0433\u043e \u0434\u0430\u043d\u043d\u044b\u0435, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043f\u043e\u0441\u0442\u0443\u043f\u044f\u0442 \u0432 \u043a\u0440\u0435\u0434\u0438\u0442\u043d\u044b\u0435 \u0431\u044e\u0440\u043e \u0432 \u0431\u0443\u0434\u0443\u0449\u0435\u043c; "),n.Tb(),n.Ub(66,"li"),n.Dc(67," \u043a\u0440\u0435\u0434\u0438\u0442\u043d\u043e\u043c\u0443 \u0431\u044e\u0440\u043e \u2013 \u043d\u0430 \u0432\u044b\u0434\u0430\u0447\u0443 \u043a\u0440\u0435\u0434\u0438\u0442\u043d\u043e\u0433\u043e \u043e\u0442\u0447\u0435\u0442\u0430 \u0438\u0437 \u043a\u0440\u0435\u0434\u0438\u0442\u043d\u043e\u0433\u043e \u0431\u044e\u0440\u043e, \u0432\u043a\u043b\u044e\u0447\u0430\u044f \u0434\u0430\u043d\u043d\u044b\u0435, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043f\u043e\u0441\u0442\u0443\u043f\u044f\u0442 \u0432 \u0431\u0443\u0434\u0443\u0449\u0435\u043c; "),n.Tb(),n.Ub(68,"li"),n.Dc(69," \u0433\u043e\u0441\u0443\u0434\u0430\u0440\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u043c \u0438 \u043d\u0435\u0433\u043e\u0441\u0443\u0434\u0430\u0440\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u043c \u0431\u0430\u0437\u0430\u043c \u0434\u0430\u043d\u043d\u044b\u0445 \u2013 \u043d\u0430 \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043e\u0431\u043e \u043c\u043d\u0435 \u0438\u0437 \u0432\u0441\u0435\u0445 \u0433\u043e\u0441\u0443\u0434\u0430\u0440\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0445 \u0438 \u043d\u0435\u0433\u043e\u0441\u0443\u0434\u0430\u0440\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0445 \u0431\u0430\u0437 \u0434\u0430\u043d\u043d\u044b\u0445 \u041a\u043e\u043c\u043f\u0430\u043d\u0438\u0438 \u0438\u043b\u0438 \u043a\u0440\u0435\u0434\u0438\u0442\u043d\u043e\u043c\u0443 \u0431\u044e\u0440\u043e \u043d\u0430\u043f\u0440\u044f\u043c\u0443\u044e \u0438\u043b\u0438 \u0447\u0435\u0440\u0435\u0437 \u0442\u0440\u0435\u0442\u044c\u0438\u0445 \u043b\u0438\u0446; "),n.Tb(),n.Ub(70,"li"),n.Dc(71," \u044e\u0440\u0438\u0434\u0438\u0447\u0435\u0441\u043a\u043e\u043c\u0443 \u043b\u0438\u0446\u0443, \u043e\u0441\u0443\u0449\u0435\u0441\u0442\u0432\u043b\u044f\u044e\u0449\u0435\u043c\u0443 \u043f\u043e \u0440\u0435\u0448\u0435\u043d\u0438\u044e \u041f\u0440\u0430\u0432\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430 \u0420\u0435\u0441\u043f\u0443\u0431\u043b\u0438\u043a\u0438 \u041a\u0430\u0437\u0430\u0445\u0441\u0442\u0430\u043d \u0434\u0435\u044f\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u043f\u043e \u043e\u043a\u0430\u0437\u0430\u043d\u0438\u044e \u0433\u043e\u0441\u0443\u0434\u0430\u0440\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0445 \u0443\u0441\u043b\u0443\u0433 \u0432 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0438\u0438 \u0441 \u0437\u0430\u043a\u043e\u043d\u043e\u0434\u0430\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e\u043c \u0420\u0435\u0441\u043f\u0443\u0431\u043b\u0438\u043a\u0438 \u041a\u0430\u0437\u0430\u0445\u0441\u0442\u0430\u043d \u2013 \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0442\u044c \u0438\u043c\u0435\u044e\u0449\u0443\u044e\u0441\u044f \u0438 \u043f\u043e\u0441\u0442\u0443\u043f\u0430\u044e\u0449\u0443\u044e \u0432 \u0431\u0443\u0434\u0443\u0449\u0435\u043c \u043e\u0431\u043e \u043c\u043d\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043a\u0440\u0435\u0434\u0438\u0442\u043d\u043e\u043c\u0443 \u0431\u044e\u0440\u043e \u0438 \u041a\u043e\u043c\u043f\u0430\u043d\u0438\u0438 \u043f\u043e\u0441\u0440\u0435\u0434\u0441\u0442\u0432\u043e\u043c \u043a\u0440\u0435\u0434\u0438\u0442\u043d\u043e\u0433\u043e \u0431\u044e\u0440\u043e. "),n.Tb(),n.Tb(),n.Ub(72,"p"),n.Dc(73," \u041a\u043b\u0438\u0435\u043d\u0442 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0430\u0435\u0442, \u0447\u0442\u043e \u043a\u0430\u043a\u0438\u0445-\u043b\u0438\u0431\u043e \u043f\u0440\u0435\u0442\u0435\u043d\u0437\u0438\u0439 \u043a \u041a\u043e\u043c\u043f\u0430\u043d\u0438\u0438 \u043a\u0430\u0441\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0441\u0431\u043e\u0440\u0430, \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438, \u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u0432\u044b\u0448\u0435\u0443\u043a\u0430\u0437\u0430\u043d\u043d\u044b\u0445 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u0438 \u0434\u0430\u043d\u043d\u044b\u0445 \u0432 \u0434\u0430\u043b\u044c\u043d\u0435\u0439\u0448\u0435\u043c \u0438\u043c\u0435\u0442\u044c \u043d\u0435 \u0431\u0443\u0434\u0435\u0442. "),n.Tb(),n.Ub(74,"p"),n.Dc(75," \u041d\u0430\u0441\u0442\u043e\u044f\u0449\u0435\u0435 \u0441\u043e\u0433\u043b\u0430\u0441\u0438\u0435 \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0431\u0435\u0437\u0443\u0441\u043b\u043e\u0432\u043d\u044b\u043c \u0438 \u0431\u0435\u0441\u0441\u0440\u043e\u0447\u043d\u044b\u043c \u0434\u043e \u043c\u043e\u043c\u0435\u043d\u0442\u0430 \u043e\u0442\u0437\u044b\u0432\u0430, \u0438 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043e\u0442\u043e\u0437\u0432\u0430\u043d\u043e, \u0435\u0441\u043b\u0438 \u044d\u0442\u043e \u043f\u0440\u043e\u0442\u0438\u0432\u043e\u0440\u0435\u0447\u0438\u0442 \u0437\u0430\u043a\u043e\u043d\u0430\u043c \u0420\u0435\u0441\u043f\u0443\u0431\u043b\u0438\u043a\u0438 \u041a\u0430\u0437\u0430\u0445\u0441\u0442\u0430\u043d, \u043b\u0438\u0431\u043e \u043f\u0440\u0438 \u043d\u0430\u043b\u0438\u0447\u0438\u0438 \u043d\u0435\u0438\u0441\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u043e\u0433\u043e \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430. "),n.Tb(),n.Ub(76,"p"),n.Dc(77," \u041d\u0430\u0441\u0442\u043e\u044f\u0449\u0438\u043c \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0430\u044e, \u0447\u0442\u043e \u0441\u043e\u0433\u043b\u0430\u0441\u0438\u0435 \u043c\u043e\u0438\u0445 \u0431\u043b\u0438\u0437\u043a\u0438\u0445 \u0440\u043e\u0434\u0441\u0442\u0432\u0435\u043d\u043d\u0438\u043a\u043e\u0432, \u043f\u0435\u0440\u0435\u0447\u0435\u043d\u044c \u043a\u043e\u0442\u043e\u0440\u044b\u0445 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d \u0437\u0430\u043a\u043e\u043d\u043e\u0434\u0430\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e\u043c \u0420\u0435\u0441\u043f\u0443\u0431\u043b\u0438\u043a\u0438 \u041a\u0430\u0437\u0430\u0445\u0441\u0442\u0430\u043d, \u0430 \u0442\u0430\u043a\u0436\u0435 \u043b\u0438\u0446, \u0441\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u043e \u043a\u043e\u0442\u043e\u0440\u044b\u0445 \u043c\u043d\u043e\u044e \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u044b, \u043d\u0430 \u0441\u0431\u043e\u0440, \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0443, \u0440\u0430\u0441\u043f\u0440\u043e\u0441\u0442\u0440\u0430\u043d\u0435\u043d\u0438\u0435, \u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435 \u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u043b\u044e\u0431\u044b\u043c \u0434\u043e\u043f\u0443\u0441\u043a\u0430\u0435\u043c\u044b\u043c \u0437\u0430\u043a\u043e\u043d\u043e\u0434\u0430\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e\u043c \u0420\u0435\u0441\u043f\u0443\u0431\u043b\u0438\u043a\u0438 \u041a\u0430\u0437\u0430\u0445\u0441\u0442\u0430\u043d \u0441\u043f\u043e\u0441\u043e\u0431\u043e\u043c \u0441\u0432\u0435\u0434\u0435\u043d\u0438\u0439 \u0438 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043e \u043d\u0438\u0445 \u043c\u043d\u043e\u0439 \u0437\u0430\u0431\u043b\u0430\u0433\u043e\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u043e \u0438 \u043e\u043d\u0438 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u044b, \u0447\u0442\u043e \u0434\u0430\u043d\u043d\u044b\u0435 \u0441\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u0438 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043c\u043d\u043e\u0439 \u0431\u0443\u0434\u0443\u0442 \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u044b \u0432\u044b\u0448\u0435\u0443\u043a\u0430\u0437\u0430\u043d\u043d\u044b\u043c \u0441\u0443\u0431\u044a\u0435\u043a\u0442\u0430\u043c \u0432 \u0446\u0435\u043b\u044f\u0445 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0443\u0441\u043b\u0443\u0433 \u0438 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u043c\u043d\u043e\u0439 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0445 \u0434\u0435\u043b\u043e\u0432\u044b\u0445 \u043e\u0442\u043d\u043e\u0448\u0435\u043d\u0438\u0439. "),n.Tb(),n.Ub(78,"p"),n.Dc(79," \u0422\u0430\u043a\u0436\u0435 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0430\u044e, \u0447\u0442\u043e \u0432 \u0441\u043b\u0443\u0447\u0430\u0435 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\u0441\u0442\u0438 \u043f\u043e \u043f\u0435\u0440\u0432\u043e\u043c\u0443 \u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u044e \u041a\u043e\u043c\u043f\u0430\u043d\u0438\u0438 \u0441\u043e\u0433\u043b\u0430\u0441\u0438\u044f \u0432\u044b\u0448\u0435\u0443\u043a\u0430\u0437\u0430\u043d\u043d\u044b\u0445 \u043b\u0438\u0446 \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u044b \u043d\u0435\u0437\u0430\u043c\u0435\u0434\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e. "),n.Tb(),n.Ub(80,"p"),n.Dc(81,"\u0421\u043e\u0433\u043b\u0430\u0441\u0438\u0435 \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u0438\u043b"),n.Tb(),n.Ub(82,"p"),n.Dc(83," \u041f\u043e\u0434\u043f\u0438\u0441\u044c:"),n.Ub(84,"span",19),n.Dc(85,"\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u043d\u043e \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0439 \u0446\u0438\u0444\u0440\u043e\u0432\u043e\u0439 \u043f\u043e\u0434\u043f\u0438\u0441\u044c\u044e"),n.Tb(),n.Tb(),n.Ub(86,"p"),n.Dc(87," \u0421\u043e\u0433\u043b\u0430\u0441\u0438\u0435 \u043f\u0440\u0438\u043d\u044f\u043b "),n.Ub(88,"strong"),n.Dc(89," \u041a\u0443\u0430\u043d\u044b\u0448\u0435\u0432 \u0411\u0430\u0443\u0440\u0436\u0430\u043d \u0411\u0443\u043b\u0430\u0442\u043e\u0432\u0438\u0447 \u2013 \u0414\u0438\u0440\u0435\u043a\u0442\u043e\u0440 \u0414\u0435\u043f\u0430\u0440\u0442\u0430\u043c\u0435\u043d\u0442\u0430 \u043e\u043f\u0442\u0438\u043c\u0438\u0437\u0430\u0446\u0438\u0438 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u043e\u0432 \u0438 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u043e\u0432"),n.Tb(),n.Tb(),n.Ub(90,"p"),n.Dc(91," \u041f\u043e\u0434\u043f\u0438\u0441\u044c:"),n.Ub(92,"span",19),n.Dc(93,"\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u043d\u043e \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0439 \u0446\u0438\u0444\u0440\u043e\u0432\u043e\u0439 \u043f\u043e\u0434\u043f\u0438\u0441\u044c\u044e"),n.Tb(),n.Tb(),n.Ub(94,"p"),n.Ub(95,"strong"),n.Dc(96,"\u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u043a \u0441\u043e\u0433\u043b\u0430\u0441\u0438\u044e \u041f\u0435\u0440\u0435\u0447\u0435\u043d\u044c \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445, \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0439 \u0438 \u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u044b\u0439 \u0434\u043b\u044f \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u041a\u043e\u043c\u043f\u0430\u043d\u0438\u0435\u0439 \u043e\u0441\u0443\u0449\u0435\u0441\u0442\u0432\u043b\u044f\u0435\u043c\u044b\u0445 \u0437\u0430\u0434\u0430\u0447"),n.Tb(),n.Tb(),n.Ub(97,"p"),n.Dc(98," 1) \u0441\u0432\u0435\u0434\u0435\u043d\u0438\u044f, \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0435 \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u0430\u043d\u043a\u0435\u0442\u044b, \u0430 \u0442\u0430\u043a\u0436\u0435 \u043d\u0430\u0434\u043b\u0435\u0436\u0430\u0449\u0435\u0439 \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438 (\u0444\u0430\u043c\u0438\u043b\u0438\u044f, \u0438\u043c\u044f, \u043e\u0442\u0447\u0435\u0441\u0442\u0432\u043e (\u043f\u0440\u0438 \u043d\u0430\u043b\u0438\u0447\u0438\u0438); \u0433\u0440\u0430\u0436\u0434\u0430\u043d\u0441\u0442\u0432\u043e; \u0434\u0430\u043d\u043d\u044b\u0435 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430, \u0443\u0434\u043e\u0441\u0442\u043e\u0432\u0435\u0440\u044f\u044e\u0449\u0435\u0433\u043e \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0439 \u043d\u043e\u043c\u0435\u0440; \u0434\u0430\u0442\u0430 \u0438 \u0434\u0430\u043d\u043d\u044b\u0435 \u043e \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u0438; \u043f\u043e\u043b; \u0444\u043e\u0442\u043e; \u043f\u043e\u0434\u043f\u0438\u0441\u044c; \u0431\u0438\u043e\u043c\u0435\u0442\u0440\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u0438 \u043f\u0440.); "),n.Tb(),n.Ub(99,"p"),n.Dc(100," 2) \u0441\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u043e \u0441\u0435\u043c\u0435\u0439\u043d\u043e\u043c/\u0441\u043e\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u043c \u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u0438 (\u0434\u0430\u043d\u043d\u044b\u0435 \u0441\u0432\u0438\u0434\u0435\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430 \u043e \u0437\u0430\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0438 \u0431\u0440\u0430\u043a\u0430, \u0444\u0430\u043c\u0438\u043b\u0438\u044f, \u0438\u043c\u044f, \u043e\u0442\u0447\u0435\u0441\u0442\u0432\u043e (\u043f\u0440\u0438 \u043d\u0430\u043b\u0438\u0447\u0438\u0438) \u0441\u0443\u043f\u0440\u0443\u0433\u0430(\u0438), \u043f\u0430\u0441\u043f\u043e\u0440\u0442\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u0441\u0443\u043f\u0440\u0443\u0433\u0430(\u0438); \u043d\u0430\u043b\u0438\u0447\u0438\u0435/\u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0438\u0435 \u0438\u0436\u0434\u0438\u0432\u0435\u043d\u0446\u0435\u0432 \u0438/\u0438\u043b\u0438 \u0438\u043d\u044b\u0445 \u0447\u043b\u0435\u043d\u043e\u0432 \u0441\u0435\u043c\u044c\u0438; \u0441\u0442\u0435\u043f\u0435\u043d\u044c \u0440\u043e\u0434\u0441\u0442\u0432\u0430, \u0444\u0430\u043c\u0438\u043b\u0438\u0438, \u0438\u043c\u0435\u043d\u0430, \u043e\u0442\u0447\u0435\u0441\u0442\u0432\u0430 (\u043f\u0440\u0438 \u043d\u0430\u043b\u0438\u0447\u0438\u0438) \u0438 \u0434\u0430\u0442\u044b \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f \u0434\u0440\u0443\u0433\u0438\u0445 \u0447\u043b\u0435\u043d\u043e\u0432 \u0441\u0435\u043c\u044c\u0438, \u0438\u0436\u0434\u0438\u0432\u0435\u043d\u0446\u0435\u0432; \u0441\u043f\u0438\u0441\u043e\u043a \u0444\u0438\u0437\u0438\u0447\u0435\u0441\u043a\u0438\u0445 \u043b\u0438\u0446, \u043e\u0444\u0438\u0446\u0438\u0430\u043b\u044c\u043d\u044b\u043c \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u0438\u0442\u0435\u043b\u0435\u043c \u0438/\u0438\u043b\u0438 \u043e\u043f\u0435\u043a\u0443\u043d\u043e\u043c \u043a\u043e\u0442\u043e\u0440\u044b\u0445 \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0441\u0443\u0431\u044a\u0435\u043a\u0442; \u0434\u0440\u0443\u0433\u0438\u0435 \u0441\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u043a\u043e\u0442\u043e\u0440\u044b\u043c\u0438 \u043f\u0440\u0430\u0432\u043e\u043c\u0435\u0440\u043d\u043e \u0432\u043b\u0430\u0434\u0435\u0435\u0442 \u0441\u0443\u0431\u044a\u0435\u043a\u0442 \u0438 \u0434\u043e\u0431\u0440\u043e\u0432\u043e\u043b\u044c\u043d\u043e \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u0438\u043b \u041a\u043e\u043c\u043f\u0430\u043d\u0438\u0438); "),n.Tb(),n.Ub(101,"p"),n.Dc(102," 3) \u0441\u0432\u0435\u0434\u0435\u043d\u0438\u044f, \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0435 \u0434\u043b\u044f \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u044f \u0441\u0432\u044f\u0437\u0438 (\u043c\u0435\u0441\u0442\u043e \u043f\u0440\u043e\u043f\u0438\u0441\u043a\u0438, \u043c\u0435\u0441\u0442\u043e \u0444\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0433\u043e \u043d\u0430\u0445\u043e\u0436\u0434\u0435\u043d\u0438\u044f (\u043f\u0440\u0435\u0431\u044b\u0432\u0430\u043d\u0438\u044f), \u043c\u0435\u0441\u0442\u043e \u0440\u0430\u0431\u043e\u0442\u044b \u0438 \u0434\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c; \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430 (\u0434\u043e\u043c\u0430\u0448\u043d\u0438\u0439, \u0440\u0430\u0431\u043e\u0447\u0438\u0439, \u0441\u043e\u0442\u043e\u0432\u044b\u0439), \u0430\u0434\u0440\u0435\u0441 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0439 \u043f\u043e\u0447\u0442\u044b \u0438 \u043f\u0440.); "),n.Tb(),n.Ub(103,"p"),n.Dc(104," 4) \u0441\u0432\u0435\u0434\u0435\u043d\u0438\u044f, \u0441\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0435 \u0441 \u043e\u043a\u0430\u0437\u0430\u043d\u0438\u0435 \u041a\u043e\u043c\u043f\u0430\u043d\u0438\u0435\u0439 \u0443\u0441\u043b\u0443\u0433 (\u043f\u0440\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u0435\u043c \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0439, \u0437\u0430\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435\u043c \u0441\u0434\u0435\u043b\u043e\u043a, \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435\u043c \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0439) \u2013 \u0442\u0435\u043a\u0441\u0442\u044b \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u043e\u0432 (\u0441\u043e\u0433\u043b\u0430\u0448\u0435\u043d\u0438\u0439), \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u0441\u043e\u0433\u043b\u0430\u0448\u0435\u043d\u0438\u0439 \u043a \u043d\u0435\u043c\u0443, \u0437\u0430\u044f\u0432\u043b\u0435\u043d\u0438\u044f, \u043f\u0438\u0441\u044c\u043c\u0430 \u0438 \u0441\u043e\u0433\u043b\u0430\u0441\u0438\u044f; "),n.Tb(),n.Ub(105,"p"),n.Dc(106,"5) \u0441\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u043e \u0446\u0435\u043b\u0438 \u0438 \u0445\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0435 \u0434\u0435\u043b\u043e\u0432\u044b\u0445 \u043e\u0442\u043d\u043e\u0448\u0435\u043d\u0438\u0439;"),n.Tb(),n.Ub(107,"p"),n.Dc(108," 6) \u0441\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u043e\u0431 \u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u0438\u0438, \u043f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0439 \u0434\u0435\u044f\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438, \u0441\u043b\u0443\u0436\u0435\u0431\u043d\u043e\u043c \u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u0438, \u0434\u0435\u043b\u043e\u0432\u043e\u0439 \u0440\u0435\u043f\u0443\u0442\u0430\u0446\u0438\u0438: \u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u0438\u0435, \u043f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u044f, \u043a\u0432\u0430\u043b\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f (\u0432\u043a\u043b\u044e\u0447\u0430\u044f \u043f\u043e\u0432\u044b\u0448\u0435\u043d\u0438\u0435 \u043a\u0432\u0430\u043b\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438), \u0434\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c, \u0443\u0447\u0435\u043d\u0430\u044f \u0441\u0442\u0435\u043f\u0435\u043d\u044c, \u0443\u0447\u0435\u043d\u043e\u0435 \u0437\u0432\u0430\u043d\u0438\u0435, \u0447\u043b\u0435\u043d\u0441\u0442\u0432\u043e \u0432 \u043f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0445 \u043f\u0430\u043b\u0430\u0442\u0430\u0445/\u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f\u0445, \u0432\u043b\u0430\u0434\u0435\u043d\u0438\u0435 \u0438\u043d\u043e\u0441\u0442\u0440\u0430\u043d\u043d\u044b\u043c\u0438 \u044f\u0437\u044b\u043a\u0430\u043c\u0438 \u0438 \u0434\u0440\u0443\u0433\u0438\u0435 \u0441\u0432\u0435\u0434\u0435\u043d\u0438\u044f; \u0434\u0430\u043d\u043d\u044b\u0435 \u0441\u0432\u0438\u0434\u0435\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430 \u043e \u0433\u043e\u0441\u0443\u0434\u0430\u0440\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0439 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438 \u0438\u043d\u0434\u0438\u0432\u0438\u0434\u0443\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u043f\u0440\u0435\u0434\u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0442\u0435\u043b\u044f, \u0434\u0430\u043d\u043d\u044b\u0435 \u043b\u0438\u0446\u0435\u043d\u0437\u0438\u0438 \u043d\u0430 \u043e\u0441\u0443\u0449\u0435\u0441\u0442\u0432\u043b\u0435\u043d\u0438\u0435 \u043b\u0438\u0446\u0435\u043d\u0437\u0438\u0440\u0443\u0435\u043c\u043e\u0439 \u0434\u0435\u044f\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438, \u0430\u0442\u0442\u0435\u0441\u0442\u0430\u0442\u043e\u0432, \u043f\u0430\u0442\u0435\u043d\u0442\u043e\u0432, \u0434\u0438\u043f\u043b\u043e\u043c\u043e\u0432, \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0432; \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u043d\u0430\u043b\u0438\u0447\u0438\u0438/\u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0438\u0438 \u0441\u0443\u0434\u0438\u043c\u043e\u0441\u0442\u0438, \u043f\u0440\u0438\u0432\u043b\u0435\u0447\u0435\u043d\u0438\u0438 \u043a \u0443\u0433\u043e\u043b\u043e\u0432\u043d\u043e\u0439/\u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u0438\u0432\u043d\u043e\u0439 \u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0441\u0442\u0438; "),n.Tb(),n.Ub(109,"p"),n.Dc(110," 7) \u0441\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u043e \u043a\u0440\u0435\u0434\u0438\u0442\u043d\u043e\u0439 (\u0438\u043d\u043e\u0439) \u0438\u0441\u0442\u043e\u0440\u0438\u0438 \u0441\u0443\u0431\u044a\u0435\u043a\u0442\u0430, \u0441\u0432\u0435\u0434\u0435\u043d\u0438\u044f, \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0435 \u0434\u043b\u044f \u043e\u0446\u0435\u043d\u043a\u0438 \u043f\u043b\u0430\u0442\u0435\u0436\u0435\u0441\u043f\u043e\u0441\u043e\u0431\u043d\u043e\u0441\u0442\u0438 \u0441\u0443\u0431\u044a\u0435\u043a\u0442\u0430 (\u043f\u0435\u043d\u0441\u0438\u043e\u043d\u043d\u044b\u0435 \u043e\u0442\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u044f, \u0441\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u043e \u0434\u043e\u0445\u043e\u0434\u0430\u0445 \u0438 \u0440\u0430\u0441\u0445\u043e\u0434\u0430\u0445 \u0438 \u043f\u0440.); \u0441\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u043e \u043d\u0430\u043b\u0438\u0447\u0438\u0438/\u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0438\u0438 \u0431\u0430\u043d\u043a\u043e\u0432\u0441\u043a\u0438\u0445\u0441\u0447\u0435\u0442\u043e\u0432 (\u043d\u043e\u043c\u0435\u0440\u0430 \u0442\u0435\u043a\u0443\u0449\u0438\u0445 \u0438 \u0441\u0431\u0435\u0440\u0435\u0433\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u0441\u0447\u0435\u0442\u043e\u0432, \u0432 \u0442\u043e\u043c \u0447\u0438\u0441\u043b\u0435 \u0441\u0447\u0435\u0442\u0430, \u0438\u043c\u0435\u044e\u0449\u0438\u0435 \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0435 \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435,, \u0432\u0438\u0434, \u0441\u0440\u043e\u043a \u0440\u0430\u0437\u043c\u0435\u0449\u0435\u043d\u0438\u044f, \u0441\u0443\u043c\u043c\u0430, \u0443\u0441\u043b\u043e\u0432\u0438\u044f \u0432\u043a\u043b\u0430\u0434\u0430 \u0438 \u0434\u0440\u0443\u0433\u0438\u0435 \u0441\u0432\u0435\u0434\u0435\u043d\u0438\u044f); \u0441\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u043e \u043d\u0430\u043b\u0438\u0447\u0438\u0438/\u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0438\u0438 \u043a\u0440\u0435\u0434\u0438\u0442\u043e\u0432 (\u0437\u0430\u0439\u043c\u043e\u0432), \u0434\u0435\u043d\u0435\u0436\u043d\u044b\u0445 \u0441\u0440\u0435\u0434\u0441\u0442\u0432 \u0438 \u0446\u0435\u043d\u043d\u044b\u0445 \u0431\u0443\u043c\u0430\u0433, \u0432 \u0442\u043e\u043c \u0447\u0438\u0441\u043b\u0435 \u0432 \u0434\u043e\u0432\u0435\u0440\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u043c \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0438 \u0438 \u043d\u0430 \u0434\u043e\u0432\u0435\u0440\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u043c \u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0438; "),n.Tb(),n.Ub(111,"p"),n.Dc(112," 8) \u0441\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u043e\u0431 \u0438\u043c\u0443\u0449\u0435\u0441\u0442\u0432\u0435 (\u0438\u043c\u0443\u0449\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u043c) \u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u0438: \u0441\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u043e\u0431 \u0438\u043c\u0443\u0449\u0435\u0441\u0442\u0432\u0435 \u0441\u0443\u0431\u044a\u0435\u043a\u0442\u0430 \u0438/\u0438\u043b\u0438 \u0438\u043c\u0443\u0449\u0435\u0441\u0442\u0432\u0435 \u0442\u0440\u0435\u0442\u044c\u0438\u0445 \u043b\u0438\u0446, \u043a\u043e\u0442\u043e\u0440\u043e\u0435 \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0435\u043d\u0438\u0435\u043c \u043f\u043e \u043a\u0440\u0435\u0434\u0438\u0442\u0443 (\u0437\u0430\u0439\u043c\u0443), \u0430 \u0442\u0430\u043a\u0436\u0435 \u043e\u0431 \u0438\u043d\u043e\u043c (\u043b\u044e\u0431\u043e\u043c) \u0438\u043c\u0443\u0449\u0435\u0441\u0442\u0432\u0435 \u0441\u0443\u0431\u044a\u0435\u043a\u0442\u0430, \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 (\u0444\u043e\u0442\u043e) \u0442\u0430\u043a\u043e\u0433\u043e (\u043b\u044e\u0431\u043e\u0433\u043e) \u0438\u043c\u0443\u0449\u0435\u0441\u0442\u0432\u0430 \u0432 \u043b\u044e\u0431\u043e\u043c \u0444\u043e\u0440\u043c\u0430\u0442\u0435 \u0438 \u0442.\u0434., \u0441\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u043e \u043d\u0430\u043b\u0438\u0447\u0438\u0438/\u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0438\u0438 \u043e\u0431\u0440\u0435\u043c\u0435\u043d\u0435\u043d\u0438\u0439 (\u0430\u0440\u0435\u0441\u0442\u0435) \u0438 \u043f\u0440\u0438\u0442\u044f\u0437\u0430\u043d\u0438\u0439 \u043d\u0430 \u0438\u043c\u0443\u0449\u0435\u0441\u0442\u0432\u043e; \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435, \u0434\u0430\u043d\u043d\u044b\u0435 \u043e \u043d\u0430\u043b\u0438\u0447\u0438\u0438 (\u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0438\u0438) \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438, \u043e\u0431\u0440\u0435\u043c\u0435\u043d\u0435\u043d\u0438\u0439, \u043f\u0440\u0438\u0442\u044f\u0437\u0430\u043d\u0438\u0439; \u043e\u0431\u0449\u0438\u0435 \u0445\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a\u0438 \u0438\u043c\u0443\u0449\u0435\u0441\u0442\u0432\u0430; \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c; \u0430\u0434\u0440\u0435\u0441 (\u043c\u0435\u0441\u0442\u043e\u043d\u0430\u0445\u043e\u0436\u0434\u0435\u043d\u0438\u044f) \u0438\u043c\u0443\u0449\u0435\u0441\u0442\u0432\u0430, \u0434\u0430\u043d\u043d\u044b\u0435 \u0433\u043e\u0441\u0443\u0434\u0430\u0440\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0439 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438 \u0438 \u0434\u0440\u0443\u0433\u0438\u0435 \u0441\u0432\u0435\u0434\u0435\u043d\u0438\u044f); "),n.Tb(),n.Ub(113,"p"),n.Dc(114," 9) \u0438\u043d\u044b\u0435 \u0441\u0432\u0435\u0434\u0435\u043d\u0438\u044f, \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0435 \u041a\u043e\u043c\u043f\u0430\u043d\u0438\u0438, \u0432 \u0442\u043e\u043c \u0447\u0438\u0441\u043b\u0435 \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u0430\u043d\u043a\u0435\u0442\u044b, \u0444\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0434\u043e\u0441\u044c\u0435 (\u043a\u0440\u0435\u0434\u0438\u0442\u043d\u043e\u0433\u043e \u0434\u043e\u0441\u044c\u0435, \u043a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u043e\u0433\u043e/\u043b\u0438\u0447\u043d\u043e\u0433\u043e \u0434\u0435\u043b\u0430) \u0432 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0438\u0438 \u0441 \u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u044f\u043c\u0438 \u0437\u0430\u043a\u043e\u043d\u043e\u0434\u0430\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430 \u0420\u0435\u0441\u043f\u0443\u0431\u043b\u0438\u043a\u0438 \u041a\u0430\u0437\u0430\u0445\u0441\u0442\u0430\u043d \u0438 \u0432\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u0438\u0445 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432 \u041a\u043e\u043c\u043f\u0430\u043d\u0438\u0438 (\u0432 \u0442\u043e\u043c \u0447\u0438\u0441\u043b\u0435, \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e\u0431 \u0443\u0447\u0430\u0441\u0442\u0438\u0438 \u0441\u0443\u0431\u044a\u0435\u043a\u0442\u0430 \u0432 \u043a\u0430\u043f\u0438\u0442\u0430\u043b\u0435 \u044e\u0440\u0438\u0434\u0438\u0447\u0435\u0441\u043a\u0438\u0445 \u043b\u0438\u0446 \u2013 \u0434\u043e\u043b\u044f \u0443\u0447\u0430\u0441\u0442\u0438\u044f, \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e (\u0434\u043e\u043b\u044f) \u0430\u043a\u0446\u0438\u0439; \u0437\u0430\u043d\u0438\u043c\u0430\u0435\u043c\u044b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u0438, \u0430 \u0442\u0430\u043a\u0436\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e\u0431 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0438 \u0438/\u0438\u043b\u0438 \u0434\u043e\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0438 \u0442\u0430\u043a\u0438\u0445 \u0434\u0430\u043d\u043d\u044b\u0445; \u043f\u0435\u0440\u0435\u0447\u0435\u043d\u044c \u044e\u0440\u0438\u0434\u0438\u0447\u0435\u0441\u043a\u0438\u0445 \u0438 \u0444\u0438\u0437\u0438\u0447\u0435\u0441\u043a\u0438\u0445 \u043b\u0438\u0446, \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u0438\u0442\u0435\u043b\u0435\u043c \u043a\u043e\u0442\u043e\u0440\u044b\u0445 \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0441\u0443\u0431\u044a\u0435\u043a\u0442, \u0441\u0432\u0435\u0434\u0435\u043d\u0438\u044f, \u0433\u0430\u0440\u0430\u043d\u0442\u043e\u043c/\u043f\u043e\u0440\u0443\u0447\u0438\u0442\u0435\u043b\u0435\u043c/\u0441\u043e\u0437\u0430\u0435\u043c\u0449\u0438\u043a\u043e\u043c \u0442\u0440\u0435\u0442\u044c\u0438\u0445 \u043b\u0438\u0446); "),n.Tb(),n.Ub(115,"p"),n.Dc(116," 10) \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e\u0431 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0438 \u0438 (\u0438\u043b\u0438) \u0434\u043e\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0438 \u0432\u044b\u0448\u0435\u0443\u043a\u0430\u0437\u0430\u043d\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445, "),n.Ub(117,"strong"),n.Dc(118,"\u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c\u0430\u044f \u0432 \u043d\u0438\u0436\u0435\u0443\u043a\u0430\u0437\u0430\u043d\u043d\u044b\u0445 \u0446\u0435\u043b\u044f\u0445:"),n.Tb(),n.Tb(),n.Ub(119,"div",20),n.Ub(120,"p"),n.Dc(121," 1) \u0434\u043b\u044f \u0440\u0430\u0441\u0441\u043c\u043e\u0442\u0440\u0435\u043d\u0438\u044f \u0437\u0430\u044f\u0432\u043a\u0438 \u0441\u0443\u0431\u044a\u0435\u043a\u0442\u0430 (\u0437\u0430\u044f\u0432\u043a\u0438 \u043b\u0438\u0446\u0430, \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u0438\u0442\u0435\u043b\u0435\u043c \u043a\u043e\u0442\u043e\u0440\u043e\u0433\u043e \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0441\u0443\u0431\u044a\u0435\u043a\u0442) \u043d\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u0443\u0441\u043b\u0443\u0433, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043c\u043e\u0433\u0443\u0442 \u0431\u044b\u0442\u044c \u043e\u043a\u0430\u0437\u0430\u043d\u044b \u041a\u043e\u043c\u043f\u0430\u043d\u0438\u0435\u0439 \u0432 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0438\u0438 \u0441 \u0437\u0430\u043a\u043e\u043d\u043e\u0434\u0430\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e\u043c \u0420\u0435\u0441\u043f\u0443\u0431\u043b\u0438\u043a\u0438 \u041a\u0430\u0437\u0430\u0445\u0441\u0442\u0430\u043d; "),n.Tb(),n.Ub(122,"p"),n.Dc(123," 2) \u0434\u043b\u044f \u043e\u043a\u0430\u0437\u0430\u043d\u0438\u044f \u0441\u0443\u0431\u044a\u0435\u043a\u0442\u0443 (\u043b\u0438\u0446\u0443, \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u0438\u0442\u0435\u043b\u0435\u043c \u043a\u043e\u0442\u043e\u0440\u043e\u0433\u043e \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0441\u0443\u0431\u044a\u0435\u043a\u0442) \u0443\u0441\u043b\u0443\u0433, \u043f\u0440\u0435\u0434\u0443\u0441\u043c\u043e\u0442\u0440\u0435\u043d\u043d\u044b\u0445 \u0437\u0430\u043a\u043e\u043d\u043e\u0434\u0430\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e\u043c \u0420\u0435\u0441\u043f\u0443\u0431\u043b\u0438\u043a\u0438 \u041a\u0430\u0437\u0430\u0445\u0441\u0442\u0430\u043d, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0431\u0443\u0434\u0443\u0442 \u043e\u043a\u0430\u0437\u0430\u043d\u044b \u0441\u0443\u0431\u044a\u0435\u043a\u0442\u0443 (\u043b\u0438\u0446\u0443, \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u0438\u0442\u0435\u043b\u0435\u043c \u043a\u043e\u0442\u043e\u0440\u043e\u0433\u043e \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0441\u0443\u0431\u044a\u0435\u043a\u0442) \u041a\u043e\u043c\u043f\u0430\u043d\u0438\u0435\u0439 \u043d\u0430 \u0443\u0441\u043b\u043e\u0432\u0438\u044f\u0445 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0445 \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u043e\u0432 (\u0441\u043e\u0433\u043b\u0430\u0448\u0435\u043d\u0438\u0439); "),n.Tb(),n.Ub(124,"p"),n.Dc(125," 3) \u0434\u043b\u044f \u0440\u0430\u0441\u0441\u043c\u043e\u0442\u0440\u0435\u043d\u0438\u044f \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438 \u0437\u0430\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u0438 \u0437\u0430\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u0441\u0434\u0435\u043b\u043e\u043a \u0441 \u041a\u043e\u043c\u043f\u0430\u043d\u0438\u0435\u0439, \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u041a\u043e\u043c\u043f\u0430\u043d\u0438\u0435\u0439 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u044b\u0445 \u0441\u0443\u0431\u044a\u0435\u043a\u0442\u043e\u043c \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0439 (\u0438\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u0439); "),n.Tb(),n.Ub(126,"p"),n.Dc(127," 4) \u0434\u043b\u044f \u0432\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u0435\u0433\u043e \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044f \u0438 \u0443\u0447\u0435\u0442\u0430 \u041a\u043e\u043c\u043f\u0430\u043d\u0438\u0435\u0439, \u0430 \u0442\u0430\u043a\u0436\u0435 \u0434\u043b\u044f \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044f \u0438 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u044f \u043d\u0430\u0434\u043b\u0435\u0436\u0430\u0449\u0435\u0433\u043e \u0438\u0441\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u0441\u0443\u0431\u044a\u0435\u043a\u0442\u043e\u043c (\u043b\u0438\u0446\u043e\u043c, \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u0438\u0442\u0435\u043b\u0435\u043c \u043a\u043e\u0442\u043e\u0440\u043e\u0433\u043e \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0441\u0443\u0431\u044a\u0435\u043a\u0442) \u0438 \u041a\u043e\u043c\u043f\u0430\u043d\u0438\u0435\u0439 \u0441\u0432\u043e\u0438\u0445 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u0441\u0442\u0432, \u043f\u043e \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u043c \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u0430\u043c (\u0441\u043e\u0433\u043b\u0430\u0448\u0435\u043d\u0438\u044f\u043c); "),n.Tb(),n.Ub(128,"p"),n.Dc(129," 5) \u0434\u043b\u044f \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u043e\u0431\u044f\u0437\u0430\u043d\u043d\u043e\u0441\u0442\u0438 \u043f\u043e \u043d\u0430\u0434\u043b\u0435\u0436\u0430\u0449\u0435\u0439 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0435 \u041a\u043e\u043c\u043f\u0430\u043d\u0438\u0435\u0439 (\u043a\u0430\u043a \u0441\u0443\u0431\u044a\u0435\u043a\u0442\u043e\u043c \u0444\u0438\u043d\u0430\u043d\u0441\u043e\u0432\u043e\u0433\u043e \u043c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433\u0430) \u0441\u0432\u043e\u0435\u0433\u043e \u043a\u043b\u0438\u0435\u043d\u0442\u0430 \u043f\u0440\u0438 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0438 \u0434\u0435\u043b\u043e\u0432\u044b\u0445 \u043e\u0442\u043d\u043e\u0448\u0435\u043d\u0438\u0439 \u0438 \u043e\u0441\u0443\u0449\u0435\u0441\u0442\u0432\u043b\u0435\u043d\u0438\u0438 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0439 \u043a\u043b\u0438\u0435\u043d\u0442\u0430 \u0432 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0438\u0438 \u0441 \u0437\u0430\u043a\u043e\u043d\u043e\u0434\u0430\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e\u043c \u0420\u0435\u0441\u043f\u0443\u0431\u043b\u0438\u043a\u0438 \u041a\u0430\u0437\u0430\u0445\u0441\u0442\u0430\u043d, \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u0444\u0443\u043d\u043a\u0446\u0438\u0439 \u0432\u0430\u043b\u044e\u0442\u043d\u043e\u0433\u043e \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044f; "),n.Tb(),n.Ub(130,"p"),n.Dc(131," 6) \u0434\u043b\u044f \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u041a\u043e\u043c\u043f\u0430\u043d\u0438\u0435\u0439 \u043e\u0431\u044f\u0437\u0430\u043d\u043d\u043e\u0441\u0442\u0438 \u043f\u043e \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438 \u043a\u043b\u0438\u0435\u043d\u0442\u0430 \u0432 \u0446\u0435\u043b\u044f\u0445 \u043c\u0438\u043d\u0438\u043c\u0438\u0437\u0430\u0446\u0438\u0438 \u0440\u0438\u0441\u043a\u0430 \u043d\u0435\u0441\u0430\u043d\u043a\u0446\u0438\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0445 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0439 \u0432 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0438\u0438 \u0441 \u0437\u0430\u043a\u043e\u043d\u043e\u0434\u0430\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e\u043c \u0420\u0435\u0441\u043f\u0443\u0431\u043b\u0438\u043a\u0438 \u041a\u0430\u0437\u0430\u0445\u0441\u0442\u0430\u043d; "),n.Tb(),n.Ub(132,"p"),n.Dc(133," 7) \u0434\u043b\u044f \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u041a\u043e\u043c\u043f\u0430\u043d\u0438\u0435\u0439 \u043e\u0431\u044f\u0437\u0430\u043d\u043d\u043e\u0441\u0442\u0438 \u043f\u043e \u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044e \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432, \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u043e\u0432, \u0434\u043e\u0441\u044c\u0435, \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044b\u0445 \u041d\u0430\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u043c \u0411\u0430\u043d\u043a\u043e\u043c \u0420\u0435\u0441\u043f\u0443\u0431\u043b\u0438\u043a\u0438 \u041a\u0430\u0437\u0430\u0445\u0441\u0442\u0430\u043d, \u0430 \u0442\u0430\u043a\u0436\u0435 \u0438\u043d\u044b\u043c\u0438 \u043d\u043e\u0440\u043c\u0430\u0442\u0438\u0432\u043d\u044b\u043c\u0438 \u043f\u0440\u0430\u0432\u043e\u0432\u044b\u043c\u0438 \u0430\u043a\u0442\u0430\u043c\u0438 \u0420\u0435\u0441\u043f\u0443\u0431\u043b\u0438\u043a\u0438 \u041a\u0430\u0437\u0430\u0445\u0441\u0442\u0430\u043d; "),n.Tb(),n.Ub(134,"p"),n.Dc(135," 8) \u0434\u043b\u044f \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u044f \u043e\u0441\u0443\u0449\u0435\u0441\u0442\u0432\u043b\u0435\u043d\u0438\u044f \u043c\u0435\u0436\u0434\u0443 \u041a\u043e\u043c\u043f\u0430\u043d\u0438\u0435\u0439 \u0438 \u0441\u0443\u0431\u044a\u0435\u043a\u0442\u043e\u043c (\u043b\u0438\u0446\u043e\u043c, \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u0438\u0442\u0435\u043b\u0435\u043c \u043a\u043e\u0442\u043e\u0440\u043e\u0433\u043e \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0441\u0443\u0431\u044a\u0435\u043a\u0442) \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0439 \u043f\u043e \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u043c \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u0430\u043c (\u0441\u043e\u0433\u043b\u0430\u0448\u0435\u043d\u0438\u044f\u043c) \u043f\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0443 \u0441\u0443\u0431\u044a\u0435\u043a\u0442\u0430 \u0438/\u0438\u043b\u0438 \u0442\u0440\u0435\u0442\u044c\u0438\u0445 \u043b\u0438\u0446, \u0438\u043c\u0435\u044e\u0449\u0438\u0445 \u0442\u0430\u043a\u043e\u0435 \u043f\u0440\u0430\u0432\u043e \u0432 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0438\u0438 \u0441 \u0437\u0430\u043a\u043e\u043d\u043e\u0434\u0430\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e\u043c \u0420\u0435\u0441\u043f\u0443\u0431\u043b\u0438\u043a\u0438 \u041a\u0430\u0437\u0430\u0445\u0441\u0442\u0430\u043d; "),n.Tb(),n.Ub(136,"p"),n.Dc(137," 9) \u0434\u043b\u044f \u0441\u0443\u0434\u0435\u0431\u043d\u043e\u0439 \u0438 \u0432\u043d\u0435\u0441\u0443\u0434\u0435\u0431\u043d\u043e\u0439 \u0437\u0430\u0449\u0438\u0442\u044b \u043f\u0440\u0430\u0432 \u041a\u043e\u043c\u043f\u0430\u043d\u0438\u0438: (i) \u0432 \u0441\u043b\u0443\u0447\u0430\u0435 \u043d\u0430\u0440\u0443\u0448\u0435\u043d\u0438\u044f \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u0441\u0442\u0432 \u043f\u043e \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u043c \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u0430\u043c (\u0441\u043e\u0433\u043b\u0430\u0448\u0435\u043d\u0438\u044f\u043c), \u043d\u0435\u0438\u0441\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u0441\u0443\u0434\u0435\u0431\u043d\u044b\u0445 \u0440\u0435\u0448\u0435\u043d\u0438\u0439; (ii) \u0432 \u0441\u043b\u0443\u0447\u0430\u0435 \u0432\u043e\u0437\u043d\u0438\u043a\u043d\u043e\u0432\u0435\u043d\u0438\u044f \u0441\u043f\u043e\u0440\u043d\u044b\u0445 \u0441\u0438\u0442\u0443\u0430\u0446\u0438\u0439, \u0432\u043a\u043b\u044e\u0447\u0430\u044f \u0441\u043f\u043e\u0440\u043d\u044b\u0435 \u0441\u0438\u0442\u0443\u0430\u0446\u0438\u0438 \u0441 \u0442\u0440\u0435\u0442\u044c\u0438\u043c\u0438 \u043b\u0438\u0446\u0430\u043c\u0438; "),n.Tb(),n.Ub(138,"p"),n.Dc(139," 10) \u0434\u043b\u044f \u0446\u0435\u043b\u0435\u0439 \u0440\u0430\u0431\u043e\u0442\u044b \u041a\u043e\u043c\u043f\u0430\u043d\u0438\u0438 \u0441 \u043a\u043e\u043b\u043b\u0435\u043a\u0442\u043e\u0440\u0441\u043a\u0438\u043c\u0438 \u0430\u0433\u0435\u043d\u0442\u0441\u0442\u0432\u0430\u043c\u0438 \u0438/\u0438\u043b\u0438 \u0438\u043d\u044b\u043c\u0438 \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u043c\u0438 \u043b\u0438\u0446\u0430\u043c\u0438 \u0438\u043b\u0438 \u0440\u0430\u0431\u043e\u0442\u043d\u0438\u043a\u0430\u043c\u0438/\u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u0438\u0442\u0435\u043b\u044f\u043c\u0438 \u041a\u043e\u043c\u043f\u0430\u043d\u0438\u0438, \u043a\u043e\u0442\u043e\u0440\u044b\u043c \u0431\u0443\u0434\u0435\u0442 \u043f\u043e\u0440\u0443\u0447\u0435\u043d\u043e \u043e\u0441\u0443\u0449\u0435\u0441\u0442\u0432\u043b\u044f\u0442\u044c \u043c\u0435\u0440\u043e\u043f\u0440\u0438\u044f\u0442\u0438\u044f \u043f\u043e \u0432\u0437\u044b\u0441\u043a\u0430\u043d\u0438\u044e \u0437\u0430\u0434\u043e\u043b\u0436\u0435\u043d\u043d\u043e\u0441\u0442\u0438 \u043f\u043e \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u043c \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u0430\u043c (\u0441\u043e\u0433\u043b\u0430\u0448\u0435\u043d\u0438\u044f\u043c), \u0432 \u0441\u043b\u0443\u0447\u0430\u0435 \u043d\u0430\u0440\u0443\u0448\u0435\u043d\u0438\u044f \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u0441\u0442\u0432 \u043f\u043e \u0442\u0430\u043a\u0438\u043c \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u0430\u043c (\u0441\u043e\u0433\u043b\u0430\u0448\u0435\u043d\u0438\u044f\u043c), \u0430 \u0442\u0430\u043a\u0436\u0435 \u043f\u0440\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u0442\u043e\u0440\u0433\u043e\u0432, \u0441\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0445 \u0441 \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0435\u0439 \u0437\u0430\u043b\u043e\u0436\u0435\u043d\u043d\u043e\u0433\u043e \u0438\u043c\u0443\u0449\u0435\u0441\u0442\u0432\u0430; "),n.Tb(),n.Ub(140,"p"),n.Dc(141," 11) \u0434\u043b\u044f \u0440\u0430\u0437\u043c\u0435\u0449\u0435\u043d\u0438\u044f \u043f\u0443\u0431\u043b\u0438\u0447\u043d\u044b\u0445 (\u0440\u0430\u0441\u043a\u0440\u044b\u0442\u044b\u0445) \u0434\u0430\u043d\u043d\u044b\u0445 \u0438 \u0441\u0432\u0435\u0434\u0435\u043d\u0438\u0439 \u0432 \u0441\u0440\u0435\u0434\u0441\u0442\u0432\u0430\u0445 \u043c\u0430\u0441\u0441\u043e\u0432\u043e\u0439 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u0441 \u0441\u043e\u0431\u043b\u044e\u0434\u0435\u043d\u0438\u0435\u043c \u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u0439 \u0437\u0430\u043a\u043e\u043d\u043e\u0434\u0430\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430 \u0420\u0435\u0441\u043f\u0443\u0431\u043b\u0438\u043a\u0438 \u041a\u0430\u0437\u0430\u0445\u0441\u0442\u0430\u043d; "),n.Tb(),n.Ub(142,"p"),n.Dc(143," 12) \u0434\u043b\u044f \u0440\u0430\u0441\u0447\u0435\u0442\u0430 \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u0440\u0430\u0437\u043c\u0435\u0440\u0430 \u0440\u0438\u0441\u043a\u0430 \u043d\u0430 \u043e\u0434\u043d\u043e\u0433\u043e \u0437\u0430\u0435\u043c\u0449\u0438\u043a\u0430 \u0438 \u0441\u043e\u0431\u043b\u044e\u0434\u0435\u043d\u0438\u044f \u043f\u0440\u0443\u0434\u0435\u043d\u0446\u0438\u0430\u043b\u044c\u043d\u044b\u0445 \u0438 \u0438\u043d\u044b\u0445 \u043d\u043e\u0440\u043c\u0430\u0442\u0438\u0432\u043e\u0432 \u0438 \u043b\u0438\u043c\u0438\u0442\u043e\u0432, \u0438 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438 \xab\u043f\u0440\u043e\u0437\u0440\u0430\u0447\u043d\u043e\u0441\u0442\u0438\xbb; "),n.Tb(),n.Ub(144,"p"),n.Dc(145," 13) \u0434\u043b\u044f \u0432\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f \u041a\u043e\u043c\u043f\u0430\u043d\u0438\u0438 \u0441 \u0442\u0440\u0435\u0442\u044c\u0438\u043c\u0438 \u043b\u0438\u0446\u0430\u043c\u0438 (\u0434\u043b\u044f \u0432\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f \u0442\u0440\u0435\u0442\u044c\u0438\u0445 \u043b\u0438\u0446 \u0434\u0440\u0443\u0433 \u0441 \u0434\u0440\u0443\u0433\u043e\u043c), \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0438\u043c\u0435\u044e\u0442 \u0438/\u0438\u043b\u0438 \u043c\u043e\u0433\u0443\u0442 \u0438\u043c\u0435\u0442\u044c \u043e\u0442\u043d\u043e\u0448\u0435\u043d\u0438\u044f \u043a \u0437\u0430\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044e \u0438/\u0438\u043b\u0438 \u0438\u0441\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044e \u0438/\u0438\u043b\u0438 \u043e\u0431\u0441\u043b\u0443\u0436\u0438\u0432\u0430\u043d\u0438\u044e \u043b\u044e\u0431\u044b\u0445 \u0441\u0434\u0435\u043b\u043e\u043a/\u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0439, \u0437\u0430\u043a\u043b\u044e\u0447\u0435\u043d\u043d\u044b\u0445 (\u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0431\u0443\u0434\u0443\u0442 \u0437\u0430\u043a\u043b\u044e\u0447\u0435\u043d\u044b) \u043c\u0435\u0436\u0434\u0443 \u0441\u0443\u0431\u044a\u0435\u043a\u0442\u043e\u043c (\u043b\u0438\u0446\u043e\u043c, \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u0438\u0442\u0435\u043b\u0435\u043c \u043a\u043e\u0442\u043e\u0440\u043e\u0433\u043e \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0441\u0443\u0431\u044a\u0435\u043a\u0442) \u0438 \u041a\u043e\u043c\u043f\u0430\u043d\u0438\u0435\u0439; "),n.Tb(),n.Ub(146,"p"),n.Dc(147," 14) \u0434\u043b\u044f \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043e\u0442\u0447\u0435\u0442\u043d\u043e\u0441\u0442\u0438 \u0438/\u0438\u043b\u0438 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u0432 \u0443\u043f\u043e\u043b\u043d\u043e\u043c\u043e\u0447\u0435\u043d\u043d\u044b\u0435 \u043e\u0440\u0433\u0430\u043d\u044b, \u0430\u0443\u0434\u0438\u0442\u043e\u0440\u0441\u043a\u0438\u043c, \u043e\u0446\u0435\u043d\u043e\u0447\u043d\u044b\u043c \u0438 \u0438\u043d\u044b\u043c \u043a\u043e\u043c\u043f\u0435\u0442\u0435\u043d\u0442\u043d\u044b\u043c \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f\u043c, \u0433\u043e\u0441\u0443\u0434\u0430\u0440\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u043c \u0438 \u0447\u0430\u0441\u0442\u043d\u044b\u043c \u043a\u0440\u0435\u0434\u0438\u0442\u043d\u044b\u043c \u0431\u044e\u0440\u043e; "),n.Tb(),n.Ub(148,"p"),n.Dc(149,"15) \u0434\u043b\u044f \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438, \u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u0438 \u043f\u0440\u0438\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0445 \u043c\u043e\u0434\u0435\u043b\u0435\u0439;"),n.Tb(),n.Ub(150,"p"),n.Dc(151," 16) \u0434\u043b\u044f \u043e\u0431\u043c\u0435\u043d\u0430 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0435\u0439, \u0432 \u0442\u043e\u043c \u0447\u0438\u0441\u043b\u0435 \u0434\u043b\u044f \u0440\u0430\u0441\u0441\u043c\u043e\u0442\u0440\u0435\u043d\u0438\u044f \u0438/\u0438\u043b\u0438 \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043e\u0442\u0447\u0435\u0442\u043e\u0432 \u043d\u0430 \u043e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u044f \u0441\u0443\u0431\u044a\u0435\u043a\u0442\u0430 (\u0438/\u0438\u043b\u0438 \u0442\u0440\u0435\u0442\u044c\u0438\u0445 \u043b\u0438\u0446), \u0436\u0430\u043b\u043e\u0431\u044b, \u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u044f, \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0430\u0446\u0438\u0438, \u043f\u0440\u0435\u0442\u0435\u043d\u0437\u0438\u0438, \u043f\u043e\u0440\u0443\u0447\u0435\u043d\u0438\u044f \u0438 \u0442.\u0434., \u043f\u0435\u0440\u0435\u0434\u0430\u0447\u0438 (\u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f) \u043a\u043e\u0440\u0440\u0435\u0441\u043f\u043e\u043d\u0434\u0435\u043d\u0446\u0438\u0438 (\u043f\u043e\u0447\u0442\u044b) \u0432 \u0430\u0434\u0440\u0435\u0441 \u0441\u0443\u0431\u044a\u0435\u043a\u0442\u0430 (\u0432 \u0430\u0434\u0440\u0435\u0441 \u043b\u0438\u0446\u0430, \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u0438\u0442\u0435\u043b\u0435\u043c \u043a\u043e\u0442\u043e\u0440\u043e\u0433\u043e \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0441\u0443\u0431\u044a\u0435\u043a\u0442) \u0434\u043b\u044f \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 (\u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438)/\u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u043f\u043e\u0441\u0440\u0435\u0434\u0441\u0442\u0432\u043e\u043c \u0443\u0441\u043b\u0443\u0433 \u043a\u0443\u0440\u044c\u0435\u0440\u0430, \u043a\u0443\u0440\u044c\u0435\u0440\u0441\u043a\u043e\u0439 \u0441\u043b\u0443\u0436\u0431\u044b, \u044d\u043a\u0441\u043f\u0440\u0435\u0441\u0441 \u043f\u043e\u0447\u0442\u044b \u0438 \u0442.\u0434.; "),n.Tb(),n.Ub(152,"p"),n.Dc(153," 17) \u0434\u043b\u044f \u0443\u0441\u0442\u0443\u043f\u043a\u0438 \u041a\u043e\u043c\u043f\u0430\u043d\u0438\u0435\u0439 \u043f\u0440\u0430\u0432 \u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u044f \u043f\u043e \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u0430\u043c (\u0441\u043e\u0433\u043b\u0430\u0448\u0435\u043d\u0438\u044f\u043c), \u0437\u0430\u043a\u043b\u044e\u0447\u0435\u043d\u043d\u044b\u043c \u043c\u0435\u0436\u0434\u0443 \u0441\u0443\u0431\u044a\u0435\u043a\u0442\u043e\u043c (\u043b\u0438\u0446\u043e\u043c, \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u0438\u0442\u0435\u043b\u0435\u043c \u043a\u043e\u0442\u043e\u0440\u043e\u0433\u043e \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0441\u0443\u0431\u044a\u0435\u043a\u0442) \u0438 \u041a\u043e\u043c\u043f\u0430\u043d\u0438\u0435\u0439, \u0435\u0441\u043b\u0438 \u0442\u0430\u043a\u0430\u044f \u0443\u0441\u0442\u0443\u043f\u043a\u0430 \u043f\u0440\u0435\u0434\u0443\u0441\u043c\u043e\u0442\u0440\u0435\u043d\u0430 \u0443\u0441\u043b\u043e\u0432\u0438\u044f\u043c\u0438 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0445 \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u043e\u0432 (\u0441\u043e\u0433\u043b\u0430\u0448\u0435\u043d\u0438\u0439), \u0437\u0430\u043a\u043b\u044e\u0447\u0435\u043d\u043d\u044b\u0445 \u043c\u0435\u0436\u0434\u0443 \u0441\u0443\u0431\u044a\u0435\u043a\u0442\u043e\u043c (\u043b\u0438\u0446\u043e\u043c \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u0438\u0442\u0435\u043b\u0435\u043c \u043a\u043e\u0442\u043e\u0440\u043e\u0433\u043e \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0441\u0443\u0431\u044a\u0435\u043a\u0442) \u0438 \u041a\u043e\u043c\u043f\u0430\u043d\u0438\u0439 (\u0430 \u0442\u0430\u043a\u0436\u0435 \u0434\u043b\u044f \u0446\u0435\u043b\u0435\u0439 \u0437\u0430\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u0438/\u0438\u043b\u0438 \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438 \u041a\u043e\u043c\u043f\u0430\u043d\u0438\u0435\u0439 \u0441\u0434\u0435\u043b\u043a\u0438(-\u043e\u043a) \u0441\u0435\u043a\u044c\u044e\u0440\u0438\u0442\u0438\u0437\u0430\u0446\u0438\u0438; "),n.Tb(),n.Ub(154,"p"),n.Dc(155," 18) \u0434\u043b\u044f \u043c\u0430\u0440\u043a\u0435\u0442\u0438\u043d\u0433\u043e\u0432\u044b\u0445 \u0446\u0435\u043b\u0435\u0439, \u043f\u0440\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u0430\u043a\u0446\u0438\u0439, \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u044f (\u043f\u0435\u0440\u0435\u0441\u044b\u043b\u043a\u0438) \u0441\u0443\u0431\u044a\u0435\u043a\u0442\u0443 \u043b\u044e\u0431\u044b\u0445 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0445 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u043e\u0432, \u0432 \u0442\u043e\u043c \u0447\u0438\u0441\u043b\u0435, \u043e \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0430\u0445 \u0438/\u0438\u043b\u0438 \u0443\u0441\u043b\u0443\u0433\u0430\u0445 \u041a\u043e\u043c\u043f\u0430\u043d\u0438\u0438, \u0430 \u0442\u0430\u043a\u0436\u0435 \u0438\u043d\u044b\u0445 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0439 \u043f\u043e\u0441\u0440\u0435\u0434\u0441\u0442\u0432\u043e\u043c \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u043d\u043e\u0439, \u0444\u0430\u043a\u0441\u0438\u043c\u0438\u043b\u044c\u043d\u043e\u0439 \u0441\u0432\u044f\u0437\u0438, \u0438\u043d\u044b\u0445 \u0432\u0438\u0434\u043e\u0432 \u0441\u0432\u044f\u0437\u0438, \u0430 \u0442\u0430\u043a\u0436\u0435 \u043f\u043e \u043e\u0442\u043a\u0440\u044b\u0442\u044b\u043c \u043a\u0430\u043d\u0430\u043b\u0430\u043c \u0441\u0432\u044f\u0437\u0438 (\u0432 \u0442\u043e\u043c \u0447\u0438\u0441\u043b\u0435 S\u041cS, e- mail, \u0444\u0430\u043a\u0441, \u0441\u043e\u0446\u0438\u0430\u043b\u044c\u043d\u044b\u0435 \u0441\u0435\u0442\u0438 \u0438 \u0442.\u043f.); "),n.Tb(),n.Ub(156,"p"),n.Dc(157," 19) \u0434\u043b\u044f \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u043c\u0430\u0440\u043a\u0435\u0442\u0438\u043d\u0433\u043e\u0432\u044b\u0445 \u0438 \u0440\u0435\u043a\u043b\u0430\u043c\u043d\u044b\u0445 \u0430\u043a\u0446\u0438\u0439, \u0434\u0430\u043b\u044c\u043d\u0435\u0439\u0448\u0435\u0433\u043e \u0431\u0430\u043d\u043a\u043e\u0432\u0441\u043a\u043e\u0433\u043e \u043e\u0431\u0441\u043b\u0443\u0436\u0438\u0432\u0430\u043d\u0438\u044f, \u0441 \u0443\u0447\u0435\u0442\u043e\u043c \u0438\u0441\u0442\u043e\u0440\u0438\u0438 \u043e\u0442\u043d\u043e\u0448\u0435\u043d\u0438\u0439 \u0441\u0443\u0431\u044a\u0435\u043a\u0442\u0430 (\u043e\u0442\u043d\u043e\u0448\u0435\u043d\u0438\u0439 \u043b\u0438\u0446\u0430, \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u0438\u0442\u0435\u043b\u0435\u043c \u043a\u043e\u0442\u043e\u0440\u043e\u0433\u043e \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0441\u0443\u0431\u044a\u0435\u043a\u0442) \u0441 \u041a\u043e\u043c\u043f\u0430\u043d\u0438\u0435\u0439; "),n.Tb(),n.Ub(158,"p"),n.Dc(159," 20) \u0434\u043b\u044f \u0432\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f \u041a\u043e\u043c\u043f\u0430\u043d\u0438\u0438 \u0441 \u0442\u0440\u0435\u0442\u044c\u0438\u043c\u0438 \u043b\u0438\u0446\u0430\u043c\u0438, \u043e\u0441\u0443\u0449\u0435\u0441\u0442\u0432\u043b\u044f\u044e\u0449\u0438\u043c\u0438 \u0441\u0435\u0440\u0432\u0438\u0441\u043d\u043e\u0435 \u043e\u0431\u0441\u043b\u0443\u0436\u0438\u0432\u0430\u043d\u0438\u0435 \u0441\u0443\u0431\u044a\u0435\u043a\u0442\u0430 (\u043b\u0438\u0446\u0430, \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u0438\u0442\u0435\u043b\u0435\u043c \u043a\u043e\u0442\u043e\u0440\u043e\u0433\u043e \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0441\u0443\u0431\u044a\u0435\u043a\u0442) \u0432 \u0440\u0430\u043c\u043a\u0430\u0445 \u0431\u0430\u043d\u043a\u043e\u0432\u0441\u043a\u043e\u0433\u043e \u0438 \u0438\u043d\u043e\u0433\u043e \u043e\u0431\u0441\u043b\u0443\u0436\u0438\u0432\u0430\u043d\u0438\u044f; "),n.Tb(),n.Ub(160,"p"),n.Dc(161," 21) \u0434\u043b\u044f \u0438\u043d\u044b\u0445 \u0446\u0435\u043b\u0435\u0439, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u044b (\u043c\u043e\u0433\u0443\u0442 \u0431\u044b\u0442\u044c \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u044b) \u0437\u0430\u043a\u043e\u043d\u043e\u0434\u0430\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e\u043c \u0420\u0435\u0441\u043f\u0443\u0431\u043b\u0438\u043a\u0438 \u041a\u0430\u0437\u0430\u0445\u0441\u0442\u0430\u043d. "),n.Tb(),n.Tb(),n.Tb(),n.Tb()),2&t&&(n.Cb(6),n.mc("href",e.questionaireFormUrl,n.wc),n.Cb(6),n.mc("href",e.applicationFormUrl,n.wc),n.Cb(7),n.mc("ngForOf",e.ulFiles),n.Cb(5),n.mc("ngForOf",e.flFiles),n.Cb(6),n.mc("ngForOf",e.attachmentFiles),n.Cb(1),n.mc("ngIf",e.loading),n.Cb(3),n.mc("disabled",e.loading||e.signing||e.isReadOnly),n.Cb(5),n.mc("disabled",e.loading||e.signing||e.isReadOnly))},directives:[l.a,we.a,d.b,_t.k,d.a,y.k,y.l,T.b,d.c,zt.a,Vt.a],styles:[".link[_ngcontent-%COMP%]{font-size:14px;color:rgba(0,0,0,.54);white-space:pre-wrap}.link[_ngcontent-%COMP%]:hover{text-decoration:underline}"]}),t})();function wl(t,e){if(1&t&&n.Pb(0,"app-okaps-client-assets",4),2&t){const t=n.gc(2);n.mc("loanApplicationId",t.loanId)("openNextTab",t.openNextTab)}}function kl(t,e){if(1&t&&(n.Ub(0,"mat-tab",11,3),n.Bc(2,wl,1,2,"app-okaps-client-assets",8),n.Tb()),2&t){const t=n.gc();n.mc("disabled",!t.assetsTabEnabled),n.Cb(2),n.mc("ngIf",t.assetsTabEnabled)}}function xl(t,e){if(1&t&&n.Pb(0,"app-okaps-client-extra-details",4),2&t){const t=n.gc(2);n.mc("loanApplicationId",t.loanId)("openNextTab",t.openNextTab)}}function jl(t,e){if(1&t&&(n.Ub(0,"mat-tab",12,3),n.Bc(2,xl,1,2,"app-okaps-client-extra-details",8),n.Tb()),2&t){const t=n.gc();n.mc("disabled",!t.extraDetailsTabEnabled),n.Cb(2),n.mc("ngIf",t.extraDetailsTabEnabled)}}function Pl(t,e){if(1&t&&n.Pb(0,"app-okaps-lizing",4),2&t){const t=n.gc();n.mc("loanApplicationId",t.loanId)("openNextTab",t.openNextTab)}}function Fl(t,e){if(1&t&&n.Pb(0,"app-okaps-application-sign",13),2&t){const t=n.gc();n.mc("loanApplicationId",t.loanId)}}let Rl=(()=>{class t{constructor(t,e,i){this.store=t,this.dialogService=e,this.activateRoute=i,this.isLizingSubmitted=!1,this.assetsTabVisible=!1,this.assetsTabEnabled=!1,this.extraDetailsVisible=!1,this.extraDetailsTabEnabled=!1,this.lizingTabEnabled=!1,this.selected=new U.e(0),this.openNextTab=()=>{this.selected.setValue(this.selected.value+1)}}get signTabEnabled(){return this.assetsTabEnabled&&this.lizingTabEnabled}ngOnInit(){this.subscription=this.activateRoute.params.subscribe(t=>this.loanId=t.id),this.isLizingSubmittedSubscription=this.store.select(t=>t).subscribe(t=>{var e,i,n,a,o,c,s,r,l,b;this.assetsTabEnabled=!Object($t.isEmpty)(null===(i=null===(e=t.client)||void 0===e?void 0:e.details)||void 0===i?void 0:i.id),this.extraDetailsTabEnabled=!Object($t.isEmpty)(null===(a=null===(n=t.client)||void 0===n?void 0:n.details)||void 0===a?void 0:a.id),this.assetsTabVisible=(null===(c=null===(o=t.client)||void 0===o?void 0:o.details)||void 0===c?void 0:c.loanType)===Bt.Express,this.extraDetailsVisible=(null===(r=null===(s=t.client)||void 0===s?void 0:s.details)||void 0===r?void 0:r.loanType)===Bt.Standard,this.lizingTabEnabled=!Object($t.isEmpty)(null===(l=t.assets)||void 0===l?void 0:l.id)||!Object($t.isEmpty)(null===(b=t.clientExtraDetails)||void 0===b?void 0:b.id),this.isLizingSubmitted=t.lizing.submitted})}ngOnDestroy(){this.isLizingSubmitted||this.store.dispatch(at()),this.isLizingSubmittedSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(n.Ob(D.h),n.Ob(u.c),n.Ob(h.a))},t.\u0275cmp=n.Ib({type:t,selectors:[["app-okaps-application"]],decls:13,vars:9,consts:[[1,"mh-400"],["animationDuration","1000ms",3,"selectedIndex","selectedIndexChange"],["label","\u0421\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u043e \u043a\u043b\u0438\u0435\u043d\u0442\u0435"],["tab",""],[3,"loanApplicationId","openNextTab"],["label","\u0410\u043a\u0442\u0438\u0432\u044b",3,"disabled",4,"ngIf"],["label","\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f",3,"disabled",4,"ngIf"],["label","\u0422\u0435\u0445\u043d\u0438\u043a\u0430",3,"disabled"],[3,"loanApplicationId","openNextTab",4,"ngIf"],["label","\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u043d\u0438\u0435",3,"disabled"],[3,"loanApplicationId",4,"ngIf"],["label","\u0410\u043a\u0442\u0438\u0432\u044b",3,"disabled"],["label","\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f",3,"disabled"],[3,"loanApplicationId"]],template:function(t,e){1&t&&(n.Ub(0,"div",0),n.Ub(1,"mat-tab-group",1),n.cc("selectedIndexChange",(function(t){return e.selected.setValue(t)})),n.Ub(2,"mat-tab",2,3),n.Pb(4,"app-okaps-client-details",4),n.Tb(),n.Bc(5,kl,3,2,"mat-tab",5),n.Bc(6,jl,3,2,"mat-tab",6),n.Ub(7,"mat-tab",7,3),n.Bc(9,Pl,1,2,"app-okaps-lizing",8),n.Tb(),n.Ub(10,"mat-tab",9,3),n.Bc(12,Fl,1,1,"app-okaps-application-sign",10),n.Tb(),n.Tb(),n.Tb()),2&t&&(n.Cb(1),n.mc("selectedIndex",e.selected.value),n.Cb(3),n.mc("loanApplicationId",e.loanId)("openNextTab",e.openNextTab),n.Cb(1),n.mc("ngIf",e.assetsTabVisible),n.Cb(1),n.mc("ngIf",e.extraDetailsVisible),n.Cb(1),n.mc("disabled",!e.lizingTabEnabled),n.Cb(2),n.mc("ngIf",e.lizingTabEnabled),n.Cb(1),n.mc("disabled",!e.signTabEnabled),n.Cb(2),n.mc("ngIf",e.signTabEnabled))},directives:[r.b,r.a,tc,y.l,Ks,gl,Ai,Sl],styles:[".example-button-toggle-label[_ngcontent-%COMP%]{display:inline-block;margin:16px}.products-lists[_ngcontent-%COMP%]{display:block;padding:20px 0}.products-lists[_ngcontent-%COMP%]   .products-lists-wrapper[_ngcontent-%COMP%]{border-radius:4px;margin:24px 0;border:1px solid rgba(0,0,0,.2);color:rgba(0,0,0,.87);background:rgba(0,0,0,.01)}.products-card[_ngcontent-%COMP%]{max-width:200px;height:200px}.products-card[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]{font-size:14px;white-space:normal;line-height:normal}.button-row[_ngcontent-%COMP%]{display:table-cell}table[_ngcontent-%COMP%]{width:100%;overflow-x:auto;overflow-y:hidden;min-width:500px}th.mat-header-cell[_ngcontent-%COMP%]{text-align:left;max-width:300px}"]}),t})();const Al=[{path:"",component:Ai},{path:"application",component:Rl},{path:"unauthorized",component:xt},{path:"login",component:wt},{path:"products",component:Ua,canActivate:[Ft]},{path:"products/:id",component:Rl,canActivate:[Ft]}];let Bl=(()=>{class t{}return t.\u0275mod=n.Mb({type:t}),t.\u0275inj=n.Lb({factory:function(e){return new(e||t)},imports:[[h.f.forRoot(Al,{useHash:!0})],h.f]}),t})();var $l=i("KKLh"),Nl=i.n($l);function zl(t,e){if(1&t){const t=n.Vb();n.Ub(0,"div"),n.Ub(1,"div",2),n.Ub(2,"a",8),n.Dc(3),n.Tb(),n.Tb(),n.Ub(4,"div",2),n.Ub(5,"button",9),n.cc("click",(function(){return n.vc(t),n.gc(2).logout()})),n.Dc(6),n.Tb(),n.Tb(),n.Tb()}if(2&t){const t=n.gc().ngIf;n.mc("@fadeIn",void 0),n.Cb(3),n.Ec(t.applications),n.Cb(3),n.Fc(" ",t.logout," ")}}function Ll(t,e){if(1&t){const t=n.Vb();n.Ub(0,"div"),n.Ub(1,"div",2),n.Ub(2,"button",10),n.cc("click",(function(){return n.vc(t),n.gc(2).login()})),n.Dc(3),n.Tb(),n.Tb(),n.Tb()}if(2&t){const t=n.gc().ngIf;n.mc("@fadeIn",void 0),n.Cb(3),n.Fc(" ",t.login," ")}}function El(t,e){if(1&t){const t=n.Vb();n.Ub(0,"mat-button-toggle-group",11),n.cc("change",(function(e){return n.vc(t),n.gc(2).switchLocale(e)})),n.Ub(1,"mat-button-toggle",12),n.Dc(2,"RU"),n.Tb(),n.Ub(3,"mat-button-toggle",13),n.Dc(4,"KZ"),n.Tb(),n.Tb()}2&t&&n.mc("value",e.ngIf)}function Ml(t,e){if(1&t&&(n.Ub(0,"nav",1),n.kc(1),n.Ub(2,"div",2),n.Ub(3,"a",3),n.Dc(4),n.Tb(),n.Tb(),n.Bc(5,zl,7,3,"div",4),n.hc(6,"async"),n.Bc(7,Ll,4,2,"ng-template",null,5,n.Cc),n.Ub(9,"div",6),n.Bc(10,El,5,1,"mat-button-toggle-group",7),n.hc(11,"async"),n.Tb(),n.Tb()),2&t){const t=e.ngIf,i=n.tc(8),a=n.gc();n.Cb(4),n.Ec(t.homePage),n.Cb(1),n.mc("ngIf",n.ic(6,4,a.user$))("ngIfElse",i),n.Cb(5),n.mc("ngIf",n.ic(11,6,a.currentLocale$))}}const Vl=["*"];let ql=(()=>{class t{constructor(t,e,i,n,a,o){this.router=t,this.dialog=e,this.snackbar=i,this.store=n,this.locale=a,this.loader=o,this.register=()=>{this.dialog.open(f.a,{hasBackdrop:!0,disableClose:!0,autoFocus:!1,panelClass:["d-lg","sm-lg","md-lg","lg-md"],data:{method:this.loader.loadOkapsRegisterComponent}})},this.login=()=>{this.router.navigate(["/unauthorized"])},this.logout=()=>{this.store.dispatch(q.logout()),this.snackbar.open("\u0412\u044b\u0445\u043e\u0434 \u0438\u0437 \u0441\u0438\u0441\u0442\u0435\u043c\u044b",null,{duration:1e3}),this.router.navigate(["/"])},this.switchLocale=t=>this.locale.switchLocale(t.value)}ngOnInit(){this.user$=this.store.pipe(Object(D.p)(j.selectUser)),this.locale$=this.locale.navigation().pipe(Object(O.a)(t=>t)),this.currentLocale$=p.b.signal$}}return t.\u0275fac=function(e){return new(e||t)(n.Ob(h.c),n.Ob(u.c),n.Ob(vt.b),n.Ob(D.h),n.Ob(g.a),n.Ob(v.a))},t.\u0275cmp=n.Ib({type:t,selectors:[["app-okaps-navigation"]],ngContentSelectors:Vl,decls:2,vars:3,consts:[["class","d-flex flex-column h-100",4,"ngIf"],[1,"d-flex","flex-column","h-100"],[1,"nav-item","mt-4"],["routerLink","/","mat-button",""],[4,"ngIf","ngIfElse"],["unauthorized",""],[1,"nav-item","mt-auto"],[3,"value","change",4,"ngIf"],["routerLink","/products","mat-button",""],["mat-button","","type","button",3,"click"],["id","login","type","button","mat-button","",3,"click"],[3,"value","change"],["value","ru"],["value","kz"]],template:function(t,e){1&t&&(n.lc(),n.Bc(0,Ml,12,8,"nav",0),n.hc(1,"async")),2&t&&n.mc("ngIf",n.ic(1,1,e.locale$))},directives:[y.l,h.e,T.a,T.b,s.b,s.a],pipes:[y.b],styles:[""],data:{animation:[_.b]},changeDetection:0}),t})();const _l=["drawer"];function Hl(t,e){if(1&t&&(n.Ub(0,"button",11),n.Dc(1),n.Tb()),2&t){const t=e.ngIf;n.mc("@fadeInOut",void 0),n.Cb(1),n.Fc(" ",t.lastName+" "+t.firstName+" "+t.middleName," ")}}let Yl=(()=>{class t{constructor(t,e,i){this.store=t,this.router=e,this.year=(new Date).getFullYear(),jt.injector=i}ngOnInit(){Object(y.w)(Nl.a,"ru"),this.store.dispatch(q.loadFromStorage()),this.user$=this.store.pipe(Object(D.p)(j.selectUser))}ngAfterViewInit(){this.router.events.pipe(Object(O.a)(t=>{t instanceof h.b&&this.drawer.close()})).subscribe()}}return t.\u0275fac=function(e){return new(e||t)(n.Ob(D.h),n.Ob(h.c),n.Ob(n.s))},t.\u0275cmp=n.Ib({type:t,selectors:[["app-root"]],viewQuery:function(t,e){var i;1&t&&n.Jc(_l,!0,c.a),2&t&&n.sc(i=n.dc())&&(e.drawer=i.first)},decls:21,vars:5,consts:[["autosize","",2,"flex-grow","1",3,"hasBackdrop"],["mode","over",1,"p-3"],["drawer",""],["mat-icon-button","","type","button",1,"ml-2","d-block","d-sm-none",3,"click"],[2,"flex-shrink","0"],["mat-icon-button","","type","button",3,"click"],["class","ml-auto d-sm-block d-none","mat-button","","type","button",4,"ngIf"],[1,"container"],[1,"row"],[1,"col-md-12"],["color","primary"],["mat-button","","type","button",1,"ml-auto","d-sm-block","d-none"]],template:function(t,e){if(1&t){const t=n.Vb();n.Ub(0,"mat-drawer-container",0),n.Ub(1,"mat-drawer",1,2),n.Ub(3,"app-okaps-navigation"),n.Ub(4,"button",3),n.cc("click",(function(){return n.vc(t),n.tc(2).close()})),n.Ub(5,"mat-icon"),n.Dc(6,"west"),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Ub(7,"mat-toolbar",4),n.Ub(8,"button",5),n.cc("click",(function(){return n.vc(t),n.tc(2).toggle()})),n.Ub(9,"mat-icon"),n.Dc(10,"dehaze"),n.Tb(),n.Tb(),n.Bc(11,Hl,2,2,"button",6),n.hc(12,"async"),n.Tb(),n.Ub(13,"main",7),n.Ub(14,"div",8),n.Ub(15,"div",9),n.Pb(16,"router-outlet"),n.Tb(),n.Tb(),n.Tb(),n.Ub(17,"footer"),n.Ub(18,"mat-toolbar",10),n.Ub(19,"span"),n.Dc(20),n.Tb(),n.Tb(),n.Tb(),n.Tb()}2&t&&(n.mc("hasBackdrop",!0),n.Cb(11),n.mc("ngIf",n.ic(12,3,e.user$)),n.Cb(9),n.Fc("\xa9 ",e.year," \u0410\u041e \xab\u041a\u0430\u0437\u0430\u0433\u0440\u043e\u0444\u0438\u043d\u0430\u043d\u0441\xbb"))},directives:[c.b,c.a,ql,T.b,we.a,o.a,y.l,h.g],pipes:[y.b],styles:[""],data:{animation:[_.a]}}),t})();var Gl=i("5lCh"),Jl=i("ycWL"),Kl=i("9cQL");const Wl=Object.assign(Object.assign({},{displayedColumns:[],sort:{column:null,direction:""},totalItems:0,pageIndex:0,pageSize:10,items:[]}),{pageSize:20}),Ql=Object(P.b)({name:"applications",initialState:Wl,reducers:{applicationsTableLoaded:(t,e)=>((t,e)=>{const{items:i,totalItems:n}=e.payload;t.items=i,t.totalItems=n})(t,e),applicationsPageChanged:(t,e)=>((t,e)=>{const{pageSize:i,pageIndex:n}=e.payload;t.pageIndex=n,t.pageSize=i})(t,e),applicationsSortChanged:(t,e)=>((t,e)=>{const{active:i,direction:n}=e.payload;t.sort={column:i,direction:n}})(t,e)}});var Xl=Ql.reducer;const Zl=Object(P.a)("applications/loadTable"),{applicationsTableLoaded:tb}=Ql.actions;var eb=i("9EWH");Object(eb.d)();const ib={auth:V,app:Xl,lizing:gt,client:za,assets:fc,clientExtraDetails:dr};var nb=i("cJ9h");let ab=(()=>{class t{constructor(t,e){this.actions$=t,this.service=e,this.login$=Object(Jl.c)(()=>this.actions$.pipe(Object(Jl.d)(this.login.type),Object(Li.a)(({payload:t})=>this.service.login(t).pipe(Object(nb.a)(t=>[this.loggedIn(t),this.loadProfile(t)]),Object(Ei.a)(()=>Object(Ni.a)(this.loginFailure())))))),this.logout$=Object(Jl.c)(()=>this.actions$.pipe(Object(Jl.d)(this.logout.type),Object(O.a)(()=>(this.service.logout(),this.loggedOut())))),this.loadFromStorage$=Object(Jl.c)(()=>this.actions$.pipe(Object(Jl.d)(this.loadFromStorage.type),Object(nb.a)(()=>{const t=this.service.loadFromStorage();return[this.loggedIn(t),this.loadProfile(t)]}))),this.loadProfile$=Object(Jl.c)(()=>this.actions$.pipe(Object(Jl.d)(this.loadProfile.type),Object(Li.a)(({payload:t})=>t?this.service.getProfile().pipe(Object(O.a)(t=>this.setProfile(t.data))):Object(Ni.a)(this.setProfile(null)))))}get login(){return q.login}get logout(){return q.logout}get loadFromStorage(){return q.loadFromStorage}get loggedIn(){return q.loggedIn}get loggedOut(){return q.loggedOut}get loginFailure(){return q.loginFailure}get loadProfile(){return q.loadProfile}get setProfile(){return q.setProfile}}return t.\u0275fac=function(e){return new(e||t)(n.Yb(Jl.a),n.Yb(Pt.a))},t.\u0275prov=n.Kb({token:t,factory:t.\u0275fac}),t})();var ob=i("47ST");let cb=(()=>{class t{constructor(t){this.http=t,this.creditSourcesUrl=a.a.sharedUrl+"/CreditSources",this.processUrl=a.a.sharedUrl+"/LoanApplication",this.getApplications=t=>this.http.post(this.processUrl+"/GetClientApllications",t),this.applicationsTable=t=>{return this.http.get(`${this.processUrl}/GetClientApllications${e=t,`?pageIndex=${e.pageIndex}&pageSize=${e.pageSize}&column=${(t=>t.column?t.column[0].toUpperCase()+t.column.substr(1):"Id")(e)}&direction=${(t=>t.direction||"asc")(e)}`}`);var e},this.startProcess=t=>this.http.post(this.processUrl+"/StartApplication",t),this.CreateProcess=t=>{const e=JSON.stringify(t),i=new yt.d({"Content-Type":"application/json"});return this.http.post(this.processUrl+"/CreateStatusTempApplication",e,{headers:i}).pipe(Object(Ei.a)(this.handleError.bind(this)))}}getProducts(){return this.http.get(this.creditSourcesUrl+"/").pipe(Object(O.a)(t=>t.map(t=>t)))}GetApplications(){return this.http.get(this.processUrl+"/GetApplications")}DeleteApplications(t){return this.http.get(`${this.processUrl}/DeleteApplication/${t}`)}handleError(t){return t.error instanceof ErrorEvent?console.error("Client Side Error :",t.error.message):console.error("Server Side Error :",t),Object(ob.a)("There is a problem with the service.We are notified & working on it.Please try again later.")}test(){return console.log(this.processUrl+"/Test"),this.http.post(this.processUrl+"/Test","")}}return t.\u0275fac=function(e){return new(e||t)(n.Yb(yt.b))},t.\u0275prov=n.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),sb=(()=>{class t{constructor(t,e){this.actions$=t,this.service=e,this.loadTable$=Object(Jl.c)(()=>this.actions$.pipe(Object(Jl.d)(Zl.type),Object(Li.a)(({payload:t})=>this.service.applicationsTable(Object.assign({},t)).pipe(Object(O.a)(e=>tb(Object.assign(Object.assign({},e),t)))))))}}return t.\u0275fac=function(e){return new(e||t)(n.Yb(Jl.a),n.Yb(cb))},t.\u0275prov=n.Kb({token:t,factory:t.\u0275fac}),t})();var rb=i("easA");let lb=(()=>{class t extends class{constructor(t,e,i){this.auth=t,this.selectClaimsOnce=e,this.injector=i,this.store=i.get(D.h)}intercept(t,e){return this.selectClaimsOnce(this.store).pipe(Object(Li.a)(i=>{const n=this.auth.token();return n&&i&&(t=t.clone({setHeaders:{Authorization:"Bearer "+n}})),e.handle(t)}))}}{constructor(t){super(t,j.selectClaimsOnce,jt.injector)}}return t.\u0275fac=function(e){return new(e||t)(n.Yb(Pt.a))},t.\u0275prov=n.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var bb=i("6Oco");let db=(()=>{class t extends class{constructor(t,e,i){this.auth=t,this.logout=e,this.injector=i,this._signal$=new I.a,this.unauthorizedUrl="/unauthorized",this.snackbarLifeTime=7e3,this.handleExchangeResult=(t,e,i)=>{if("boolean"==typeof t&&!t)return this._signal$.pipe(Object(S.a)(1),Object(Li.a)(t=>t&&t.accessToken?(e=this.cloneRequestWith(e,t.accessToken),i.handle(e)):Object(bb.b)()));if("object"==typeof t&&t){const{accessToken:n}=t;return this._signal$.next({accessToken:n}),e=this.cloneRequestWith(e,n),i.handle(e)}return this._signal$.next(null),this.tokenExpired()},this.cloneRequestWith=(t,e)=>t.clone({setHeaders:{Authorization:"Bearer "+e}}),this.tokenExpired=()=>(this.snackbar.open("\u0412\u0430\u0448\u0430 \u0441\u0435\u0441\u0441\u0438\u044f \u0437\u0430\u043a\u043e\u043d\u0447\u0438\u043b\u0430\u0441\u044c",null,{duration:this.snackbarLifeTime}),this.store.dispatch(this.logout()),this.router.navigate([this.unauthorizedUrl]),Object(bb.b)()),this.store=i.get(D.h),this.router=i.get(h.c),this.snackbar=i.get(vt.b)}intercept(t,e){return e.handle(t).pipe(Object(Ei.a)(i=>{const{status:n,error:a,headers:o}=i;switch(n){case 500:this.snackbar.open("\u0412\u043e\u0437\u043d\u0438\u043a\u043b\u0430 \u043d\u0435\u043f\u0440\u0435\u0434\u0432\u0438\u0434\u0435\u043d\u043d\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430.","\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c",{duration:this.snackbarLifeTime});break;case 400:return this.snackbar.open("Message"in a?a.Message:"\u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445","\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c",{duration:this.snackbarLifeTime}),Object(ob.a)(i);case 401:return"true"===o.get("X-Token-Expired")?this.auth.exchangeRefreshToken().pipe(Object(Li.a)(i=>this.handleExchangeResult(i,t,e))):(this.snackbar.open("\u041d\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u0430 \u043a \u0434\u0430\u043d\u043d\u043e\u043c\u0443 \u0440\u0435\u0441\u0443\u0440\u0441\u0443",null,{duration:this.snackbarLifeTime}),this.router.navigate(["/"]),Object(bb.b)());case 403:return this.tokenExpired()}return Object(ob.a)(i)}))}}{constructor(t){super(t,q.logout,jt.injector)}}return t.\u0275fac=function(e){return new(e||t)(n.Yb(Pt.a))},t.\u0275prov=n.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var ub=i("etrl"),mb=i("/VsW");let hb=(()=>{class t{constructor(){}exportAsExcelFile(t,e){const i=mb.utils.json_to_sheet(t),n=mb.write({Sheets:{data:i},SheetNames:["data"]},{bookType:"xlsx",type:"array"});this.saveAsExcelFile(n,e)}saveAsExcelFile(t,e){const i=new Blob([t],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});ub.saveAs(i,e+"_exported.xlsx")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=n.Kb({token:t,factory:t.\u0275fac}),t})(),pb=(()=>{class t{constructor(t){this.http=t,this.url=a.a.sharedUrl+"/ClientProfile",this.processUrl=a.a.sharedUrl+"/LoanApplication",this.clientProfile=()=>this.http.get(this.url+"/GetCurrentUserProfile/"),this.branchAdress=()=>this.http.get(this.url+"/GetBranchAdressCurrentUser/"),this.SaveClientSelectedTechs=t=>{console.log(JSON.stringify(t));const e=JSON.stringify(t),i=new yt.d({"Content-Type":"application/json"});return this.http.post(this.processUrl+"/TechInApplication",e,{headers:i}).pipe(Object(Ei.a)(this.handleError.bind(this)))},this.SaveClientDetails=t=>{console.log(JSON.stringify(t));const e=JSON.stringify(t),i=new yt.d({"Content-Type":"application/json"});return this.http.post(this.processUrl+"/ClientDetailsInApplication",e,{headers:i}).pipe(Object(Ei.a)(this.handleError.bind(this)))},this.SaveClientActivity=t=>{const e=JSON.stringify(t),i=new yt.d({"Content-Type":"application/json"});return this.http.post(this.processUrl+"/ActivityInApplication",e,{headers:i}).pipe(Object(Ei.a)(this.handleError.bind(this)))},this.UpdateClientDetails=t=>{console.log(JSON.stringify(t));const e=JSON.stringify(t),i=new yt.d({"Content-Type":"application/json"});return this.http.post(this.processUrl+"/UpdateClientDetailsInApplication",e,{headers:i}).pipe(Object(Ei.a)(this.handleError.bind(this)))},this.UpdateClientActivity=t=>{console.log(JSON.stringify(t));const e=JSON.stringify(t),i=new yt.d({"Content-Type":"application/json"});return this.http.post(this.processUrl+"/UpdateActivityInApplication",e,{headers:i}).pipe(Object(Ei.a)(this.handleError.bind(this)))}}GetAppTechsByAppLoanId(t){return this.http.get(`${this.processUrl}/GetAppTechsByAppLoanId/${t}`)}GetStepbyApp(t){return this.http.get(`${this.processUrl}/GetStep/${t}`)}GetFloraActivitiesByReg(t){return this.http.get(`${this.processUrl}/GetFloraCultureByRegionId/${t}`)}GetCLientActives(t){return this.http.get(`${this.processUrl}/GetCLientActives/${t}`)}GetCLientAnketa(t){return this.http.get(`${this.processUrl}/GetAnketaByLoanAppId/${t}`,{responseType:"blob"})}GetCLientZayav(t){return this.http.get(`${this.processUrl}/GetStatementByLoanAppId/${t}`,{responseType:"blob"})}GetCLientDetails(t){return this.http.get(`${this.processUrl}/GetClientDetails/${t}`)}CompleteLoanApp(t){return this.http.get(`${this.processUrl}/CompleteLoanApp/${t}`)}handleError(t){return t.error instanceof ErrorEvent?console.error("Client Side Error :",t.error.message):console.error("Server Side Error :",t),Object(ob.a)("There is a problem with the service.We are notified & working on it.Please try again later.")}}return t.\u0275fac=function(e){return new(e||t)(n.Yb(yt.b))},t.\u0275prov=n.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),fb=(()=>{class t{constructor(t,e){this.api=t,this.activateRoute=e,this.subscription=e.params.subscribe(t=>this.loanId=t.id)}resolve(t,e){return this.api.GetAppTechsByAppLoanId(t.paramMap.get("id"))}}return t.\u0275fac=function(e){return new(e||t)(n.Yb(pb),n.Yb(h.a))},t.\u0275prov=n.Kb({token:t,factory:t.\u0275fac}),t})(),gb=(()=>{class t{constructor(){this.changes=new I.a,this.firstPageLabel="\u041f\u0435\u0440\u0432\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430",this.itemsPerPageLabel="\u042d\u043b\u0435\u043c\u0435\u043d\u0442\u043e\u0432 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435:",this.lastPageLabel="\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u044f\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430",this.nextPageLabel="\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430",this.previousPageLabel="\u041f\u0440\u0435\u0434\u044b\u0434\u0443\u044e\u0449\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430"}getRangeLabel(t,e,i){return 0===i?"\u0421\u0442\u0440. 1 \u0438\u0437 1":`\u0421\u0442\u0440. ${t+1} \u0438\u0437 ${Math.ceil(i/e)}`}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=n.Kb({token:t,factory:t.\u0275fac}),t})(),vb=(()=>{class t{}return t.\u0275mod=n.Mb({type:t,bootstrap:[Yl]}),t.\u0275inj=n.Lb({factory:function(e){return new(e||t)},providers:[{provide:vt.a,useValue:{duration:2e3,horizontalPosition:"right",verticalPosition:"top"}},{provide:u.b,useValue:{hasBackdrop:!0}},{provide:$i.b,useClass:gb},{provide:yt.a,useClass:lb,multi:!0},{provide:yt.a,useClass:db,multi:!0},[fb],[hb]],imports:[[rb.a,yt.c,Bl,Gl.b,qt.b,D.j.forRoot(ib),Jl.b.forRoot([ab,sb]),Kl.a.instrument({maxAge:25}),c.c,o.b,s.c,r.c,l.b,le.c,b.c,d.d,u.g,m.b.forRoot(null)],m.b]}),t})();var Tb=i("e4iD");a.a.production&&Object(n.T)(),Tb.d().bootstrapModule(vb).catch(t=>console.error(t))},zn8P:function(t,e){function i(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}i.keys=function(){return[]},i.resolve=i,t.exports=i,i.id="zn8P"}},[[1,0,6]]]);