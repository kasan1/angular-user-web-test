<bpm-application [showSendButton]="false" [showinWorkButton]="false">
    <div class="ml-lg-3 w-100" actions>    
        
        <form [formGroup]="form">
            <h3>Принятие кредитной заявки</h3>
            <div class="border mat-elevation-z4 p-5">
                
                <div class="row mb-3 mb-lg-0">
                    <div class="col-lg-4 col-12 mb-3 mb-lg-0 pt-lg-3"> Персональные данные Заемщика </div>
                    <div class="col-lg-4 col-12 mb-3 mb-lg-0 pt-lg-3 text-lg-center"> 
                      <mat-radio-group aria-label="Выберите" formControlName="clientDataAccept" required>
                        <mat-radio-button value="true" color="primary">Соответствует</mat-radio-button>
                        <mat-radio-button value="false">На доработку</mat-radio-button>
                      </mat-radio-group>
                    </div>
                    <div class="col-lg-4 col-12 mb-3 mb-lg-0"> 
                        <mat-form-field appearance="fill">
                            <mat-label>Примечание</mat-label>
                            <textarea
                              matInput
                              [required] = "form.value.clientDataAccept=='false'"
                              [readonly] = "form.value.clientDataAccept"
                              cdkTextareaAutosize
                              #autosize="cdkTextareaAutosize"
                              cdkAutosizeMinRows="1"
                              cdkAutosizeMaxRows="5"
                              placeholder="дополнительная информация"
                              formControlName="clientDataRemark"
                            ></textarea>
                          </mat-form-field>
                    </div>            
                </div>

                <div class="row mb-3 mb-lg-0 align-middle">
                    <div class="col-lg-4 col-12 mb-3 mb-lg-0 pt-lg-3"> Залогодатель </div>
                    <div class="col-lg-4 col-12 mb-3 mb-lg-0 pt-lg-3 text-lg-center"> 
                      <mat-radio-group aria-label="Выберите" formControlName="chargeeAccept" required>
                        <mat-radio-button value="true" color="primary">Соответствует</mat-radio-button>
                        <mat-radio-button value="false">На доработку</mat-radio-button>
                      </mat-radio-group>
                    </div>
                    <div class="col-lg-4 col-12 mb-3 mb-lg-0"> 
                        <mat-form-field appearance="fill">
                            <mat-label>Примечание</mat-label>
                            <textarea
                              matInput
                              [required] = "form.value.chargeeAccept=='false'"
                              [readonly] = "form.value.chargeeAccept"
                              cdkTextareaAutosize
                              #autosize="cdkTextareaAutosize"
                              cdkAutosizeMinRows="1"
                              cdkAutosizeMaxRows="5"
                              placeholder="дополнительная информация"
                              formControlName="chargeeRemark"
                            ></textarea>
                          </mat-form-field>
                    </div>           
                </div>
                <div class="row mb-3 mb-lg-0">
                    <div class="col-lg-4 col-12 mb-3 mb-lg-0 pt-lg-3"> Обеспечение </div>
                    <div class="col-lg-4 col-12 mb-3 mb-lg-0 pt-lg-3 text-lg-center"> 
                      <mat-radio-group aria-label="Выберите" formControlName="pledgesAccept" required>
                        <mat-radio-button value="true" color="primary">Соответствует</mat-radio-button>
                        <mat-radio-button value="false">На доработку</mat-radio-button>
                      </mat-radio-group>
                    </div>
                    <div class="col-lg-4 col-12 mb-3 mb-lg-0"> 
                        <mat-form-field appearance="fill">
                            <mat-label>Примечание</mat-label>
                            <textarea
                              matInput
                              [required] = "form.value.pledgesAccept=='false'"
                              [readonly] = "form.value.pledgesAccept"
                              cdkTextareaAutosize
                              #autosize="cdkTextareaAutosize"
                              cdkAutosizeMinRows="1"
                              cdkAutosizeMaxRows="5"
                              placeholder="дополнительная информация"
                              formControlName="pledgesRemark"
                            ></textarea>
                          </mat-form-field>
                    </div>   
                </div>
                
                <div class="row mb-3 mb-lg-0">
                    <div class="col-lg-4 col-12 mb-3 mb-lg-0 pt-lg-3"> Документы по проекту </div>
                    <div class="col-lg-4 col-12 mb-3 mb-lg-0 pt-lg-3 text-lg-center"> 
                      <mat-radio-group aria-label="Выберите" formControlName="documentsAccept" required>
                        <mat-radio-button value="true" color="primary">Соответствует</mat-radio-button>
                        <mat-radio-button value="false">На доработку</mat-radio-button>
                      </mat-radio-group>
                    </div>
                    <div class="col-lg-4 col-12 mb-3 mb-lg-0"> 
                        <mat-form-field appearance="fill">
                            <mat-label>Примечание</mat-label>
                            <textarea
                              matInput
                              [required] = "form.value.documentsAccept=='false'"
                              [readonly] = "form.value.documentsAccept"
                              cdkTextareaAutosize
                              #autosize="cdkTextareaAutosize"
                              cdkAutosizeMinRows="1"
                              cdkAutosizeMaxRows="5"
                              placeholder="дополнительная информация"
                              formControlName="documentsRemark"
                            ></textarea>
                          </mat-form-field>
                    </div>   
                </div>

                <div class="row mt-3 d-flex">                    
                    <button mat-raised-button                    
                      [disabled] = "form.value.clientDataAccept=='true' 
                                && form.value.chargeeAccept=='true' 
                                && form.value.pledgesAccept=='true' 
                                && form.value.documentsAccept=='true'"
                      (click)="rework()"
                    >Отправить на доработку</button>
                    <button mat-raised-button 
                      
                      [disabled] = "form.value.clientDataAccept=='false' 
                                  || form.value.chargeeAccept=='false' 
                                  || form.value.pledgesAccept=='false' 
                                  || form.value.documentsAccept=='false'"
                      color="primary" 
                      class="ml-auto"
                      (click)="approve()"> Проверено
                    </button>
                </div>
            </div>
        </form>
    </div>
</bpm-application>